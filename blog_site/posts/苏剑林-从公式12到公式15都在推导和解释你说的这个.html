<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäº”ï¼‰ï¼šä¸€èˆ¬æ¡†æ¶ä¹‹SDEç¯‡</title>
    <style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    line-height: 1.6; color: #333; max-width: 900px; margin: 0 auto; padding: 20px; background: #f5f5f5;
}
.container { background: white; padding: 40px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
header { border-bottom: 2px solid #e0e0e0; padding-bottom: 20px; margin-bottom: 30px; }
h1 { color: #2c3e50; margin-bottom: 10px; font-size: 2em; }
.meta { color: #666; font-size: 0.9em; margin-bottom: 20px; }
.content { margin-top: 30px; overflow-wrap: break-word; }
.content h2 { color: #34495e; margin-top: 30px; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
.content p { margin-bottom: 15px; }
.content pre { background: #f8f8f8; padding: 15px; border-radius: 5px; overflow-x: auto; border-left: 3px solid #3498db; margin: 15px 0; }
.content code { background: #f8f8f8; padding: 2px 5px; border-radius: 3px; font-family: monospace; font-size: 0.9em; }
.content blockquote { border-left: 4px solid #3498db; padding-left: 20px; margin: 20px 0; color: #555; font-style: italic; }
.content table { border-collapse: collapse; width: 100%; margin: 20px 0; }
.content th, .content td { border: 1px solid #ddd; padding: 10px; text-align: left; }
.back-link { display: inline-block; margin-bottom: 20px; color: #3498db; text-decoration: none; font-weight: 500; }
</style>
    
<script>
    window.MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\(', '\)']],
            displayMath: [['$$', '$$'], ['\[', '\]']],
            processEscapes: true
        }
    };
</script>
<script id="MathJax-script" async src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
        <header>
            <h1>ç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäº”ï¼‰ï¼šä¸€èˆ¬æ¡†æ¶ä¹‹SDEç¯‡</h1>
            <div class="meta">ğŸ“… æœ€åæ›´æ–°: 2025-12-31 | ğŸ“„ å¤§å°: 22.7 KB</div>
        </header>
        <div class="content">
            <p><strong>åŸæ–‡é“¾æ¥</strong>: <a href="https://spaces.ac.cn/archives/9209">https://spaces.ac.cn/archives/9209</a></p>
<p><strong>å‘å¸ƒæ—¥æœŸ</strong>: </p>
<hr />
<p>åœ¨å†™<a href="/search/%E7%94%9F%E6%88%90%E6%89%A9%E6%95%A3%E6%A8%A1%E5%9E%8B/">ç”Ÿæˆæ‰©æ•£æ¨¡å‹</a>çš„ç¬¬ä¸€ç¯‡æ–‡ç« æ—¶ï¼Œå°±æœ‰è¯»è€…åœ¨è¯„è®ºåŒºæ¨èäº†å®‹é£åšå£«çš„è®ºæ–‡<a href="https://papers.cool/arxiv/2011.13456">ã€ŠScore-Based Generative Modeling through Stochastic Differential Equationsã€‹</a>ï¼Œå¯ä»¥è¯´è¯¥è®ºæ–‡æ„å»ºäº†ä¸€ä¸ªç›¸å½“ä¸€èˆ¬åŒ–çš„ç”Ÿæˆæ‰©æ•£æ¨¡å‹ç†è®ºæ¡†æ¶ï¼Œå°†DDPMã€SDEã€ODEç­‰è¯¸å¤šç»“æœè”ç³»äº†èµ·æ¥ã€‚è¯šç„¶ï¼Œè¿™æ˜¯ä¸€ç¯‡å¥½è®ºæ–‡ï¼Œä½†å¹¶ä¸æ˜¯ä¸€ç¯‡é€‚åˆåˆå­¦è€…çš„è®ºæ–‡ï¼Œé‡Œè¾¹ç›´æ¥ç”¨åˆ°äº†éšæœºå¾®åˆ†æ–¹ç¨‹ï¼ˆSDEï¼‰ã€Fokker-Planckæ–¹ç¨‹ã€å¾—åˆ†åŒ¹é…ç­‰å¤§é‡ç»“æœï¼Œä¸Šæ‰‹éš¾åº¦è¿˜æ˜¯é¢‡å¤§çš„ã€‚</p>
<p>ä¸è¿‡ï¼Œåœ¨ç»è¿‡äº†å‰å››ç¯‡æ–‡ç« çš„ç§¯ç´¯åï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å°è¯•å»å­¦ä¹ ä¸€ä¸‹è¿™ç¯‡è®ºæ–‡äº†ã€‚åœ¨æ¥ä¸‹æ¥çš„æ–‡ç« ä¸­ï¼Œç¬”è€…å°†å°è¯•ä»å°½å¯èƒ½å°‘çš„ç†è®ºåŸºç¡€å‡ºå‘ï¼Œå°½é‡å¤ç°åŸè®ºæ–‡ä¸­çš„æ¨å¯¼ç»“æœã€‚</p>
<h2 id="_1">éšæœºå¾®åˆ†</h2>
<p>åœ¨DDPMä¸­ï¼Œæ‰©æ•£è¿‡ç¨‹è¢«åˆ’åˆ†ä¸ºäº†å›ºå®šçš„$T$æ­¥ï¼Œè¿˜æ˜¯ç”¨<a href="/archives/9119">ã€Šç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆä¸€ï¼‰ï¼šDDPM = æ‹†æ¥¼ + å»ºæ¥¼ã€‹</a>çš„ç±»æ¯”æ¥è¯´ï¼Œå°±æ˜¯â€œæ‹†æ¥¼â€å’Œâ€œå»ºæ¥¼â€éƒ½è¢«äº‹å…ˆåˆ’åˆ†ä¸ºäº†$T$æ­¥ï¼Œè¿™ä¸ªåˆ’åˆ†æœ‰ç€ç›¸å½“å¤§çš„äººä¸ºæ€§ã€‚äº‹å®ä¸Šï¼ŒçœŸå®çš„â€œæ‹†â€ã€â€œå»ºâ€è¿‡ç¨‹åº”è¯¥æ˜¯æ²¡æœ‰åˆ»æ„åˆ’åˆ†çš„æ­¥éª¤çš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬ç†è§£ä¸ºä¸€ä¸ªåœ¨æ—¶é—´ä¸Šè¿ç»­çš„å˜æ¢è¿‡ç¨‹ï¼Œå¯ä»¥ç”¨éšæœºå¾®åˆ†æ–¹ç¨‹ï¼ˆStochastic Differential Equationï¼ŒSDEï¼‰æ¥æè¿°ã€‚</p>
<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬ç”¨ä¸‹è¿°SDEæè¿°å‰å‘è¿‡ç¨‹ï¼ˆâ€œæ‹†æ¥¼â€ï¼‰ï¼š<br />
\begin{equation}d\boldsymbol{x} = \boldsymbol{f}<em t="t" t_Delta="t+\Delta">t(\boldsymbol{x}) dt + g_t d\boldsymbol{w}\label{eq:sde-forward}\end{equation}<br />
ç›¸ä¿¡å¾ˆå¤šè¯»è€…éƒ½å¯¹SDEå¾ˆé™Œç”Ÿï¼Œç¬”è€…ä¹Ÿåªæ˜¯åœ¨ç¡•å£«é˜¶æ®µåˆšå¥½æ¥è§¦è¿‡ä¸€æ®µæ—¶é—´ï¼Œç•¥æ‡‚çš®æ¯›ã€‚ä¸è¿‡ä¸æ‡‚ä¸è¦ç´§ï¼Œæˆ‘ä»¬åªéœ€è¦å°†å®ƒçœ‹æˆæ˜¯ä¸‹è¿°ç¦»æ•£å½¢å¼åœ¨$\Delta t\to 0$æ—¶çš„æé™ï¼š<br />
\begin{equation}\boldsymbol{x}</em>} - \boldsymbol{x}_t = \boldsymbol{f}_t(\boldsymbol{x}_t) \Delta t + g_t \sqrt{\Delta t}\boldsymbol{\varepsilon},\quad \boldsymbol{\varepsilon}\sim \mathcal{N}(\boldsymbol{0}, \boldsymbol{I})\label{eq:sde-discrete}\end{equation<br />
å†ç›´ç™½ä¸€ç‚¹ï¼Œå¦‚æœå‡è®¾æ‹†æ¥¼éœ€è¦$1$å¤©ï¼Œé‚£ä¹ˆæ‹†æ¥¼å°±æ˜¯$\boldsymbol{x}$ä»$t=0$åˆ°$t=1$çš„å˜åŒ–è¿‡ç¨‹ï¼Œæ¯ä¸€å°æ­¥çš„å˜åŒ–æˆ‘ä»¬å¯ä»¥ç”¨ä¸Šè¿°æ–¹ç¨‹æè¿°ã€‚è‡³äºæ—¶é—´é—´éš”$\Delta t$ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰åšç‰¹æ®Šé™åˆ¶ï¼Œåªæ˜¯è¶Šå°çš„$\Delta t$æ„å‘³ç€æ˜¯å¯¹åŸå§‹SDEè¶Šå¥½çš„è¿‘ä¼¼ï¼Œå¦‚æœå–$\Delta t=0.001$ï¼Œé‚£å°±å¯¹åº”äºåŸæ¥çš„$T=1000$ï¼Œå¦‚æœæ˜¯$\Delta t = 0.01$åˆ™å¯¹åº”äº$T=100$ï¼Œç­‰ç­‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è¿ç»­æ—¶é—´çš„SDEè§†è§’ä¹‹ä¸‹ï¼Œä¸åŒçš„$T$æ˜¯SDEä¸åŒçš„ç¦»æ•£åŒ–ç¨‹åº¦çš„ä½“ç°ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨åœ°å¯¼è‡´ç›¸ä¼¼çš„ç»“æœï¼Œæˆ‘ä»¬ä¸éœ€è¦äº‹å…ˆæŒ‡å®š$T$ï¼Œè€Œæ˜¯æ ¹æ®å®é™…æƒ…å†µä¸‹çš„ç²¾ç¡®åº¦æ¥å–é€‚å½“çš„$T$è¿›è¡Œæ•°å€¼è®¡ç®—ã€‚</p>
<p>æ‰€ä»¥ï¼Œå¼•å…¥SDEå½¢å¼æ¥æè¿°æ‰©æ•£æ¨¡å‹çš„æœ¬è´¨å¥½å¤„æ˜¯â€œå°†ç†è®ºåˆ†æå’Œä»£ç å®ç°åˆ†ç¦»å¼€æ¥â€ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©è¿ç»­æ€§SDEçš„æ•°å­¦å·¥å…·å¯¹å®ƒåšåˆ†æï¼Œè€Œå®è·µçš„æ—¶å€™ï¼Œåˆ™åªéœ€è¦ç”¨ä»»æ„é€‚å½“çš„ç¦»æ•£åŒ–æ–¹æ¡ˆå¯¹SDEè¿›è¡Œæ•°å€¼è®¡ç®—ã€‚</p>
<p>å¯¹äºå¼$\eqref{eq:sde-discrete}$ï¼Œè¯»è€…å¯èƒ½æ¯”è¾ƒæœ‰ç–‘æƒ‘çš„æ˜¯ä¸ºä»€ä¹ˆå³ç«¯ç¬¬ä¸€é¡¹æ˜¯$\mathcal{O}(\Delta t)$çš„ï¼Œè€Œç¬¬äºŒé¡¹æ˜¯$\mathcal{O}(\sqrt{\Delta t})$çš„ï¼Ÿä¹Ÿå°±æ˜¯è¯´ä¸ºä»€ä¹ˆéšæœºé¡¹çš„é˜¶è¦æ¯”ç¡®å®šé¡¹çš„é˜¶è¦é«˜ï¼Ÿè¿™ä¸ªè¿˜çœŸä¸æ˜¯é‚£ä¹ˆå®¹æ˜“è§£é‡Šï¼Œä¹Ÿæ˜¯SDEæ¯”è¾ƒè®©äººè¿·æƒ‘çš„åœ°æ–¹ä¹‹ä¸€ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯$\boldsymbol{\varepsilon}$ä¸€ç›´æœä»æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œå¦‚æœéšæœºé¡¹çš„æƒé‡ä¹Ÿæ˜¯$\mathcal{O}(\Delta t)$ï¼Œé‚£ä¹ˆç”±äºæ ‡å‡†æ­£æ€åˆ†å¸ƒçš„å‡å€¼ä¸º$\boldsymbol{0}$ã€åæ–¹å·®ä¸º$ \boldsymbol{I}$ï¼Œä¸´è¿‘çš„éšæœºæ•ˆåº”ä¼šç›¸äº’æŠµæ¶ˆæ‰ï¼Œè¦æ”¾å¤§åˆ°$\mathcal{O}(\sqrt{\Delta t})$æ‰èƒ½åœ¨é•¿æœŸç»“æœä¸­ä½“ç°å‡ºéšæœºæ•ˆåº”çš„ä½œç”¨ã€‚</p>
<h2 id="_2">é€†å‘æ–¹ç¨‹</h2>
<p>ç”¨æ¦‚ç‡çš„è¯­è¨€ï¼Œå¼$\eqref{eq:sde-discrete}$æ„å‘³ç€æ¡ä»¶æ¦‚ç‡ä¸º<br />
\begin{equation}\begin{aligned}<br />
p(\boldsymbol{x}<em t="t" t_Delta="t+\Delta">{t+\Delta t}|\boldsymbol{x}_t) =&amp;\, \mathcal{N}\left(\boldsymbol{x}</em>};\boldsymbol{x<em t="t" t_Delta="t+\Delta">t + \boldsymbol{f}_t(\boldsymbol{x}_t) \Delta t, g_t^2\Delta t \,\boldsymbol{I}\right)\\\<br />
\propto&amp;\, \exp\left(-\frac{\Vert\boldsymbol{x}</em>} - \boldsymbol{x<em t="t" t_Delta="t+\Delta">t - \boldsymbol{f}_t(\boldsymbol{x}_t) \Delta t\Vert^2}{2 g_t^2\Delta t}\right)<br />
\end{aligned}\label{eq:sde-proba}\end{equation}<br />
ç®€å•èµ·è§ï¼Œè¿™é‡Œæ²¡æœ‰å†™å‡ºæ— å…³ç´§è¦çš„å½’ä¸€åŒ–å› å­ã€‚æŒ‰ç…§DDPMçš„æ€æƒ³ï¼Œæˆ‘ä»¬æœ€ç»ˆæ˜¯æƒ³è¦ä»â€œæ‹†æ¥¼â€çš„è¿‡ç¨‹ä¸­å­¦ä¼šâ€œå»ºæ¥¼â€ï¼Œå³å¾—åˆ°$p(\boldsymbol{x}_t|\boldsymbol{x}</em>)$ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬åƒ<a href="/archives/9164">ã€Šç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆä¸‰ï¼‰ï¼šDDPM = è´å¶æ–¯ + å»å™ªã€‹</a>ä¸€æ ·ï¼Œç”¨è´å¶æ–¯å®šç†ï¼š<br />
\begin{equation}\begin{aligned}<br />
p(\boldsymbol{x}<em t="t" t_Delta="t+\Delta">t|\boldsymbol{x}</em>}) =&amp;\, \frac{p(\boldsymbol{x<em t="t" t_Delta="t+\Delta">{t+\Delta t}|\boldsymbol{x}_t)p(\boldsymbol{x}_t)}{p(\boldsymbol{x}</em>})} = p(\boldsymbol{x<em t="t" t_Delta="t+\Delta">{t+\Delta t}|\boldsymbol{x}_t) \exp\left(\log p(\boldsymbol{x}_t) - \log p(\boldsymbol{x}</em>)\right)\\\<br />
\propto&amp;\, \exp\left(-\frac{\Vert\boldsymbol{x}<em t="t" t_Delta="t+\Delta">{t+\Delta t} - \boldsymbol{x}_t - \boldsymbol{f}_t(\boldsymbol{x}_t) \Delta t\Vert^2}{2 g_t^2\Delta t} + \log p(\boldsymbol{x}_t) - \log p(\boldsymbol{x}</em>)\right)<br />
\end{aligned}\label{eq:bayes-dt}\end{equation}<br />
ä¸éš¾å‘ç°ï¼Œå½“$\Delta t$è¶³å¤Ÿå°æ—¶ï¼Œåªæœ‰å½“$\boldsymbol{x}<em t="t" t_Delta="t+\Delta">{t+\Delta t}$ä¸$\boldsymbol{x}_t$è¶³å¤Ÿæ¥è¿‘æ—¶ï¼Œ$p(\boldsymbol{x}</em>}|\boldsymbol{x<em t="t" t_Delta="t+\Delta">t)$æ‰ä¼šæ˜æ˜¾ä¸ç­‰äº0ï¼Œåè¿‡æ¥ä¹Ÿåªæœ‰è¿™ç§æƒ…å†µä¸‹$p(\boldsymbol{x}_t|\boldsymbol{x}</em>})$æ‰ä¼šæ˜æ˜¾ä¸ç­‰äº0ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦å¯¹$\boldsymbol{x<em t="t" t_Delta="t+\Delta">{t+\Delta t}$ä¸$\boldsymbol{x}_t$è¶³å¤Ÿæ¥è¿‘æ—¶çš„æƒ…å½¢åšè¿‘ä¼¼åˆ†æï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ³°å‹’å±•å¼€ï¼š<br />
\begin{equation}\log p(\boldsymbol{x}</em>})\approx \log p(\boldsymbol{x<em t="t" t_Delta="t+\Delta">t) + (\boldsymbol{x}</em>} - \boldsymbol{x<em _boldsymbol_x="\boldsymbol{x">t)\cdot \nabla</em><em t="t" t_Delta="t+\Delta">t}\log p(\boldsymbol{x}_t) + \Delta t \frac{\partial}{\partial t}\log p(\boldsymbol{x}_t)\end{equation}<br />
æ³¨æ„ä¸è¦å¿½ç•¥äº†$\frac{\partial}{\partial t}$é¡¹ï¼Œå› ä¸º$p(\boldsymbol{x}_t)$å®é™…ä¸Šæ˜¯â€œ$t$æ—¶åˆ»éšæœºå˜é‡ç­‰äº$\boldsymbol{x}_t$çš„æ¦‚ç‡å¯†åº¦â€ï¼Œè€Œ$p(\boldsymbol{x}</em>})$å®é™…ä¸Šæ˜¯â€œ$t+\Delta t$æ—¶åˆ»éšæœºå˜é‡ç­‰äº$\boldsymbol{x<em t="t" t_Delta="t+\Delta">{t+\Delta t}$çš„æ¦‚ç‡å¯†åº¦â€ï¼Œä¹Ÿå°±æ˜¯è¯´$p(\boldsymbol{x}_t)$å®é™…ä¸ŠåŒæ—¶æ˜¯$t$å’Œ$\boldsymbol{x}_t$çš„å‡½æ•°ï¼Œæ‰€ä»¥è¦å¤šä¸€é¡¹$t$çš„åå¯¼æ•°ã€‚ä»£å…¥åˆ°å¼$\eqref{eq:bayes-dt}$åï¼Œé…æ–¹å¾—åˆ°<br />
\begin{equation}p(\boldsymbol{x}_t|\boldsymbol{x}</em>}) \propto \exp\left(-\frac{\Vert\boldsymbol{x<em _boldsymbol_x="\boldsymbol{x">{t+\Delta t} - \boldsymbol{x}_t - \left[\boldsymbol{f}_t(\boldsymbol{x}_t) - g_t^2\nabla</em><em t="t" t_Delta="t+\Delta">t}\log p(\boldsymbol{x}_t) \right]\Delta t\Vert^2}{2 g_t^2\Delta t} + \mathcal{O}(\Delta t)\right)\end{equation}<br />
å½“$\Delta t\to 0$æ—¶ï¼Œ$\mathcal{O}(\Delta t)\to 0$ä¸èµ·ä½œç”¨ï¼Œå› æ­¤<br />
\begin{equation}\begin{aligned}<br />
p(\boldsymbol{x}_t|\boldsymbol{x}</em>}) \propto&amp;\, \exp\left(-\frac{\Vert\boldsymbol{x<em _boldsymbol_x="\boldsymbol{x">{t+\Delta t} - \boldsymbol{x}_t - \left[\boldsymbol{f}_t(\boldsymbol{x}_t) - g_t^2\nabla</em><em t="t" t_Delta="t+\Delta">t}\log p(\boldsymbol{x}_t) \right]\Delta t\Vert^2}{2 g_t^2\Delta t}\right) \\\<br />
\approx&amp;\,\exp\left(-\frac{\Vert \boldsymbol{x}_t - \boldsymbol{x}</em>} + \left[\boldsymbol{f<em t="t" t_Delta="t+\Delta">{t+\Delta t}(\boldsymbol{x}</em>}) - g_{t+\Delta t}^2\nabla_{\boldsymbol{x<em t="t" t_Delta="t+\Delta">{t+\Delta t}}\log p(\boldsymbol{x}</em>\right)}) \right]\Delta t\Vert^2}{2 g_{t+\Delta t}^2\Delta t<br />
\end{aligned}\end{equation}<br />
å³$p(\boldsymbol{x}<em t="t" t_Delta="t+\Delta">t|\boldsymbol{x}</em>})$è¿‘ä¼¼ä¸€ä¸ªå‡å€¼ä¸º$\boldsymbol{x<em t="t" t_Delta="t+\Delta">{t+\Delta t} - \left[\boldsymbol{f}</em>}(\boldsymbol{x<em t="t" t_Delta="t+\Delta">{t+\Delta t}) - g</em>}^2\nabla_{\boldsymbol{x<em t="t" t_Delta="t+\Delta">{t+\Delta t}}\log p(\boldsymbol{x}</em>$çš„æ­£æ€åˆ†å¸ƒï¼Œå–$\Delta t\to 0$çš„æé™ï¼Œé‚£ä¹ˆå¯¹åº”äºSDEï¼š}) \right]\Delta t$ã€åæ–¹å·®ä¸º$g_{t+\Delta t}^2\Delta t\,\boldsymbol{I<br />
\begin{equation}d\boldsymbol{x} = \left[\boldsymbol{f}<em _boldsymbol_x="\boldsymbol{x">t(\boldsymbol{x}) - g_t^2\nabla</em>}}\log p_t(\boldsymbol{x}) \right] dt + g_t d\boldsymbol{w}\label{eq:reverse-sde}\end{equation<br />
è¿™å°±æ˜¯åå‘è¿‡ç¨‹å¯¹åº”çš„SDEï¼Œæœ€æ—©å‡ºç°åœ¨<a href="https://www.sciencedirect.com/science/article/pii/0304414982900515">ã€ŠReverse-Time Diffusion Equation Modelsã€‹</a>ä¸­ã€‚è¿™é‡Œæˆ‘ä»¬ç‰¹æ„åœ¨$p$å¤„æ ‡æ³¨äº†ä¸‹æ ‡$t$ï¼Œä»¥çªå‡ºè¿™æ˜¯$t$æ—¶åˆ»çš„åˆ†å¸ƒã€‚</p>
<h2 id="_3">å¾—åˆ†åŒ¹é…</h2>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»å¾—åˆ°äº†é€†å‘çš„SDEä¸º$\eqref{eq:reverse-sde}$ï¼Œå¦‚æœè¿›ä¸€æ­¥çŸ¥é“$\nabla_{\boldsymbol{x}}\log p_t(\boldsymbol{x})$ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡ç¦»æ•£åŒ–æ ¼å¼<br />
\begin{equation}\boldsymbol{x}<em t="t" t_Delta="t+\Delta">t - \boldsymbol{x}</em>} = - \left[\boldsymbol{f<em t="t" t_Delta="t+\Delta">{t+\Delta t}(\boldsymbol{x}</em>}) - g_{t+\Delta t}^2\nabla_{\boldsymbol{x<em t="t" t_Delta="t+\Delta">{t+\Delta t}}\log p(\boldsymbol{x}</em>}) \right]\Delta t - g_{t+\Delta t} \sqrt{\Delta t}\boldsymbol{\varepsilon}\label{eq:reverse-sde-discrete}\end{equation<br />
æ¥é€æ­¥å®Œæˆâ€œå»ºæ¥¼â€çš„ç”Ÿæˆè¿‡ç¨‹ã€å…¶ä¸­$\boldsymbol{\varepsilon}\sim \mathcal{N}(\boldsymbol{0}, \boldsymbol{I})$ã€‘ï¼Œä»è€Œå®Œæˆä¸€ä¸ªç”Ÿæˆæ‰©æ•£æ¨¡å‹çš„æ„å»ºã€‚</p>
<p>é‚£ä¹ˆå¦‚ä½•å¾—åˆ°$\nabla_{\boldsymbol{x}}\log p_t(\boldsymbol{x})$å‘¢ï¼Ÿ$t$æ—¶åˆ»çš„$p_t(\boldsymbol{x})$å°±æ˜¯å‰é¢çš„$p(\boldsymbol{x}<em 0="0" _Delta="\Delta" t_to="t\to">t)$ï¼Œå®ƒçš„å«ä¹‰å°±æ˜¯$t$æ—¶åˆ»çš„è¾¹ç¼˜åˆ†å¸ƒã€‚åœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šè®¾è®¡èƒ½æ‰¾åˆ°$p(\boldsymbol{x}_t|\boldsymbol{x}_0)$è§£æè§£çš„æ¨¡å‹ï¼Œè¿™æ„å‘³ç€<br />
\begin{equation}\small p(\boldsymbol{x}_t|\boldsymbol{x}_0) = \lim</em>}\int\cdots\iint p(\boldsymbol{x<em t="t" t-_Delta="t-\Delta">t|\boldsymbol{x}</em>})p(\boldsymbol{x<em t="t" t-2_Delta="t-2\Delta">{t-\Delta t}|\boldsymbol{x}</em>})\cdots p(\boldsymbol{x<em t="t" t-_Delta="t-\Delta">{\Delta t}|\boldsymbol{x}_0) d\boldsymbol{x}</em>} d\boldsymbol{x<em _Delta="\Delta" t="t">{t-2\Delta t}\cdots d\boldsymbol{x}</em>}\end{equation<br />
æ˜¯å¯ä»¥ç›´æ¥æ±‚å‡ºçš„ï¼Œæ¯”å¦‚å½“$\boldsymbol{f}<em _boldsymbol_x="\boldsymbol{x">t(\boldsymbol{x})$æ˜¯å…³äº$\boldsymbol{x}$çš„çº¿æ€§å‡½æ•°æ—¶ï¼Œ$p(\boldsymbol{x}_t|\boldsymbol{x}_0)$å°±å¯ä»¥è§£ææ±‚è§£ã€‚åœ¨æ­¤å‰æä¸‹ï¼Œæœ‰<br />
\begin{equation}p(\boldsymbol{x}_t) = \int p(\boldsymbol{x}_t|\boldsymbol{x}_0)\tilde{p}(\boldsymbol{x}_0)d\boldsymbol{x}_0=\mathbb{E}</em><em _boldsymbol_x="\boldsymbol{x">0}\left[p(\boldsymbol{x}_t|\boldsymbol{x}_0)\right]\end{equation}<br />
äºæ˜¯<br />
\begin{equation}\nabla</em><em _boldsymbol_x="\boldsymbol{x">t}\log p(\boldsymbol{x}_t) = \frac{\mathbb{E}</em><em _boldsymbol_x="\boldsymbol{x">0}\left[\nabla</em><em _boldsymbol_x="\boldsymbol{x">t} p(\boldsymbol{x}_t|\boldsymbol{x}_0)\right]}{\mathbb{E}</em><em _boldsymbol_x="\boldsymbol{x">0}\left[p(\boldsymbol{x}_t|\boldsymbol{x}_0)\right]} = \frac{\mathbb{E}</em><em _boldsymbol_x="\boldsymbol{x">0}\left[p(\boldsymbol{x}_t|\boldsymbol{x}_0)\nabla</em><em _boldsymbol_x="\boldsymbol{x">t} \log p(\boldsymbol{x}_t|\boldsymbol{x}_0)\right]}{\mathbb{E}</em><em _boldsymbol_x="\boldsymbol{x">0}\left[p(\boldsymbol{x}_t|\boldsymbol{x}_0)\right]}\end{equation}<br />
å¯ä»¥çœ‹åˆ°æœ€åçš„å¼å­å…·æœ‰â€œ$\nabla</em><em _boldsymbol_theta="\boldsymbol{\theta">t} \log p(\boldsymbol{x}_t|\boldsymbol{x}_0)$çš„åŠ æƒå¹³å‡â€çš„å½¢å¼ï¼Œç”±äºå‡è®¾äº†$p(\boldsymbol{x}_t|\boldsymbol{x}_0)$æœ‰è§£æè§£ï¼Œå› æ­¤ä¸Šå¼å®é™…ä¸Šæ˜¯èƒ½å¤Ÿç›´æ¥ä¼°ç®—çš„ï¼Œç„¶è€Œå®ƒæ¶‰åŠåˆ°å¯¹å…¨ä½“è®­ç»ƒæ ·æœ¬$\boldsymbol{x}_0$çš„å¹³å‡ï¼Œä¸€æ¥è®¡ç®—é‡å¤§ï¼ŒäºŒæ¥æ³›åŒ–èƒ½åŠ›ä¹Ÿä¸å¤Ÿå¥½ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¸Œæœ›ç”¨ç¥ç»ç½‘ç»œå­¦ä¸€ä¸ªå‡½æ•°$\boldsymbol{s}</em>}}(\boldsymbol{x<em _boldsymbol_x="\boldsymbol{x">t, t)$ï¼Œä½¿å¾—å®ƒèƒ½å¤Ÿç›´æ¥è®¡ç®—$\nabla</em>_t)$ã€‚}_t}\log p(\boldsymbol{x</p>
<p>å¾ˆå¤šè¯»è€…åº”è¯¥å¯¹å¦‚ä¸‹ç»“æœå¹¶ä¸é™Œç”Ÿï¼ˆæˆ–è€…æ¨å¯¼ä¸€éä¹Ÿä¸å›°éš¾ï¼‰ï¼š<br />
\begin{equation}\mathbb{E}[\boldsymbol{x}] = \mathop{\text{argmin}}<em _boldsymbol_x="\boldsymbol{x">{\boldsymbol{\mu}}\mathbb{E}</em>}}\left[\Vert \boldsymbol{\mu} - \boldsymbol{x}\Vert^2\right]\end{equation<br />
å³è¦è®©$\boldsymbol{\mu}$ç­‰äº$\boldsymbol{x}$çš„å‡å€¼ï¼Œåªéœ€è¦æœ€å°åŒ–$\Vert \boldsymbol{\mu} - \boldsymbol{x}\Vert^2$çš„å‡å€¼ã€‚åŒç†ï¼Œè¦è®©$\boldsymbol{s}<em _boldsymbol_x="\boldsymbol{x">{\boldsymbol{\theta}}(\boldsymbol{x}_t, t)$ç­‰äº$\nabla</em><em _boldsymbol_x="\boldsymbol{x">t} \log p(\boldsymbol{x}_t|\boldsymbol{x}_0)$çš„åŠ æƒå¹³å‡ã€å³$\nabla</em><em _boldsymbol_theta="\boldsymbol{\theta">t}\log p(\boldsymbol{x}_t)$ã€‘ï¼Œåˆ™åªéœ€è¦æœ€å°åŒ–$\left\Vert \boldsymbol{s}</em>}}(\boldsymbol{x<em _boldsymbol_x="\boldsymbol{x">t, t) - \nabla</em><em _boldsymbol_x="\boldsymbol{x">t} \log p(\boldsymbol{x}_t|\boldsymbol{x}_0)\right\Vert^2$çš„åŠ æƒå¹³å‡ï¼Œå³<br />
\begin{equation} \frac{\mathbb{E}</em><em _boldsymbol_theta="\boldsymbol{\theta">0}\left[p(\boldsymbol{x}_t|\boldsymbol{x}_0)\left\Vert \boldsymbol{s}</em>}}(\boldsymbol{x<em _boldsymbol_x="\boldsymbol{x">t, t) - \nabla</em><em _boldsymbol_x="\boldsymbol{x">t} \log p(\boldsymbol{x}_t|\boldsymbol{x}_0)\right\Vert^2\right]}{\mathbb{E}</em><em _boldsymbol_x="\boldsymbol{x">0}\left[p(\boldsymbol{x}_t|\boldsymbol{x}_0)\right]}\end{equation}<br />
åˆ†æ¯çš„$\mathbb{E}</em><em _boldsymbol_x="\boldsymbol{x">0}\left[p(\boldsymbol{x}_t|\boldsymbol{x}_0)\right]$åªæ˜¯èµ·åˆ°è°ƒèŠ‚Lossæƒé‡çš„ä½œç”¨ï¼Œç®€å•èµ·è§æˆ‘ä»¬å¯ä»¥ç›´æ¥å»æ‰å®ƒï¼Œè¿™ä¸ä¼šå½±å“æœ€ä¼˜è§£çš„ç»“æœã€‚æœ€åæˆ‘ä»¬å†å¯¹$\boldsymbol{x}_t$ç§¯åˆ†ï¼ˆç›¸å½“äºå¯¹äºæ¯ä¸€ä¸ª$\boldsymbol{x}_t$éƒ½è¦æœ€å°åŒ–ä¸Šè¿°æŸå¤±ï¼‰ï¼Œå¾—åˆ°æœ€ç»ˆçš„æŸå¤±å‡½æ•°<br />
\begin{equation}\begin{aligned}&amp;\,\int \mathbb{E}</em><em _boldsymbol_theta="\boldsymbol{\theta">0}\left[p(\boldsymbol{x}_t|\boldsymbol{x}_0)\left\Vert \boldsymbol{s}</em>}}(\boldsymbol{x<em _boldsymbol_x="\boldsymbol{x">t, t) - \nabla</em><em _boldsymbol_x="\boldsymbol{x">t} \log p(\boldsymbol{x}_t|\boldsymbol{x}_0)\right\Vert^2\right] d\boldsymbol{x}_t \\\<br />
=&amp;\, \mathbb{E}</em><em _boldsymbol_theta="\boldsymbol{\theta">0,\boldsymbol{x}_t \sim p(\boldsymbol{x}_t|\boldsymbol{x}_0)\tilde{p}(\boldsymbol{x}_0)}\left[\left\Vert \boldsymbol{s}</em>}}(\boldsymbol{x<em _boldsymbol_x="\boldsymbol{x">t, t) - \nabla</em>_0)\right\Vert^2\right]}_t} \log p(\boldsymbol{x}_t|\boldsymbol{x<br />
\end{aligned}\label{eq:score-match}\end{equation}<br />
è¿™å°±æ˜¯â€œï¼ˆæ¡ä»¶ï¼‰å¾—åˆ†åŒ¹é…â€çš„æŸå¤±å‡½æ•°ï¼Œä¹‹å‰æˆ‘ä»¬åœ¨<a href="/archives/7038">ã€Šä»å»å™ªè‡ªç¼–ç å™¨åˆ°ç”Ÿæˆæ¨¡å‹ã€‹</a>æ¨å¯¼çš„å»å™ªè‡ªç¼–ç å™¨çš„è§£æè§£ï¼Œä¹Ÿæ˜¯å®ƒçš„ä¸€ä¸ªç‰¹ä¾‹ã€‚å¾—åˆ†åŒ¹é…çš„æœ€æ—©å‡ºå¤„å¯ä»¥è¿½æº¯åˆ°2005å¹´çš„è®ºæ–‡<a href="https://www.jmlr.org/papers/v6/hyvarinen05a.html">ã€ŠEstimation of Non-Normalized Statistical Models by Score Matchingã€‹</a>ï¼Œè‡³äºæ¡ä»¶å¾—åˆ†åŒ¹é…çš„æœ€æ—©å‡ºå¤„ï¼Œç¬”è€…è¿½æº¯åˆ°çš„æ˜¯2011å¹´çš„è®ºæ–‡<a href="https://www.iro.umontreal.ca/~vincentp/Publications/DenoisingScoreMatching_NeuralComp2011.pdf">ã€ŠA Connection Between Score Matching and Denoising Autoencodersã€‹</a>ã€‚</p>
<p>ä¸è¿‡ï¼Œè™½ç„¶è¯¥ç»“æœè·Ÿå¾—åˆ†åŒ¹é…æ˜¯ä¸€æ ·çš„ï¼Œä½†å…¶å®åœ¨è¿™ä¸€èŠ‚çš„æ¨å¯¼ä¸­ï¼Œæˆ‘ä»¬å·²ç»æŠ›å¼€äº†â€œå¾—åˆ†â€çš„æ¦‚å¿µäº†ï¼Œçº¯ç²¹æ˜¯ç”±ç›®æ ‡è‡ªç„¶åœ°å¼•å¯¼å‡ºæ¥çš„ç­”æ¡ˆï¼Œç¬”è€…è®¤ä¸ºè¿™æ ·çš„å¤„ç†è¿‡ç¨‹æ›´æœ‰å¯å‘æ€§ï¼Œå¸Œæœ›è¿™ä¸€æ¨å¯¼èƒ½é™ä½å¤§å®¶å¯¹å¾—åˆ†åŒ¹é…çš„ç†è§£éš¾åº¦ã€‚</p>
<h2 id="_4">ç»“æœå€’æ¨</h2>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬æ„å»ºäº†ç”Ÿæˆæ‰©æ•£æ¨¡å‹çš„ä¸€èˆ¬æµç¨‹ï¼š</p>
<blockquote>
<p>1ã€é€šè¿‡éšæœºå¾®åˆ†æ–¹ç¨‹$\eqref{eq:sde-forward}$å®šä¹‰â€œæ‹†æ¥¼â€ï¼ˆå‰å‘è¿‡ç¨‹ï¼‰ï¼›</p>
<p>2ã€æ±‚$p(\boldsymbol{x}_t|\boldsymbol{x}_0)$çš„è¡¨è¾¾å¼ï¼›</p>
<p>3ã€é€šè¿‡æŸå¤±å‡½æ•°$\eqref{eq:score-match}$è®­ç»ƒ$\boldsymbol{s}_{\boldsymbol{\theta}}(\boldsymbol{x}_t, t)$ï¼ˆå¾—åˆ†åŒ¹é…ï¼‰ï¼›</p>
<p>4ã€ç”¨$\boldsymbol{s}<em _boldsymbol_x="\boldsymbol{x">{\boldsymbol{\theta}}(\boldsymbol{x}_t, t)$æ›¿æ¢å¼$\eqref{eq:reverse-sde}$çš„$\nabla</em>)$ï¼Œå®Œæˆâ€œå»ºæ¥¼â€ï¼ˆåå‘è¿‡ç¨‹ï¼‰ã€‚}}\log p_t(\boldsymbol{x</p>
</blockquote>
<p>å¯èƒ½å¤§å®¶çœ‹åˆ°SDEã€å¾®åˆ†æ–¹ç¨‹ç­‰å­—çœ¼ï¼Œå¤©ç„¶å°±è§‰å¾—â€œææ…Œâ€ï¼Œä½†æœ¬è´¨ä¸Šæ¥è¯´ï¼ŒSDEåªæ˜¯ä¸ªâ€œå¹Œå­â€ï¼Œå®é™…ä¸Šå°†å¯¹SDEçš„ç†è§£è½¬æ¢åˆ°å¼$\eqref{eq:sde-discrete}$å’Œå¼$\eqref{eq:sde-proba}$ä¸Šåï¼Œå®Œå…¨å°±å¯ä»¥æŠ›å¼€SDEçš„æ¦‚å¿µäº†ï¼Œå› æ­¤æ¦‚å¿µä¸Šå…¶å®æ˜¯æ²¡æœ‰å¤ªå¤§éš¾åº¦çš„ã€‚</p>
<p>ä¸éš¾å‘ç°ï¼Œå®šä¹‰ä¸€ä¸ªéšæœºå¾®åˆ†æ–¹ç¨‹$\eqref{eq:sde-forward}$æ˜¯å¾ˆå®¹æ˜“çš„ï¼Œä½†æ˜¯ä»$\eqref{eq:sde-forward}$æ±‚è§£$p(\boldsymbol{x}_t|\boldsymbol{x}_0)$å´æ˜¯ä¸å®¹æ˜“çš„ã€‚åŸè®ºæ–‡çš„å‰©ä½™ç¯‡å¹…ï¼Œä¸»è¦æ˜¯å¯¹ä¸¤ä¸ªæœ‰å®ç”¨æ€§çš„ä¾‹å­æ¨å¯¼å’Œå®éªŒã€‚ç„¶è€Œï¼Œæ—¢ç„¶æ±‚è§£$p(\boldsymbol{x}_t|\boldsymbol{x}_0)$ä¸å®¹æ˜“ï¼Œé‚£ä¹ˆæŒ‰ç…§ç¬”è€…çš„çœ‹æ³•ï¼Œä¸å…¶å…ˆå®šä¹‰$\eqref{eq:sde-forward}$å†æ±‚è§£$p(\boldsymbol{x}_t|\boldsymbol{x}_0)$ï¼Œå€’ä¸å¦‚åƒ<a href="/archives/9181">DDIM</a>ä¸€æ ·ï¼Œå…ˆå®šä¹‰$p(\boldsymbol{x}_t|\boldsymbol{x}_0)$ï¼Œç„¶åå†æ¥åæ¨å¯¹åº”çš„SDEï¼Ÿ</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å…ˆå®šä¹‰<br />
\begin{equation} p(\boldsymbol{x}_t|\boldsymbol{x}_0) = \mathcal{N}(\boldsymbol{x}_t; \bar{\alpha}_t \boldsymbol{x}_0,\bar{\beta}_t^2 \boldsymbol{I})\end{equation}<br />
å¹¶ä¸”ä¸å¤±ä¸€èˆ¬æ€§å‡è®¾èµ·ç‚¹æ˜¯$t=0$ï¼Œç»ˆç‚¹æ˜¯$t=1$ï¼Œé‚£ä¹ˆ$\bar{\alpha}_t,\bar{\beta}_t$è¦æ»¡è¶³çš„è¾¹ç•Œå°±æ˜¯<br />
\begin{equation} \bar{\alpha}_0 = 1,\quad \bar{\alpha}_1 = 0,\quad \bar{\beta}_0 = 0,\quad \bar{\beta}_1 = 1\end{equation}<br />
å½“ç„¶ï¼Œä¸Šè¿°è¾¹ç•Œæ¡ä»¶ç†è®ºä¸Šè¶³å¤Ÿè¿‘ä¼¼å°±è¡Œï¼Œä¹Ÿä¸ä¸€å®šéè¦ç²¾ç¡®ç›¸ç­‰ï¼Œæ¯”å¦‚ä¸Šä¸€ç¯‡æ–‡ç« æˆ‘ä»¬åˆ†æè¿‡DDPMç›¸å½“äºé€‰æ‹©äº†$\bar{\alpha}_t = e^{-5t^2}$ï¼Œå½“$t=1$æ—¶ç»“æœä¸º$e^{-5}\approx 0$ã€‚</p>
<p>æœ‰äº†$p(\boldsymbol{x}<em t="t" t_Delta="t+\Delta">t|\boldsymbol{x}_0)$ï¼Œæˆ‘ä»¬å»åæ¨$\eqref{eq:sde-forward}$ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯è¦æ±‚è§£$p(\boldsymbol{x}</em>}|\boldsymbol{x<em t="t" t_Delta="t+\Delta">t)$ï¼Œå®ƒè¦æ»¡è¶³<br />
\begin{equation} p(\boldsymbol{x}</em>}|\boldsymbol{x<em t="t" t_Delta="t+\Delta">0) = \int p(\boldsymbol{x}</em>}|\boldsymbol{x<em t="t" t_Delta="t+\Delta">t) p(\boldsymbol{x}_t|\boldsymbol{x}_0) d\boldsymbol{x}_t\end{equation}<br />
æˆ‘ä»¬è€ƒè™‘çº¿æ€§çš„è§£ï¼Œå³<br />
\begin{equation}d\boldsymbol{x} = f_t\boldsymbol{x} dt + g_t d\boldsymbol{w}\end{equation}<br />
è·Ÿ<a href="/archives/9181#%E5%BE%85%E5%AE%9A%E7%B3%BB%E6%95%B0">ã€Šç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆå››ï¼‰ï¼šDDIM = é«˜è§‚ç‚¹DDPMã€‹</a>ä¸€æ ·ï¼Œæˆ‘ä»¬å†™å‡º<br />
\begin{array}{c|c|c}<br />
\hline<br />
\text{è®°å·} &amp; \text{å«ä¹‰} &amp; \text{é‡‡æ ·}\\\<br />
\hline<br />
p(\boldsymbol{x}</em>}|\boldsymbol{x<em t="t" t_Delta="t+\Delta">0) &amp; \mathcal{N}(\boldsymbol{x}_t;\bar{\alpha}</em>} \boldsymbol{x<em t="t" t_Delta="t+\Delta">0,\bar{\beta}</em>}^2 \boldsymbol{I}) &amp; \boldsymbol{x<em t="t" t_Delta="t+\Delta">{t+\Delta t} = \bar{\alpha}</em>} \boldsymbol{x<em t="t" t_Delta="t+\Delta">0 + \bar{\beta}</em> \\\} \boldsymbol{\varepsilon<br />
\hline<br />
p(\boldsymbol{x}<em t="t" t_Delta="t+\Delta">t|\boldsymbol{x}_0) &amp; \mathcal{N}(\boldsymbol{x}_t;\bar{\alpha}_t \boldsymbol{x}_0,\bar{\beta}_t^2 \boldsymbol{I}) &amp; \boldsymbol{x}_t = \bar{\alpha}_t \boldsymbol{x}_0 + \bar{\beta}_t \boldsymbol{\varepsilon}_1 \\\<br />
\hline<br />
p(\boldsymbol{x}</em>}|\boldsymbol{x<em t="t" t_Delta="t+\Delta">t) &amp; \mathcal{N}(\boldsymbol{x}</em>}; (1 + f_t\Delta t) \boldsymbol{x<em t="t" t_Delta="t+\Delta">t, g_t^2 \Delta t\, \boldsymbol{I}) &amp; \boldsymbol{x}</em>} = (1 + f_t\Delta t) \boldsymbol{x<em t="t" t_Delta="t+\Delta">t + g_t\sqrt{\Delta t}\boldsymbol{\varepsilon}_2 \\\<br />
\hline<br />
{\begin{array}{c}\int p(\boldsymbol{x}</em>}|\boldsymbol{x<em t="t" t_Delta="t+\Delta">t) \\\<br />
p(\boldsymbol{x}_t|\boldsymbol{x}_0) d\boldsymbol{x}_t\end{array}} &amp; &amp; {\begin{aligned}&amp;\,\boldsymbol{x}</em> \\\<br />
=&amp;\, (1 + f_t\Delta t) \boldsymbol{x}<em t="t" t_Delta="t+\Delta">t + g_t\sqrt{\Delta t} \boldsymbol{\varepsilon}_2 \\\<br />
=&amp;\, (1 + f_t\Delta t) (\bar{\alpha}_t \boldsymbol{x}_0 + \bar{\beta}_t \boldsymbol{\varepsilon}_1) + g_t\sqrt{\Delta t} \boldsymbol{\varepsilon}_2 \\\<br />
=&amp;\, (1 + f_t\Delta t) \bar{\alpha}_t \boldsymbol{x}_0 + ((1 + f_t\Delta t)\bar{\beta}_t \boldsymbol{\varepsilon}_1 + g_t\sqrt{\Delta t} \boldsymbol{\varepsilon}_2) \\\<br />
\end{aligned}} \\\<br />
\hline<br />
\end{array}<br />
ç”±æ­¤å¯å¾—<br />
\begin{equation}\begin{aligned}<br />
\bar{\alpha}</em>} =&amp;\, (1 + f_t\Delta t) \bar{\alpha<em t="t" t_Delta="t+\Delta">t \\\<br />
\bar{\beta}</em>_t^2 + g_t^2\Delta t}^2 =&amp;\, (1 + f_t\Delta t)^2\bar{\beta<br />
\end{aligned}\end{equation}<br />
ä»¤$\Delta t\to 0$ï¼Œåˆ†åˆ«è§£å¾—<br />
\begin{equation}<br />
f_t = \frac{d}{dt} \left(\ln \bar{\alpha}_t\right) = \frac{1}{\bar{\alpha}_t}\frac{d\bar{\alpha}_t}{dt}, \quad g_t^2 = \bar{\alpha}_t^2 \frac{d}{dt}\left(\frac{\bar{\beta}_t^2}{\bar{\alpha}_t^2}\right) = 2\bar{\alpha}_t \bar{\beta}_t \frac{d}{dt}\left(\frac{\bar{\beta}_t}{\bar{\alpha}_t}\right)\end{equation}<br />
å–$\bar{\alpha}_t\equiv 1$æ—¶ï¼Œç»“æœå°±æ˜¯è®ºæ–‡ä¸­çš„VE-SDEï¼ˆVariance Exploding SDEï¼‰ï¼›è€Œå¦‚æœå–$\bar{\alpha}_t^2 + \bar{\beta}_t^2=1$æ—¶ï¼Œç»“æœå°±æ˜¯åŸè®ºæ–‡ä¸­çš„VP-SDEï¼ˆVariance Preserving SDEï¼‰ã€‚</p>
<p>è‡³äºæŸå¤±å‡½æ•°ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥ç®—å¾—<br />
\begin{equation}\nabla_{\boldsymbol{x}<em _boldsymbol_theta="\boldsymbol{\theta">t} \log p(\boldsymbol{x}_t|\boldsymbol{x}_0) = -\frac{\boldsymbol{x}_t - \bar{\alpha}_t\boldsymbol{x}_0}{\bar{\beta}_t^2}=-\frac{\boldsymbol{\varepsilon}}{\bar{\beta}_t}\end{equation}<br />
ç¬¬äºŒä¸ªç­‰å·æ˜¯å› ä¸º$\boldsymbol{x}_t = \bar{\alpha}_t\boldsymbol{x}_0 + \bar{\beta}_t\boldsymbol{\varepsilon}$ï¼Œä¸ºäº†è·Ÿä»¥å¾€çš„ç»“æœå¯¹é½ï¼Œæˆ‘ä»¬è®¾$\boldsymbol{s}</em>}}(\boldsymbol{x<em _boldsymbol_theta="\boldsymbol{\theta">t, t) = -\frac{\boldsymbol{\epsilon}</em>}}(\boldsymbol{x<em _boldsymbol_x="\boldsymbol{x">t, t)}{\bar{\beta}_t}$ï¼Œæ­¤æ—¶å¼$\eqref{eq:score-match}$ä¸º<br />
\begin{equation}\frac{1}{\bar{\beta}_t^2}\mathbb{E}</em><em _boldsymbol_theta="\boldsymbol{\theta">0\sim \tilde{p}(\boldsymbol{x}_0),\boldsymbol{\varepsilon}\sim\mathcal{N}(\boldsymbol{0},\boldsymbol{I})}\left[\left\Vert \boldsymbol{\epsilon}</em>}}(\bar{\alpha<em _boldsymbol_theta="\boldsymbol{\theta">t\boldsymbol{x}_0 + \bar{\beta}_t\boldsymbol{\varepsilon}, t) - \boldsymbol{\varepsilon}\right\Vert^2\right]\end{equation}<br />
å¿½ç•¥ç³»æ•°åå°±æ˜¯DDPMçš„æŸå¤±å‡½æ•°ï¼Œè€Œç”¨$-\frac{\boldsymbol{\epsilon}</em>}}(\boldsymbol{x<em t="t" t_Delta="t+\Delta">{t+\Delta t}, t+\Delta t)}{\bar{\beta}</em>}}$æ›¿æ¢æ‰å¼$\eqref{eq:reverse-sde-discrete}$çš„$\nabla_{\boldsymbol{x<em t="t" t_Delta="t+\Delta">{t+\Delta t}}\log p(\boldsymbol{x}</em>)$åï¼Œç»“æœä¸DDPMçš„é‡‡æ ·è¿‡ç¨‹å…·æœ‰ç›¸åŒçš„ä¸€é˜¶è¿‘ä¼¼ï¼ˆæ„å‘³ç€$\Delta t\to 0$æ—¶ä¸¤è€…ç­‰ä»·ï¼‰ã€‚</p>
<h2 id="_5">æ–‡ç« å°ç»“</h2>
<p>æœ¬æ–‡ä¸»è¦ä»‹ç»äº†å®‹é£åšå£«å»ºç«‹çš„åˆ©ç”¨SDEç†è§£æ‰©æ•£æ¨¡å‹çš„ä¸€èˆ¬æ¡†æ¶ï¼Œå…¶ä¸­åŒ…æ‹¬ä»¥å°½å¯èƒ½ç›´è§‚çš„è¯­è¨€æ¨å¯¼äº†åå‘SDEã€å¾—åˆ†åŒ¹é…ç­‰ç»“æœï¼Œå¹¶å¯¹æ–¹ç¨‹çš„æ±‚è§£ç»™å‡ºäº†è‡ªå·±çš„æƒ³æ³•ã€‚</p>
<p><em><strong>è½¬è½½åˆ°è¯·åŒ…æ‹¬æœ¬æ–‡åœ°å€ï¼š</strong><a href="https://spaces.ac.cn/archives/9209">https://spaces.ac.cn/archives/9209</a></em></p>
<p><em><strong>æ›´è¯¦ç»†çš„è½¬è½½äº‹å®œè¯·å‚è€ƒï¼š</strong></em><a href="https://spaces.ac.cn/archives/6508#%E6%96%87%E7%AB%A0%E5%A6%82%E4%BD%95%E8%BD%AC%E8%BD%BD/%E5%BC%95%E7%94%A8" title="ã€Šç§‘å­¦ç©ºé—´FAQã€‹">ã€Šç§‘å­¦ç©ºé—´FAQã€‹</a></p>
<p><strong>å¦‚æœæ‚¨è¿˜æœ‰ä»€ä¹ˆç–‘æƒ‘æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹è¯„è®ºåŒºç»§ç»­è®¨è®ºã€‚</strong></p>
<p><strong>å¦‚æœæ‚¨è§‰å¾—æœ¬æ–‡è¿˜ä¸é”™ï¼Œæ¬¢è¿åˆ†äº«/æ‰“èµæœ¬æ–‡ã€‚æ‰“èµå¹¶éè¦ä»ä¸­è·å¾—æ”¶ç›Šï¼Œè€Œæ˜¯å¸Œæœ›çŸ¥é“ç§‘å­¦ç©ºé—´è·å¾—äº†å¤šå°‘è¯»è€…çš„çœŸå¿ƒå…³æ³¨ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æ— è§†å®ƒï¼Œä¹Ÿä¸ä¼šå½±å“ä½ çš„é˜…è¯»ã€‚å†æ¬¡è¡¨ç¤ºæ¬¢è¿å’Œæ„Ÿè°¢ï¼</strong></p>
<p>æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/wx.png" /></p>
<p>å¾®ä¿¡æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/zfb.png" /></p>
<p>æ”¯ä»˜å®æ‰“èµ</p>
<p>å› ä¸ºç½‘ç«™åå°å¯¹æ‰“èµå¹¶æ— è®°å½•ï¼Œå› æ­¤æ¬¢è¿åœ¨æ‰“èµæ—¶å€™å¤‡æ³¨ç•™è¨€ã€‚ä½ è¿˜å¯ä»¥<a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=tN7d1drY3drrx8H0xcWa19vZ"><strong>ç‚¹å‡»è¿™é‡Œ</strong></a>æˆ–åœ¨ä¸‹æ–¹è¯„è®ºåŒºç•™è¨€æ¥å‘ŠçŸ¥ä½ çš„å»ºè®®æˆ–éœ€æ±‚ã€‚</p>
<p><strong>å¦‚æœæ‚¨éœ€è¦å¼•ç”¨æœ¬æ–‡ï¼Œè¯·å‚è€ƒï¼š</strong></p>
<p>è‹å‰‘æ—. (Aug. 03, 2022). ã€Šç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäº”ï¼‰ï¼šä¸€èˆ¬æ¡†æ¶ä¹‹SDEç¯‡ ã€‹[Blog post]. Retrieved from <a href="https://spaces.ac.cn/archives/9209">https://spaces.ac.cn/archives/9209</a></p>
<p>@online{kexuefm-9209,<br />
title={ç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäº”ï¼‰ï¼šä¸€èˆ¬æ¡†æ¶ä¹‹SDEç¯‡},<br />
author={è‹å‰‘æ—},<br />
year={2022},<br />
month={Aug},<br />
url={\url{https://spaces.ac.cn/archives/9209}},<br />
} </p>
<hr />
<h2 id="_6">å…¬å¼æ¨å¯¼ä¸æ³¨é‡Š</h2>
<p>TODO: æ·»åŠ è¯¦ç»†çš„æ•°å­¦å…¬å¼æ¨å¯¼å’Œæ³¨é‡Š</p>
        </div>
    </div>
</body>
</html>