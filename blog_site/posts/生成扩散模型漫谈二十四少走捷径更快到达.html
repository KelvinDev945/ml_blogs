<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäºŒåå››ï¼‰ï¼šå°‘èµ°æ·å¾„ï¼Œæ›´å¿«åˆ°è¾¾</title>
    <style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    line-height: 1.6; color: #333; max-width: 900px; margin: 0 auto; padding: 20px; background: #f5f5f5;
}
.container { background: white; padding: 40px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
header { border-bottom: 2px solid #e0e0e0; padding-bottom: 20px; margin-bottom: 30px; }
h1 { color: #2c3e50; margin-bottom: 10px; font-size: 2em; }
.meta { color: #666; font-size: 0.9em; margin-bottom: 20px; }
.content { margin-top: 30px; overflow-wrap: break-word; }
.content h2 { color: #34495e; margin-top: 30px; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
.content p { margin-bottom: 15px; }
.content pre { background: #f8f8f8; padding: 15px; border-radius: 5px; overflow-x: auto; border-left: 3px solid #3498db; margin: 15px 0; }
.content code { background: #f8f8f8; padding: 2px 5px; border-radius: 3px; font-family: monospace; font-size: 0.9em; }
.content blockquote { border-left: 4px solid #3498db; padding-left: 20px; margin: 20px 0; color: #555; font-style: italic; }
.content table { border-collapse: collapse; width: 100%; margin: 20px 0; }
.content th, .content td { border: 1px solid #ddd; padding: 10px; text-align: left; }
.back-link { display: inline-block; margin-bottom: 20px; color: #3498db; text-decoration: none; font-weight: 500; }
</style>
    
<script>
    window.MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\(', '\)']],
            displayMath: [['$$', '$$'], ['\[', '\]']],
            processEscapes: true
        }
    };
</script>
<script id="MathJax-script" async src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
        <header>
            <h1>ç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäºŒåå››ï¼‰ï¼šå°‘èµ°æ·å¾„ï¼Œæ›´å¿«åˆ°è¾¾</h1>
            <div class="meta">ğŸ“… æœ€åæ›´æ–°: 2025-11-26 | ğŸ“„ å¤§å°: 28.1 KB</div>
        </header>
        <div class="content">
            <p><strong>åŸæ–‡é“¾æ¥</strong>: <a href="https://spaces.ac.cn/archives/10077">https://spaces.ac.cn/archives/10077</a></p>
<p><strong>å‘å¸ƒæ—¥æœŸ</strong>: </p>
<hr />
<p>å¦‚ä½•å‡å°‘é‡‡æ ·æ­¥æ•°åŒæ—¶ä¿è¯ç”Ÿæˆè´¨é‡ï¼Œæ˜¯æ‰©æ•£æ¨¡å‹åº”ç”¨å±‚é¢çš„ä¸€ä¸ªå…³é”®é—®é¢˜ã€‚å…¶ä¸­ï¼Œ<a href="/archives/9181">ã€Šç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆå››ï¼‰ï¼šDDIM = é«˜è§‚ç‚¹DDPMã€‹</a>ä»‹ç»çš„DDIMå¯è°“æ˜¯åŠ é€Ÿé‡‡æ ·çš„ç¬¬ä¸€æ¬¡å°è¯•ã€‚åæ¥ï¼Œ<a href="/archives/9209">ã€Šç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäº”ï¼‰ï¼šä¸€èˆ¬æ¡†æ¶ä¹‹SDEç¯‡ã€‹</a>ã€<a href="/archives/9228">ã€Šç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäº”ï¼‰ï¼šä¸€èˆ¬æ¡†æ¶ä¹‹ODEç¯‡ã€‹</a>ç­‰æ‰€ä»‹ç»çš„å·¥ä½œå°†æ‰©æ•£æ¨¡å‹ä¸SDEã€ODEè”ç³»äº†èµ·æ¥ï¼Œäºæ˜¯ç›¸åº”çš„æ•°å€¼ç§¯åˆ†æŠ€æœ¯ä¹Ÿè¢«ç›´æ¥ç”¨äºæ‰©æ•£æ¨¡å‹çš„é‡‡æ ·åŠ é€Ÿï¼Œå…¶ä¸­åˆä»¥ç›¸å¯¹ç®€å•çš„ODEåŠ é€ŸæŠ€æœ¯æœ€ä¸ºä¸°å¯Œï¼Œæˆ‘ä»¬åœ¨<a href="/archives/9881">ã€Šç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäºŒåä¸€ï¼‰ï¼šä¸­å€¼å®šç†åŠ é€ŸODEé‡‡æ ·ã€‹</a>ä¹Ÿä»‹ç»è¿‡ä¸€ä¾‹ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« æˆ‘ä»¬ä»‹ç»å¦ä¸€ä¸ªç‰¹åˆ«ç®€å•æœ‰æ•ˆçš„åŠ é€ŸæŠ€å·§â€”â€”Skip Tuningï¼Œå‡ºè‡ªè®ºæ–‡<a href="https://papers.cool/arxiv/2402.15170">ã€ŠThe Surprising Effectiveness of Skip-Tuning in Diffusion Samplingã€‹</a>ï¼Œå‡†ç¡®æ¥è¯´å®ƒæ˜¯é…åˆå·²æœ‰çš„åŠ é€ŸæŠ€å·§ä½¿ç”¨ï¼Œæ¥ä¸€æ­¥æé«˜é‡‡æ ·è´¨é‡ï¼Œè¿™å°±æ„å‘³ç€åœ¨ä¿æŒç›¸åŒé‡‡æ ·è´¨é‡çš„æƒ…å†µä¸‹ï¼Œå®ƒå¯ä»¥è¿›ä¸€æ­¥å‹ç¼©é‡‡æ ·æ­¥æ•°ï¼Œä»è€Œå®ç°åŠ é€Ÿã€‚</p>
<h2 id="_1">æ¨¡å‹å›é¡¾</h2>
<p>ä¸€åˆ‡éƒ½è¦ä»U-Netè¯´èµ·ï¼Œè¿™æ˜¯å½“å‰æ‰©æ•£æ¨¡å‹çš„ä¸»æµæ¶æ„ï¼Œåæ¥çš„<a href="https://papers.cool/arxiv/2209.12152">U-Vit</a>ä¹Ÿä¿æŒäº†å¤§è‡´ç›¸åŒçš„å½¢å¼ï¼Œåªä¸è¿‡å°†CNN-basedçš„ResBlockæ¢æˆäº†Attention-basedã€‚</p>
<p>U-Netå‡ºè‡ªè®ºæ–‡<a href="https://papers.cool/arxiv/1505.04597">ã€ŠU-Net: Convolutional Networks for Biomedical Image Segmentationã€‹</a>ï¼Œæœ€æ—©æ˜¯ä¸ºå›¾åƒåˆ†å‰²è®¾è®¡ã€‚å®ƒçš„ç‰¹ç‚¹æ˜¯è¾“å…¥å’Œè¾“å‡ºçš„å¤§å°ä¸€è‡´ï¼Œè¿™æ­£å¥½å¥‘åˆäº†æ‰©æ’’æ¨¡å‹çš„å»ºæ¨¡éœ€æ±‚ï¼Œæ‰€ä»¥è‡ªç„¶åœ°è¢«è¿ç§»åˆ°äº†æ‰©æ•£æ¨¡å‹ä¹‹ä¸­ã€‚å½¢å¼ä¸Šçœ‹ï¼ŒU-Netè·Ÿå¸¸è§„çš„AutoEncoderå¾ˆç›¸ä¼¼ï¼Œéƒ½æ˜¯é€æ­¥ä¸‹é‡‡æ ·ç„¶ååˆé€æ­¥ä¸Šé‡‡æ ·ï¼Œä½†å®ƒè¡¥å……äº†é¢å¤–çš„Skip Connectionï¼Œæ¥è§£å†³AutoEncoderçš„ä¿¡æ¯ç“¶é¢ˆï¼š  </p>
<p><a href="/usr/uploads/2024/04/1852677073.png" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="U-Netè®ºæ–‡çš„ç¤ºæ„å›¾" src="/usr/uploads/2024/04/1852677073.png" /></a></p>
<p>U-Netè®ºæ–‡çš„ç¤ºæ„å›¾</p>
<p>ä¸åŒçš„è®ºæ–‡å®ç°çš„U-Netåœ¨ç»†èŠ‚ä¸Šå¯èƒ½ä¸ä¸€æ ·ï¼Œä½†éƒ½æœ‰ç›¸åŒçš„Skip Connectionï¼Œå¤§è‡´ä¸Šå°±æ˜¯ç¬¬ä¸€å±‚ï¼ˆblockï¼‰çš„è¾“å‡ºæœ‰ä¸€æ¡â€œæ·å¾„â€ç›´è¾¾å€’æ•°ç¬¬ä¸€å±‚ï¼Œç¬¬äºŒå±‚çš„è¾“å‡ºæœ‰ä¸€æ¡â€œæ·å¾„â€ç›´è¾¾å€’æ•°ç¬¬äºŒå±‚ï¼Œä¾æ­¤ç±»æ¨ï¼Œè¿™äº›â€œæ·å¾„â€å°±æ˜¯Skip Connectionã€‚å¦‚æœæ²¡æœ‰Skip Connectionï¼Œé‚£ä¹ˆç”±äºæœ¨æ¡¶æ•ˆåº”ï¼Œæ¨¡å‹çš„ä¿¡æ¯æµåŠ¨å°±å—é™äºåˆ†è¾¨ç‡æœ€å°çš„feature mapï¼Œé‚£ä¹ˆå¯¹äºè¦ç”¨åˆ°å®Œæ•´ä¿¡æ¯çš„ä»»åŠ¡å¦‚é‡æ„ã€å»å™ªç­‰ï¼Œå°±ä¼šå¾—åˆ°æ¨¡ç³Šçš„ç»“æœã€‚</p>
<p>é™¤äº†é¿å…ä¿¡æ¯ç“¶é¢ˆå¤–ï¼ŒSkip Connectionè¿˜èµ·åˆ°äº†çº¿æ€§æ­£åˆ™åŒ–çš„ä½œç”¨ã€‚å¾ˆæ˜æ˜¾ï¼Œå¦‚æœé è¿‘è¾“å‡ºçš„å±‚åªä½¿ç”¨Skip Connectionä½œä¸ºè¾“å…¥ï¼Œé‚£ä¹ˆç­‰ä»·äºåé¢çš„å±‚éƒ½ç™½åŠ äº†ï¼Œæ¨¡å‹æ„ˆå‘æ¥è¿‘ä¸€ä¸ªæµ…å±‚æ¨¡å‹ç”šè‡³çº¿æ€§æ¨¡å‹ã€‚å› æ­¤ï¼ŒSkip Connectionçš„åŠ å…¥é¼“åŠ±æ¨¡å‹ä¼˜å…ˆä½¿ç”¨å°½å¯èƒ½ç®€å•ï¼ˆå³è¶Šæ¥è¿‘çº¿æ€§ï¼‰çš„é¢„æµ‹é€»è¾‘ï¼Œåªæœ‰åœ¨å¿…è¦æƒ…å†µä¸‹æ‰ä½¿ç”¨æ›´å¤æ‚çš„é€»è¾‘ï¼Œè¿™å°±æ˜¯inductive biasä¹‹ä¸€ã€‚</p>
<h2 id="_2">å¯¥å¯¥å‡ è¡Œ</h2>
<p>äº†è§£U-Netä¹‹åï¼ŒSkip Tuningå…¶å®å‡ å¥è¯å°±å¯ä»¥è¯´å®Œäº†ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œæ‰©æ•£æ¨¡å‹çš„é‡‡æ ·æ˜¯ä¸€ä¸ªå¤šæ­¥é€’å½’åœ°ä»$\boldsymbol{x}_T$åˆ°$\boldsymbol{x}_0$çš„è¿‡ç¨‹ï¼Œè¿™æ„æˆäº†$\boldsymbol{x}_T$åˆ°$\boldsymbol{x}_0$çš„ä¸€ä¸ªå¤æ‚çš„éçº¿æ€§æ˜ å°„ã€‚å‡ºäºå®ç”¨çš„è€ƒè™‘ï¼Œæˆ‘ä»¬æ€»å¸Œæœ›å‡å°‘ä½¿ç”¨é‡‡æ ·æ­¥æ•°ï¼Œè€Œä¸ç®¡å…·ä½“ç”¨å“ªç§åŠ é€ŸæŠ€æœ¯ï¼Œæœ€ç»ˆéƒ½åœ¨æ— å½¢ä¹‹ä¸­é™ä½äº†æ•´ä¸ªé‡‡æ ·æ˜ å°„çš„éçº¿æ€§èƒ½åŠ›ã€‚</p>
<p>å¾ˆå¤šç®—æ³•å¦‚<a href="/archives/9497">ReFlow</a>çš„æ€è·¯æ˜¯é€šè¿‡è°ƒæ•´noise scheduleè®©é‡‡æ ·è¿‡ç¨‹èµ°å°½é‡â€œç›´â€çš„è·¯çº¿ï¼Œè¿™æ ·å®ƒé‡‡æ ·å‡½æ•°æœ¬èº«å°±å°½å¯èƒ½çº¿æ€§ï¼Œä»è€Œå‡å°‘åŠ é€ŸæŠ€æœ¯å¸¦æ¥çš„è´¨é‡ä¸‹é™ã€‚è€ŒSkip Tuningåˆ™åè¿‡æ¥æƒ³ï¼š<strong>æ—¢ç„¶åŠ é€ŸæŠ€æœ¯æŸå¤±äº†éçº¿æ€§èƒ½åŠ›ï¼Œæˆ‘ä»¬å¯ä¸å¯ä»¥ä»å…¶ä»–åœ°æ–¹å°†å®ƒè¡¥å›æ¥ï¼Ÿ</strong> ç­”æ¡ˆå°±åœ¨Skip Connectionä¸Šï¼Œåˆšæ‰æˆ‘ä»¬è¯´äº†å®ƒçš„å‡ºç°é¼“åŠ±æ¨¡å‹ç®€åŒ–é¢„æµ‹é€»è¾‘ï¼Œå¦‚æœSkip Connectionè¶Šé‡ï¼Œé‚£ä¹ˆè¶Šæ¥è¿‘ä¸€ä¸ªç®€å•çš„çº¿æ€§æ¨¡å‹ç”šè‡³æ’ç­‰æ¨¡å‹ï¼Œé‚£ä¹ˆåè¿‡æ¥é™ä½Skip Connectionçš„æƒé‡ï¼Œå°±å¯ä»¥å¢åŠ æ¨¡å‹çš„éçº¿æ€§èƒ½åŠ›ã€‚</p>
<p>å½“ç„¶ï¼Œè¿™åªæ˜¯å¢åŠ æ¨¡å‹éçº¿æ€§èƒ½åŠ›çš„ä¸€ç§æ–¹å¼ï¼Œä¸èƒ½ä¿è¯å®ƒå¢åŠ çš„éçº¿æ€§èƒ½åŠ›æ­£å¥½æ˜¯é‡‡æ ·åŠ é€ŸæŸå¤±æ‰çš„éçº¿æ€§èƒ½åŠ›ï¼Œè€ŒSkip Tuningçš„å®éªŒç»“æœè¡¨æ˜ä¸¤è€…æ­£å¥½ä¸€å®šçš„ç­‰ä»·æ€§ï¼æ‰€ä»¥é¡¾åæ€ä¹‰ï¼Œå¯¹Skip Connectionçš„æƒé‡åšä¸€å®šçš„Tuningï¼Œå°±å¯ä»¥è¿›ä¸€æ­¥æé«˜åŠ é€Ÿåçš„é‡‡æ ·è´¨é‡ï¼Œæˆ–è€…åœ¨ä¿æŒé‡‡æ ·è´¨é‡çš„å‰æä¸‹å‡å°‘é‡‡æ ·æ­¥æ•°ã€‚Tuningçš„æ–¹å¼å¾ˆç®€å•ï¼Œå‡è®¾æœ‰$k + 1$ä¸ªSkip Connectionï¼Œæˆ‘ä»¬å°†æœ€é è¿‘è¾“å…¥å±‚çš„Skip Connectionä¹˜ä»¥$\rho_{\text{top}}$ï¼Œæœ€è¿œç¦»è¾“å…¥å±‚çš„Skip Connectionä¹˜ä»¥$\rho_{\text{bottom}}$ï¼Œå‰©ä¸‹çš„æŒ‰ç…§æ·±åº¦å‡åŒ€å˜åŒ–å°±è¡Œï¼Œå¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬éƒ½è®¾$\rho_{\text{top}}=1$ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šå°±åªæœ‰$\rho_{\text{bottom}}$ä¸€ä¸ªå‚æ•°éœ€è¦è°ƒã€‚</p>
<p>Skip Tuningçš„å®éªŒæ•ˆæœä¹Ÿæ˜¯ç›¸å½“ä¸é”™çš„ï¼Œä¸‹é¢æ‘˜å½•äº†ä¸¤ä¸ªè¡¨æ ¼ï¼Œæ›´å¤šå®éªŒæ•ˆæœå›¾å¯ä»¥è‡ªè¡Œé˜…è¯»åŸè®ºæ–‡ã€‚  </p>
<p><a href="/usr/uploads/2024/04/2791145414.png" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="Skip Tuningæ•ˆæœ1" src="/usr/uploads/2024/04/2791145414.png" /></a></p>
<p>Skip Tuningæ•ˆæœ1</p>
<p><a href="/usr/uploads/2024/04/2167809826.png" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="Skip Tuningæ•ˆæœ2" src="/usr/uploads/2024/04/2167809826.png" /></a></p>
<p>Skip Tuningæ•ˆæœ2</p>
<h2 id="_3">ä¸ªäººæ€è€ƒ</h2>
<p>è¿™åº”è¯¥æ˜¯æ‰©æ•£ç³»åˆ—æœ€ç®€å•çš„ä¸€ç¯‡æ–‡ç« ï¼Œæ²¡æœ‰å†—é•¿çš„ç¯‡å¹…ï¼Œä¹Ÿæ²¡æœ‰å¤æ‚çš„å…¬å¼ï¼Œè¯»è€…ç›´æ¥å»è¯»åŸè®ºæ–‡è‚¯å®šä¹Ÿå®¹æ˜“ææ‡‚ï¼Œä½†ç¬”è€…ä»ç„¶æ„¿æ„å»å‘ä»‹ç»ä¸€ä¸‹å®ƒã€‚è·Ÿä¸Šä¸€ç¯‡æ–‡ç« <a href="/archives/10055">ã€Šç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäºŒåä¸‰ï¼‰ï¼šä¿¡å™ªæ¯”ä¸å¤§å›¾ç”Ÿæˆï¼ˆä¸‹ï¼‰ã€‹</a>ä¸€æ ·ï¼Œå®ƒä½“ç°çš„æ˜¯ä½œè€…åˆ«å‡ºå¿ƒè£çš„æƒ³è±¡åŠ›å’Œè§‚å¯ŸåŠ›ï¼Œè¿™æ˜¯ç¬”è€…è‡ªè§‰ç›¸å½“æ¬ ç¼ºçš„ã€‚</p>
<p>è·ŸSkip Tuningæ¯”è¾ƒç›¸å…³çš„ä¸€ç¯‡è®ºæ–‡æ˜¯<a href="https://papers.cool/arxiv/2309.11497">ã€ŠFreeU: Free Lunch in Diffusion U-Netã€‹</a>ï¼Œå®ƒåˆ†æäº†U-Netçš„ä¸åŒæˆåˆ†åœ¨æ‰©æ•£æ¨¡å‹ä¸­çš„ä½œç”¨ï¼Œå‘ç°Skip Connectionä¸»è¦è´Ÿè´£æ·»åŠ é«˜é¢‘ç»†èŠ‚ï¼Œä¸»å¹²éƒ¨åˆ†åˆ™ä¸»è¦è´Ÿè´£å»å™ªã€‚è¿™æ ·ä¸€æ¥æˆ‘ä»¬ä¼¼ä¹å¯ä»¥ä»å¦ä¸€ä¸ªè§’åº¦æ¥ç†è§£Skip Tuningäº†ï¼šSkip Tuningä¸»è¦å®éªŒçš„æ˜¯ODE-basedçš„æ‰©æ•£æ¨¡å‹ï¼Œè¿™ç§æ‰©æ•£æ¨¡å‹åœ¨ç¼©å‡é‡‡æ ·æ­¥æ•°æ—¶å¾€å¾€å™ªç‚¹ä¼šå¢åŠ ï¼Œæ‰€ä»¥ç¼©å°Skip Connectionï¼Œç›¸å¯¹æ¥è¯´ä¹Ÿå°±æ˜¯åŠ å¤§äº†ä¸»å¹²çš„æƒé‡ï¼Œå¢å¼ºäº†å»å™ªèƒ½åŠ›ï¼Œå±äºâ€œå¯¹ç—‡ä¸‹è¯â€ã€‚åè¿‡æ¥ï¼Œå¦‚æœæ˜¯SDE-basedçš„æ‰©æ•£æ¨¡å‹ï¼Œå¯èƒ½è¦å‡å°‘Skip Connectionçš„ç¼©å°æ¯”ä¾‹ï¼Œç”šè‡³å¯èƒ½è¦åè¿‡æ¥å¢åŠ Skip Connectionçš„æƒé‡ï¼Œå› ä¸ºæ­¤ç±»æ‰©æ•£æ¨¡å‹åœ¨ç¼©å‡é‡‡æ ·æ­¥æ•°æ—¶å¾€å¾€ä¼šç”Ÿæˆè¿‡åº¦å¹³æ»‘çš„ç»“æœã€‚</p>
<p>Skip Tuningè°ƒæ•´çš„æ˜¯Skip Connectionï¼Œé‚£ä¹ˆåƒ<a href="https://papers.cool/arxiv/2212.09748">DiT</a>è¿™ç§æ²¡æœ‰Skip Connectionçš„æ˜¯ä¸æ˜¯å°±æ²¡æœ‰æœºä¼šåº”ç”¨å‘¢ï¼Ÿåº”è¯¥ä¹Ÿä¸è‡³äºï¼ŒDiTè™½ç„¶æ²¡æœ‰Skip Connectionï¼Œä½†è¿˜æ˜¯æœ‰æ®‹å·®ï¼ŒIdenticalåˆ†æ”¯çš„è®¾è®¡æœ¬è´¨ä¸Šä¹Ÿæ˜¯çº¿æ€§æ­£åˆ™åŒ–çš„inductive biasï¼Œæ‰€ä»¥å¦‚æœæ²¡æœ‰Skip Connectionï¼Œè°ƒè°ƒæ®‹å·®å¯èƒ½ä¹Ÿä¼šæœ‰æ‰€æ”¶è·ã€‚</p>
<h2 id="_4">æ–‡ç« æ€»ç»“</h2>
<p>è¿™ç¯‡æ–‡ç« ä»‹ç»äº†ä¸€ä¸ªèƒ½æœ‰æ•ˆåœ°æé«˜æ‰©æ•£æ¨¡å‹åŠ é€Ÿé‡‡æ ·åçš„ç”Ÿæˆè´¨é‡çš„æŠ€å·§â€”â€”é™ä½U-Netçš„â€œæ·å¾„â€ï¼ˆå³Skip Connectionï¼‰çš„æƒé‡ã€‚æ•´ä¸ªæ–¹æ³•æ¡†æ¶éå¸¸ç®€å•æ˜å¿«ï¼Œç›´è§‚æ˜“æ‡‚ï¼Œå€¼å¾—å­¦ä¹ ä¸€ç•ªã€‚</p>
<p><em><strong>è½¬è½½åˆ°è¯·åŒ…æ‹¬æœ¬æ–‡åœ°å€ï¼š</strong><a href="https://spaces.ac.cn/archives/10077">https://spaces.ac.cn/archives/10077</a></em></p>
<p><em><strong>æ›´è¯¦ç»†çš„è½¬è½½äº‹å®œè¯·å‚è€ƒï¼š</strong></em><a href="https://spaces.ac.cn/archives/6508#%E6%96%87%E7%AB%A0%E5%A6%82%E4%BD%95%E8%BD%AC%E8%BD%BD/%E5%BC%95%E7%94%A8" title="ã€Šç§‘å­¦ç©ºé—´FAQã€‹">ã€Šç§‘å­¦ç©ºé—´FAQã€‹</a></p>
<p><strong>å¦‚æœæ‚¨è¿˜æœ‰ä»€ä¹ˆç–‘æƒ‘æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹è¯„è®ºåŒºç»§ç»­è®¨è®ºã€‚</strong></p>
<p><strong>å¦‚æœæ‚¨è§‰å¾—æœ¬æ–‡è¿˜ä¸é”™ï¼Œæ¬¢è¿åˆ†äº«/æ‰“èµæœ¬æ–‡ã€‚æ‰“èµå¹¶éè¦ä»ä¸­è·å¾—æ”¶ç›Šï¼Œè€Œæ˜¯å¸Œæœ›çŸ¥é“ç§‘å­¦ç©ºé—´è·å¾—äº†å¤šå°‘è¯»è€…çš„çœŸå¿ƒå…³æ³¨ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æ— è§†å®ƒï¼Œä¹Ÿä¸ä¼šå½±å“ä½ çš„é˜…è¯»ã€‚å†æ¬¡è¡¨ç¤ºæ¬¢è¿å’Œæ„Ÿè°¢ï¼</strong></p>
<p>æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/wx.png" /></p>
<p>å¾®ä¿¡æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/zfb.png" /></p>
<p>æ”¯ä»˜å®æ‰“èµ</p>
<p>å› ä¸ºç½‘ç«™åå°å¯¹æ‰“èµå¹¶æ— è®°å½•ï¼Œå› æ­¤æ¬¢è¿åœ¨æ‰“èµæ—¶å€™å¤‡æ³¨ç•™è¨€ã€‚ä½ è¿˜å¯ä»¥<a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=tN7d1drY3drrx8H0xcWa19vZ"><strong>ç‚¹å‡»è¿™é‡Œ</strong></a>æˆ–åœ¨ä¸‹æ–¹è¯„è®ºåŒºç•™è¨€æ¥å‘ŠçŸ¥ä½ çš„å»ºè®®æˆ–éœ€æ±‚ã€‚</p>
<p><strong>å¦‚æœæ‚¨éœ€è¦å¼•ç”¨æœ¬æ–‡ï¼Œè¯·å‚è€ƒï¼š</strong></p>
<p>è‹å‰‘æ—. (Apr. 23, 2024). ã€Šç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäºŒåå››ï¼‰ï¼šå°‘èµ°æ·å¾„ï¼Œæ›´å¿«åˆ°è¾¾ ã€‹[Blog post]. Retrieved from <a href="https://spaces.ac.cn/archives/10077">https://spaces.ac.cn/archives/10077</a></p>
<p>@online{kexuefm-10077,<br />
title={ç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäºŒåå››ï¼‰ï¼šå°‘èµ°æ·å¾„ï¼Œæ›´å¿«åˆ°è¾¾},<br />
author={è‹å‰‘æ—},<br />
year={2024},<br />
month={Apr},<br />
url={\url{https://spaces.ac.cn/archives/10077}},<br />
} </p>
<hr />
<h2 id="_5">å…¬å¼æ¨å¯¼ä¸æ³¨é‡Š</h2>
<h3 id="1">1. æ ¸å¿ƒæ¦‚å¿µä¸æ•°å­¦æ¡†æ¶</h3>
<h4 id="11-u-net">1.1 U-Netæ¶æ„çš„æ•°å­¦è¡¨ç¤º</h4>
<p>U-Netæ˜¯ä¸€ç§ç¼–ç å™¨-è§£ç å™¨æ¶æ„ï¼Œå…¶å…³é”®ç‰¹å¾æ˜¯å¼•å…¥äº†Skip Connectionã€‚æˆ‘ä»¬å°†U-Netè¡¨ç¤ºä¸ºä¸€ä¸ªå‡½æ•°æ˜ å°„ï¼š</p>
<p>$$
\boldsymbol{\epsilon}_\theta(\boldsymbol{x}_t, t) = \text{Decoder}(\text{Encoder}(\boldsymbol{x}_t, t)) \tag{1}
$$</p>
<p>å…¶ä¸­$\boldsymbol{x}_t$æ˜¯æ—¶åˆ»$t$çš„å™ªå£°å›¾åƒï¼Œ$\theta$æ˜¯æ¨¡å‹å‚æ•°ã€‚</p>
<p><strong>ç¼–ç å™¨éƒ¨åˆ†</strong>ï¼šè®¾æœ‰$L$å±‚ç¼–ç å™¨ï¼Œç¬¬$i$å±‚çš„è¾“å‡ºä¸º$\boldsymbol{h}_i^{\text{enc}}$ï¼š</p>
<p>$$
\boldsymbol{h}_i^{\text{enc}} = f_i^{\text{enc}}(\boldsymbol{h}_{i-1}^{\text{enc}}, t), \quad i = 1, 2, \ldots, L \tag{2}
$$</p>
<p>å…¶ä¸­$\boldsymbol{h}_0^{\text{enc}} = \boldsymbol{x}_t$æ˜¯è¾“å…¥ï¼Œ$f_i^{\text{enc}}$æ˜¯ç¬¬$i$å±‚ç¼–ç å™¨çš„å˜æ¢ï¼ˆé€šå¸¸åŒ…å«ä¸‹é‡‡æ ·ï¼‰ã€‚</p>
<p><strong>è§£ç å™¨éƒ¨åˆ†</strong>ï¼šè®¾æœ‰$L$å±‚è§£ç å™¨ï¼Œç¬¬$j$å±‚çš„è¾“å‡ºä¸º$\boldsymbol{h}_j^{\text{dec}}$ã€‚<strong>å…³é”®åœ¨äºSkip Connection</strong>ï¼š</p>
<p>$$
\boldsymbol{h}_j^{\text{dec}} = f_j^{\text{dec}}(\boldsymbol{h}_{j-1}^{\text{dec}} + \boldsymbol{s}_{L-j+1}, t), \quad j = 1, 2, \ldots, L \tag{3}
$$</p>
<p>å…¶ä¸­$\boldsymbol{s}_i$æ˜¯æ¥è‡ªç¼–ç å™¨ç¬¬$i$å±‚çš„Skip Connectionï¼š</p>
<p>$$
\boldsymbol{s}_i = \text{Proj}(\boldsymbol{h}_i^{\text{enc}}) \tag{4}
$$</p>
<p>è¿™é‡Œ$\text{Proj}$æ˜¯ä¸€ä¸ªæŠ•å½±æ“ä½œï¼ˆé€šå¸¸æ˜¯æ’ç­‰æ˜ å°„æˆ–ç®€å•å·ç§¯ï¼‰ã€‚</p>
<h4 id="12-skip-connection">1.2 Skip Connectionçš„æƒé‡è°ƒåˆ¶</h4>
<p><strong>Skip Tuning</strong>çš„æ ¸å¿ƒæ€æƒ³æ˜¯å¯¹Skip Connectionå¼•å…¥å¯è°ƒèŠ‚çš„æƒé‡ç³»æ•°$\rho_i \in (0, 1]$ï¼š</p>
<p>$$
\boldsymbol{h}_j^{\text{dec}} = f_j^{\text{dec}}(\boldsymbol{h}_{j-1}^{\text{dec}} + \rho_{L-j+1} \cdot \boldsymbol{s}_{L-j+1}, t) \tag{5}
$$</p>
<p>æƒé‡ç³»æ•°$\rho_i$é€šå¸¸è®¾è®¡ä¸ºä»è¾“å…¥åˆ°è¾“å‡ºçº¿æ€§å˜åŒ–ï¼š</p>
<p>$$
\rho_i = \rho_{\text{top}} + \frac{i - 1}{L - 1} (\rho_{\text{bottom}} - \rho_{\text{top}}), \quad i = 1, 2, \ldots, L \tag{6}
$$</p>
<p><strong>é»˜è®¤è®¾ç½®</strong>ï¼š$\rho_{\text{top}} = 1$ï¼ˆä¿æŒæµ…å±‚Skip Connectionä¸å˜ï¼‰ï¼Œ$\rho_{\text{bottom}} \in [0.5, 0.9]$ï¼ˆé™ä½æ·±å±‚Skip Connectionæƒé‡ï¼‰ã€‚</p>
<h4 id="13">1.3 æ‰©æ•£æ¨¡å‹çš„é‡‡æ ·è¿‡ç¨‹</h4>
<p>æ‰©æ•£æ¨¡å‹çš„é‡‡æ ·æ˜¯ä¸€ä¸ªä»$\boldsymbol{x}_T \sim \mathcal{N}(\mathbf{0}, \mathbf{I})$åˆ°$\boldsymbol{x}_0$çš„é€†å‘è¿‡ç¨‹ã€‚å¯¹äºODE-basedé‡‡æ ·ï¼ˆå¦‚DDIMï¼‰ï¼Œæœ‰ï¼š</p>
<p>$$
\mathrm{d}\boldsymbol{x}_t = \boldsymbol{f}(\boldsymbol{x}_t, t) \mathrm{d}t \tag{7}
$$</p>
<p>å…¶ä¸­æ¼‚ç§»é¡¹ä¸ºï¼š</p>
<p>$$
\boldsymbol{f}(\boldsymbol{x}_t, t) = -\frac{1}{2}\beta(t)\left[\boldsymbol{x}_t + \nabla_{\boldsymbol{x}_t} \log p_t(\boldsymbol{x}_t)\right] \tag{8}
$$</p>
<p>ä½¿ç”¨ç¥ç»ç½‘ç»œ$\boldsymbol{\epsilon}_\theta(\boldsymbol{x}_t, t)$ä¼°è®¡score functionï¼š</p>
<p>$$
\nabla_{\boldsymbol{x}_t} \log p_t(\boldsymbol{x}_t) \approx -\frac{\boldsymbol{\epsilon}_\theta(\boldsymbol{x}_t, t)}{\sqrt{1 - \bar{\alpha}_t}} \tag{9}
$$</p>
<p><strong>æ•°å€¼ç§¯åˆ†</strong>ï¼šé‡‡ç”¨$N$æ­¥ç¦»æ•£åŒ–ï¼Œä»$t_N = T$åˆ°$t_0 = 0$ï¼š</p>
<p>$$
\boldsymbol{x}_{t_{i-1}} = \boldsymbol{x}_{t_i} + \int_{t_i}^{t_{i-1}} \boldsymbol{f}(\boldsymbol{x}_t, t) \mathrm{d}t, \quad i = N, N-1, \ldots, 1 \tag{10}
$$</p>
<h3 id="2-skip-connection">2. Skip Connectionä¸æ¨¡å‹éçº¿æ€§èƒ½åŠ›çš„å…³ç³»</h3>
<h4 id="21">2.1 æ®‹å·®è¿æ¥çš„çº¿æ€§åŒ–æ•ˆåº”</h4>
<p>è€ƒè™‘ä¸€ä¸ªç®€åŒ–çš„æ®‹å·®å—ï¼š</p>
<p>$$
\boldsymbol{y} = \boldsymbol{x} + g(\boldsymbol{x}) \tag{11}
$$</p>
<p>å…¶ä¸­$g$æ˜¯éçº¿æ€§å˜æ¢ã€‚å½“æˆ‘ä»¬å¼•å…¥æƒé‡ç³»æ•°$\rho$æ—¶ï¼š</p>
<p>$$
\boldsymbol{y} = \boldsymbol{x} + \rho \cdot g(\boldsymbol{x}) \tag{12}
$$</p>
<p><strong>æ³°å‹’å±•å¼€åˆ†æ</strong>ï¼šå‡è®¾$g(\boldsymbol{x}) = g(\mathbf{0}) + \mathbf{J}\boldsymbol{x} + \frac{1}{2}\boldsymbol{x}^T\mathbf{H}\boldsymbol{x} + \mathcal{O}(|\boldsymbol{x}|^3)$ï¼Œå…¶ä¸­$\mathbf{J}$æ˜¯Jacobianï¼Œ$\mathbf{H}$æ˜¯Hessianã€‚åˆ™ï¼š</p>
<p>$$
\boldsymbol{y} = (\mathbf{I} + \rho\mathbf{J})\boldsymbol{x} + \frac{\rho}{2}\boldsymbol{x}^T\mathbf{H}\boldsymbol{x} + \mathcal{O}(\|\boldsymbol{x}\|^3) \tag{13}
$$</p>
<p><strong>éçº¿æ€§å¼ºåº¦çš„åº¦é‡</strong>ï¼šå®šä¹‰éçº¿æ€§åº¦ä¸ºé«˜é˜¶é¡¹çš„ç›¸å¯¹å¼ºåº¦ï¼š</p>
<p>$$
\mathcal{N}(\rho) = \frac{\rho \cdot \|\mathbf{H}\|}{\|\mathbf{I} + \rho\mathbf{J}\|} \tag{14}
$$</p>
<p>å½“$\rho \to 0$æ—¶ï¼Œ$\mathcal{N}(\rho) \to 0$ï¼ˆæ¥è¿‘æ’ç­‰æ˜ å°„ï¼‰ï¼›å½“$\rho = 1$æ—¶ï¼Œ$\mathcal{N}(1)$æœ€å¤§ã€‚</p>
<h4 id="22-u-net">2.2 U-Netæ•´ä½“éçº¿æ€§èƒ½åŠ›</h4>
<p>è€ƒè™‘å®Œæ•´çš„U-Netæ˜ å°„$\boldsymbol{\epsilon}_\theta(\boldsymbol{x}_t, t)$ï¼Œå¯ä»¥åˆ†è§£ä¸ºï¼š</p>
<p>$$
\boldsymbol{\epsilon}_\theta(\boldsymbol{x}_t, t) = \boldsymbol{\epsilon}_\theta^{\text{main}}(\boldsymbol{x}_t, t) + \boldsymbol{\epsilon}_\theta^{\text{skip}}(\boldsymbol{x}_t, t) \tag{15}
$$</p>
<p>å…¶ä¸­ï¼š
- $\boldsymbol{\epsilon}<em>\theta^{\text{main}}$ï¼šä¸»å¹²è·¯å¾„çš„è´¡çŒ®ï¼ˆé«˜åº¦éçº¿æ€§ï¼‰
- $\boldsymbol{\epsilon}</em>\theta^{\text{skip}}$ï¼šSkip Connectionçš„è´¡çŒ®ï¼ˆç›¸å¯¹çº¿æ€§ï¼‰</p>
<p>å¼•å…¥Skip Tuningåï¼š</p>
<p>$$
\boldsymbol{\epsilon}_\theta^{\rho}(\boldsymbol{x}_t, t) = \boldsymbol{\epsilon}_\theta^{\text{main}}(\boldsymbol{x}_t, t) + \sum_{i=1}^{L} \rho_i \cdot \boldsymbol{\epsilon}_\theta^{\text{skip}, i}(\boldsymbol{x}_t, t) \tag{16}
$$</p>
<p><strong>å®šç†2.1</strong>ï¼ˆéçº¿æ€§èƒ½åŠ›å¢å¼ºï¼‰ï¼šè®¾$\rho_{\text{bottom}} &lt; 1$ï¼Œåˆ™Skip Tuningåçš„æ¨¡å‹å…·æœ‰æ›´å¼ºçš„éçº¿æ€§èƒ½åŠ›ï¼š</p>
<p>$$
\|\mathbf{H}[\boldsymbol{\epsilon}_\theta^{\rho}]\| > \|\mathbf{H}[\boldsymbol{\epsilon}_\theta]\| \tag{17}
$$</p>
<p><strong>è¯æ˜</strong>ï¼šSkip Connectionçš„å‰Šå¼±ä½¿å¾—ä¸»å¹²è·¯å¾„çš„æ¢¯åº¦æµå¢å¼ºã€‚è®¾$\mathcal{L}$ä¸ºè®­ç»ƒæŸå¤±ï¼Œåˆ™ï¼š</p>
<p>$$
\frac{\partial \mathcal{L}}{\partial \boldsymbol{h}_j^{\text{dec}}} = \frac{\partial \mathcal{L}}{\partial \boldsymbol{h}_{j+1}^{\text{dec}}} \cdot \left[\frac{\partial f_{j+1}^{\text{dec}}}{\partial \boldsymbol{h}_j^{\text{dec}}} + \rho_{L-j} \cdot \frac{\partial f_{j+1}^{\text{dec}}}{\partial \boldsymbol{s}_{L-j}}\right] \tag{18}
$$</p>
<p>å½“$\rho_{L-j} &lt; 1$æ—¶ï¼Œç¬¬äºŒé¡¹å‡å°ï¼Œè¿«ä½¿ç¬¬ä¸€é¡¹ï¼ˆä¸»å¹²è·¯å¾„ï¼‰æ‰¿æ‹…æ›´å¤šæ¢¯åº¦æµï¼Œä»è€Œå­¦ä¹ æ›´å¤æ‚çš„éçº¿æ€§å˜æ¢ã€‚â–¡</p>
<h4 id="23">2.3 é‡‡æ ·åŠ é€Ÿä¸éçº¿æ€§æŸå¤±</h4>
<p><strong>åŠ é€Ÿé‡‡æ ·çš„æ•°å­¦æœ¬è´¨</strong>ï¼šå°†$N$æ­¥é‡‡æ ·å‡å°‘åˆ°$M$æ­¥ï¼ˆ$M \ll N$ï¼‰ï¼Œç­‰ä»·äºå¢å¤§ç§¯åˆ†æ­¥é•¿ï¼š</p>
<p>$$
\Delta t_{\text{fast}} = \frac{T}{M} \gg \Delta t_{\text{slow}} = \frac{T}{N} \tag{19}
$$</p>
<p><strong>æˆªæ–­è¯¯å·®åˆ†æ</strong>ï¼šå¯¹äºä¸€é˜¶æ•°å€¼æ–¹æ³•ï¼ˆå¦‚Euleræ³•ï¼‰ï¼Œå±€éƒ¨æˆªæ–­è¯¯å·®ä¸ºï¼š</p>
<p>$$
\boldsymbol{e}_{\text{local}} = \mathcal{O}(\Delta t^2) \cdot \left\|\frac{\partial \boldsymbol{f}}{\partial t} + \mathbf{J}_{\boldsymbol{f}} \cdot \boldsymbol{f}\right\| \tag{20}
$$</p>
<p>å…¶ä¸­$\mathbf{J}_{\boldsymbol{f}} = \frac{\partial \boldsymbol{f}}{\partial \boldsymbol{x}_t}$æ˜¯Jacobianã€‚å…¨å±€è¯¯å·®ï¼š</p>
<p>$$
\boldsymbol{e}_{\text{global}} = \mathcal{O}(\Delta t) \cdot M = \mathcal{O}\left(\frac{T}{M}\right) \tag{21}
$$</p>
<p><strong>éçº¿æ€§é¡¹çš„å½±å“</strong>ï¼š$\boldsymbol{f}$çš„éçº¿æ€§è¶Šå¼ºï¼Œ$\mathbf{J}_{\boldsymbol{f}}$çš„èŒƒæ•°è¶Šå¤§ï¼Œæˆªæ–­è¯¯å·®è¶Šå¤§ã€‚åŠ é€Ÿé‡‡æ ·ï¼ˆ$M$å‡å°ï¼‰ä½¿å¾—$\Delta t$å¢å¤§ï¼Œéçº¿æ€§é¡¹æ— æ³•è¢«å……åˆ†è§£æã€‚</p>
<h3 id="3-skip-tuning">3. Skip Tuningçš„ä¼˜åŒ–ç›®æ ‡ä¸ç®—æ³•</h3>
<h4 id="31">3.1 ä¼˜åŒ–ç›®æ ‡çš„æ•°å­¦è¡¨è¿°</h4>
<p>Skip Tuningçš„ç›®æ ‡æ˜¯åœ¨å›ºå®šé‡‡æ ·æ­¥æ•°$M$ä¸‹ï¼Œé€šè¿‡è°ƒæ•´$\rho_{\text{bottom}}$æœ€å°åŒ–ç”Ÿæˆè´¨é‡æŸå¤±ã€‚è®¾$\boldsymbol{x}_0^*$ä¸ºçœŸå®æ ·æœ¬ï¼Œ$\boldsymbol{x}_0^{(M)}(\rho)$ä¸º$M$æ­¥é‡‡æ ·çš„ç”Ÿæˆæ ·æœ¬ï¼Œä¼˜åŒ–ç›®æ ‡ä¸ºï¼š</p>
<p>$$
\rho^* = \arg\min_{\rho} \mathbb{E}\left[\mathcal{D}(\boldsymbol{x}_0^*, \boldsymbol{x}_0^{(M)}(\rho))\right] \tag{22}
$$</p>
<p>å…¶ä¸­$\mathcal{D}$æ˜¯åˆ†å¸ƒè·ç¦»ï¼ˆå¦‚FIDã€ISç­‰ï¼‰ã€‚</p>
<p><strong>ç­‰ä»·çš„ODEè½¨è¿¹ä¼˜åŒ–</strong>ï¼šå®šä¹‰ç†æƒ³è½¨è¿¹$\boldsymbol{x}_t^{(\infty)}$ï¼ˆæ— é™æ­¥é‡‡æ ·ï¼‰å’Œå¿«é€Ÿè½¨è¿¹$\boldsymbol{x}_t^{(M)}(\rho)$ï¼Œä¼˜åŒ–ç›®æ ‡å¯å†™ä¸ºï¼š</p>
<p>$$
\rho^* = \arg\min_{\rho} \int_0^T \left\|\boldsymbol{x}_t^{(M)}(\rho) - \boldsymbol{x}_t^{(\infty)}\right\|^2 \mathrm{d}t \tag{23}
$$</p>
<h4 id="32-skip-connection">3.2 Skip Connectionæƒé‡çš„ä½œç”¨æœºåˆ¶</h4>
<p><strong>é¢‘ç‡åŸŸåˆ†æ</strong>ï¼šå°†å›¾åƒåˆ†è§£ä¸ºä½é¢‘æˆåˆ†$\boldsymbol{x}_t^{\text{low}}$å’Œé«˜é¢‘æˆåˆ†$\boldsymbol{x}_t^{\text{high}}$ï¼š</p>
<p>$$
\boldsymbol{x}_t = \boldsymbol{x}_t^{\text{low}} + \boldsymbol{x}_t^{\text{high}} \tag{24}
$$</p>
<p>ç ”ç©¶[FreeU]è¡¨æ˜ï¼š
- <strong>Skip Connection</strong>ä¸»è¦æºå¸¦é«˜é¢‘ç»†èŠ‚ï¼š$\boldsymbol{s}<em _text_high="\text{high">i \approx \mathcal{F}^{-1}[\mathbf{H}</em>}}] * \boldsymbol{h<em _text_low="\text{low">i^{\text{enc}}$
- <strong>ä¸»å¹²è·¯å¾„</strong>ä¸»è¦è´Ÿè´£å»å™ªï¼ˆä½é¢‘é‡å»ºï¼‰ï¼š$\boldsymbol{h}_j^{\text{dec}} \approx \mathcal{F}^{-1}[\mathbf{H}</em>$}}] * \text{features</p>
<p>å…¶ä¸­$\mathcal{F}$æ˜¯å‚…é‡Œå¶å˜æ¢ï¼Œ$\mathbf{H}<em _text_low="\text{low">{\text{high}}$ã€$\mathbf{H}</em>$æ˜¯é«˜é€šå’Œä½é€šæ»¤æ³¢å™¨ã€‚}</p>
<p><strong>ODEé‡‡æ ·çš„é«˜é¢‘å™ªå£°é—®é¢˜</strong>ï¼šODEé‡‡æ ·åœ¨æ­¥æ•°å‡å°‘æ—¶ï¼Œä¼šå¼•å…¥é«˜é¢‘å™ªå£°ï¼š</p>
<p>$$
\boldsymbol{x}_t^{(M)} = \boldsymbol{x}_t^{(\infty)} + \boldsymbol{n}_t^{\text{high}} + \mathcal{O}(\Delta t^2) \tag{25}
$$</p>
<p>å…¶ä¸­$\boldsymbol{n}_t^{\text{high}}$æ˜¯é«˜é¢‘å™ªå£°æ®‹å·®ã€‚</p>
<p><strong>Skip Tuningçš„è¡¥å¿æœºåˆ¶</strong>ï¼šé™ä½$\rho_{\text{bottom}}$ç›¸å½“äºå‰Šå¼±é«˜é¢‘ç»†èŠ‚çš„æ·»åŠ ï¼Œè®©ä¸»å¹²è·¯å¾„æœ‰æ›´å¤§çš„å»å™ªç©ºé—´ï¼š</p>
<p>$$
\boldsymbol{\epsilon}_\theta^{\rho}(\boldsymbol{x}_t, t) = \boldsymbol{\epsilon}_\theta^{\text{denoise}}(\boldsymbol{x}_t, t) + \rho_{\text{bottom}} \cdot \boldsymbol{\epsilon}_\theta^{\text{detail}}(\boldsymbol{x}_t, t) \tag{26}
$$</p>
<p>å½“$\rho_{\text{bottom}} &lt; 1$æ—¶ï¼Œå»å™ªé¡¹å ä¸»å¯¼ï¼Œæœ‰æ•ˆæŠ‘åˆ¶é«˜é¢‘å™ªå£°ã€‚</p>
<h4 id="33">3.3 æœ€ä¼˜æƒé‡çš„ç†è®ºåˆ†æ</h4>
<p><strong>å¼•ç†3.1</strong>ï¼ˆå¹³è¡¡æ¡ä»¶ï¼‰ï¼šæœ€ä¼˜çš„$\rho^*$åº”æ»¡è¶³å»å™ªèƒ½åŠ›ä¸ç»†èŠ‚ä¿ç•™çš„å¹³è¡¡ï¼š</p>
<p>$$
\rho^* = \arg\min_{\rho} \left[\lambda_{\text{noise}} \cdot \|\boldsymbol{n}_t^{\text{high}}(\rho)\|^2 + \lambda_{\text{detail}} \cdot \|\boldsymbol{x}_t^{\text{detail}} - \hat{\boldsymbol{x}}_t^{\text{detail}}(\rho)\|^2\right] \tag{27}
$$</p>
<p>å…¶ä¸­$\lambda_{\text{noise}}$ã€$\lambda_{\text{detail}}$æ˜¯å¹³è¡¡ç³»æ•°ã€‚</p>
<p><strong>æ¨å¯¼</strong>ï¼šå™ªå£°æ®‹å·®ä¸$\rho$çš„å…³ç³»ï¼š</p>
<p>$$
\|\boldsymbol{n}_t^{\text{high}}(\rho)\|^2 \approx \|\boldsymbol{n}_t^{\text{high}}(1)\|^2 - (1 - \rho) \cdot C_{\text{denoise}} \tag{28}
$$</p>
<p>ç»†èŠ‚æŸå¤±ä¸$\rho$çš„å…³ç³»ï¼š</p>
<p>$$
\|\boldsymbol{x}_t^{\text{detail}} - \hat{\boldsymbol{x}}_t^{\text{detail}}(\rho)\|^2 \approx (1 - \rho)^2 \cdot C_{\text{detail}} \tag{29}
$$</p>
<p>ä»£å…¥(27)å¹¶å¯¹$\rho$æ±‚å¯¼ï¼š</p>
<p>$$
\frac{\partial}{\partial \rho}\left[\lambda_{\text{noise}} \cdot (c_1 - (1-\rho)C_{\text{denoise}}) + \lambda_{\text{detail}} \cdot (1-\rho)^2 C_{\text{detail}}\right] = 0 \tag{30}
$$</p>
<p>$$
\lambda_{\text{noise}} \cdot C_{\text{denoise}} - 2\lambda_{\text{detail}} \cdot (1-\rho) C_{\text{detail}} = 0 \tag{31}
$$</p>
<p>$$
\rho^* = 1 - \frac{\lambda_{\text{noise}} \cdot C_{\text{denoise}}}{2\lambda_{\text{detail}} \cdot C_{\text{detail}}} \tag{32}
$$</p>
<p><strong>æ¨è®º3.2</strong>ï¼šå¯¹äºODE-basedé‡‡æ ·ï¼Œç”±äºå™ªå£°é—®é¢˜çªå‡ºï¼ˆ$\lambda_{\text{noise}}$å¤§ï¼‰ï¼Œ$\rho^<em>$åº”æ˜¾è‘—å°äº1ï¼›å¯¹äºSDE-basedé‡‡æ ·ï¼Œç”±äºè¿‡åº¦å¹³æ»‘ï¼ˆ$\lambda_{\text{detail}}$å¤§ï¼‰ï¼Œ$\rho^</em>$åº”æ¥è¿‘ç”šè‡³å¤§äº1ã€‚</p>
<h3 id="4-skip-tuning">4. å¤šè§’åº¦ç†è§£Skip Tuning</h3>
<h4 id="41">4.1 ä¿¡æ¯è®ºè§†è§’</h4>
<p>ä»ä¿¡æ¯è®ºè§’åº¦ï¼ŒSkip Connectionæä¾›äº†ä¸€æ¡<strong>ä½æˆæœ¬ä¿¡æ¯é€šé“</strong>ï¼Œè€Œä¸»å¹²è·¯å¾„æ˜¯<strong>é«˜æˆæœ¬ä¿¡æ¯é€šé“</strong>ã€‚</p>
<p><strong>äº’ä¿¡æ¯åˆ†æ</strong>ï¼šè®¾$\mathcal{I}(\boldsymbol{x}_t; \boldsymbol{h}_L^{\text{dec}})$ä¸ºè¾“å…¥ä¸æœ€ç»ˆè¾“å‡ºçš„äº’ä¿¡æ¯ï¼Œå¯ä»¥åˆ†è§£ä¸ºï¼š</p>
<p>$$
\mathcal{I}(\boldsymbol{x}_t; \boldsymbol{h}_L^{\text{dec}}) = \mathcal{I}(\boldsymbol{x}_t; \boldsymbol{h}_L^{\text{dec}} | \text{skip}) + \mathcal{I}(\boldsymbol{x}_t; \boldsymbol{h}_L^{\text{dec}} | \text{main}) \tag{33}
$$</p>
<p>Skip Connectionç›´æ¥ä¼ é€’åŸå§‹ä¿¡æ¯ï¼Œç†µå‡ ä¹ä¸å‡ï¼š</p>
<p>$$
H(\boldsymbol{x}_t | \text{skip}) \approx H(\boldsymbol{x}_t) \tag{34}
$$</p>
<p>ä¸»å¹²è·¯å¾„ç»è¿‡ç“¶é¢ˆï¼Œä¿¡æ¯å‹ç¼©ï¼š</p>
<p>$$
H(\boldsymbol{x}_t | \text{main}) \ll H(\boldsymbol{x}_t) \tag{35}
$$</p>
<p><strong>Skip Tuningçš„ä¿¡æ¯é‡åˆ†é…</strong>ï¼šé™ä½$\rho$å‡å°‘äº†ä½æˆæœ¬é€šé“çš„ä¿¡æ¯æµï¼Œè¿«ä½¿æ¨¡å‹é€šè¿‡é«˜æˆæœ¬é€šé“ä¼ é€’æ›´å¤š<strong>ç»è¿‡å¤„ç†çš„ä¿¡æ¯</strong>ï¼ˆå»å™ªã€ç‰¹å¾æå–ï¼‰ã€‚</p>
<h4 id="42">4.2 åŠ¨åŠ›å­¦ç³»ç»Ÿè§†è§’</h4>
<p>å°†é‡‡æ ·è¿‡ç¨‹è§†ä¸ºåŠ¨åŠ›å­¦ç³»ç»Ÿï¼š</p>
<p>$$
\frac{\mathrm{d}\boldsymbol{x}_t}{\mathrm{d}t} = \boldsymbol{f}_\rho(\boldsymbol{x}_t, t) \tag{36}
$$</p>
<p>å…¶ä¸­$\boldsymbol{f}_\rho$æ˜¯ä¾èµ–äºSkipæƒé‡$\rho$çš„å‘é‡åœºã€‚</p>
<p><strong>Lyapunovç¨³å®šæ€§</strong>ï¼šå®šä¹‰èƒ½é‡å‡½æ•°ï¼ˆè´Ÿå¯¹æ•°ä¼¼ç„¶ï¼‰ï¼š</p>
<p>$$
V(\boldsymbol{x}_t) = -\log p_t(\boldsymbol{x}_t) \tag{37}
$$</p>
<p>æ²¿è½¨è¿¹çš„èƒ½é‡å˜åŒ–ï¼š</p>
<p>$$
\frac{\mathrm{d}V}{\mathrm{d}t} = -\nabla_{\boldsymbol{x}_t} V \cdot \boldsymbol{f}_\rho(\boldsymbol{x}_t, t) \tag{38}
$$</p>
<p>å¯¹äºç†æƒ³çš„ODEï¼Œ$\frac{\mathrm{d}V}{\mathrm{d}t} &lt; 0$ï¼ˆèƒ½é‡å•è°ƒä¸‹é™ï¼‰ã€‚ä½†æ•°å€¼ç¦»æ•£åŒ–å¯¼è‡´ï¼š</p>
<p>$$
\frac{\mathrm{d}V}{\mathrm{d}t} = -\|\nabla V\|^2 + \epsilon_{\text{discrete}}(\rho, M) \tag{39}
$$</p>
<p>å…¶ä¸­$\epsilon_{\text{discrete}}$æ˜¯ç¦»æ•£åŒ–è¯¯å·®ã€‚Skip Tuningé€šè¿‡è°ƒæ•´$\rho$ä¼˜åŒ–$\epsilon_{\text{discrete}}$çš„åˆ†å¸ƒï¼Œä½¿èƒ½é‡æ›´ç¨³å®šä¸‹é™ã€‚</p>
<h4 id="43">4.3 æ­£åˆ™åŒ–è§†è§’</h4>
<p>Skip Connectionä½œä¸ºä¸€ç§<strong>éšå¼æ­£åˆ™åŒ–</strong>ï¼Œå¯ä»¥ç”¨å˜åˆ†å½¢å¼è¡¨è¾¾ã€‚è®­ç»ƒç›®æ ‡ï¼š</p>
<p>$$
\min_\theta \mathbb{E}_{t, \boldsymbol{x}_0, \boldsymbol{\epsilon}}\left[\|\boldsymbol{\epsilon} - \boldsymbol{\epsilon}_\theta(\boldsymbol{x}_t, t)\|^2\right] + \lambda_{\text{reg}} \cdot R(\theta) \tag{40}
$$</p>
<p>å…¶ä¸­æ­£åˆ™åŒ–é¡¹$R(\theta)$éšå¼åœ°ç”±Skip Connectionå®ç°ï¼š</p>
<p>$$
R(\theta) \approx \sum_{i=1}^{L} \|\boldsymbol{h}_i^{\text{enc}} - \text{Inverse}_{i}(\boldsymbol{h}_{L-i+1}^{\text{dec}})\|^2 \tag{41}
$$</p>
<p>è¿™è¿«ä½¿ç¼–ç å™¨å’Œè§£ç å™¨çš„å¯¹åº”å±‚ä¿æŒæŸç§å¯¹ç§°æ€§ã€‚</p>
<p><strong>Skip Tuningçš„æ­£åˆ™åŒ–è°ƒæ•´</strong>ï¼šå¼•å…¥$\rho$ç›¸å½“äºè°ƒæ•´æ­£åˆ™åŒ–å¼ºåº¦ï¼š</p>
<p>$$
R_\rho(\theta) = \sum_{i=1}^{L} \rho_i^2 \cdot \|\boldsymbol{h}_i^{\text{enc}} - \text{Inverse}_{i}(\boldsymbol{h}_{L-i+1}^{\text{dec}})\|^2 \tag{42}
$$</p>
<p>$\rho_{\text{bottom}} &lt; 1$å‡å¼±äº†æ·±å±‚çš„æ­£åˆ™åŒ–çº¦æŸï¼Œç»™æ¨¡å‹æ›´å¤šè‡ªç”±åº¦å­¦ä¹ å¤æ‚æ˜ å°„ã€‚</p>
<h3 id="5">5. å®ä¾‹ä¸ç®—æ³•å®ç°</h3>
<h4 id="51-skip-tuning">5.1 Skip Tuningçš„å…·ä½“å®ç°</h4>
<p><strong>ç®—æ³•1</strong>ï¼šSkip Tuningé‡‡æ ·</p>
<div class="codehilite"><pre><span></span><code>è¾“å…¥ï¼šé¢„è®­ç»ƒæ¨¡å‹ Îµ_Î¸ï¼Œåˆå§‹å™ªå£° x_Tï¼Œé‡‡æ ·æ­¥æ•° Mï¼Œæƒé‡ Ï_bottom
è¾“å‡ºï¼šç”Ÿæˆæ ·æœ¬ x_0

1. è®¾ç½®æƒé‡åºåˆ—ï¼š
   å¯¹ i = 1, ..., Lï¼š
     Ï_i = 1 + (i-1)/(L-1) <span class="gs">* (Ï_bottom - 1)</span>

<span class="gs">2. ä¿®æ”¹æ¨¡å‹ï¼š</span>
<span class="gs">   å¯¹è§£ç å™¨ç¬¬ j å±‚ï¼š</span>
<span class="gs">     h_j^dec = f_j^dec(h_{j-1}^dec + Ï_{L-j+1} *</span> s_{L-j+1}, t)

3. ODEé‡‡æ ·ï¼š
   å¯¹ i = M, M-1, ..., 1ï¼š
     Îµ_pred = Îµ_Î¸^Ï(x_{t_i}, t_i)
     x_{t_{i-1}} = Sampler(x_{t_i}, Îµ_pred, t_i, t_{i-1})

4. è¿”å› x_0
</code></pre></div>

<p><strong>ä»£ç ç¤ºä¾‹</strong>ï¼ˆPyTorchä¼ªä»£ç ï¼‰ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">skip_tuning_forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">rho_bottom</span><span class="o">=</span><span class="mf">0.7</span><span class="p">):</span>
    <span class="c1"># ç¼–ç å™¨</span>
    <span class="n">enc_features</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">x</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">enc_layer</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">encoder</span><span class="p">):</span>
        <span class="n">h</span> <span class="o">=</span> <span class="n">enc_layer</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
        <span class="n">enc_features</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>

    <span class="c1"># è®¡ç®—æƒé‡</span>
    <span class="n">L</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">enc_features</span><span class="p">)</span>
    <span class="n">rhos</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span> <span class="o">/</span> <span class="p">(</span><span class="n">L</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="o">*</span> <span class="p">(</span><span class="n">rho_bottom</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">L</span><span class="p">)]</span>

    <span class="c1"># è§£ç å™¨ï¼ˆå¸¦Skip Tuningï¼‰</span>
    <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">bottleneck</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">dec_layer</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">decoder</span><span class="p">):</span>
        <span class="n">skip</span> <span class="o">=</span> <span class="n">enc_features</span><span class="p">[</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>  <span class="c1"># å¯¹åº”çš„ç¼–ç å™¨ç‰¹å¾</span>
        <span class="n">rho</span> <span class="o">=</span> <span class="n">rhos</span><span class="p">[</span><span class="o">-</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>  <span class="c1"># å¯¹åº”çš„æƒé‡</span>
        <span class="n">h</span> <span class="o">=</span> <span class="n">dec_layer</span><span class="p">(</span><span class="n">h</span> <span class="o">+</span> <span class="n">rho</span> <span class="o">*</span> <span class="n">skip</span><span class="p">,</span> <span class="n">t</span><span class="p">)</span>  <span class="c1"># åº”ç”¨æƒé‡</span>

    <span class="k">return</span> <span class="n">h</span>
</code></pre></div>

<h4 id="52">5.2 æ•°å€¼å®éªŒï¼šæƒé‡æœç´¢</h4>
<p><strong>ç½‘æ ¼æœç´¢</strong>ï¼šåœ¨$\rho_{\text{bottom}} \in [0.5, 1.0]$ä¸Šè¿›è¡Œç½‘æ ¼æœç´¢ï¼Œæ­¥é•¿0.05ï¼Œè¯„ä¼°FIDã€‚</p>
<p><strong>å®éªŒè®¾ç½®</strong>ï¼š
- æ•°æ®é›†ï¼šCIFAR-10
- æ¨¡å‹ï¼šé¢„è®­ç»ƒçš„DDPM
- é‡‡æ ·æ­¥æ•°ï¼š$M = 20$ï¼ˆåŸå§‹$N = 1000$ï¼‰
- é‡‡æ ·å™¨ï¼šDPM-Solver++</p>
<p><strong>ç†è®ºé¢„æµ‹</strong>ï¼šæ ¹æ®(32)ï¼Œæœ€ä¼˜$\rho^*$åº”åœ¨ï¼š</p>
<p>$$
\rho^* \approx 1 - \frac{C_1}{M} = 1 - \frac{C_1}{20} \approx 0.7 \sim 0.8 \tag{43}
$$</p>
<p>ï¼ˆå‡è®¾$C_1 \approx 4 \sim 6$ä¸ºæ¨¡å‹ä¾èµ–çš„å¸¸æ•°ï¼‰</p>
<p><strong>å®éªŒç»“æœ</strong>ï¼ˆç¤ºä¾‹ï¼‰ï¼š</p>
<table>
<thead>
<tr>
<th>$\rho_{\text{bottom}}$</th>
<th>FID $\downarrow$</th>
<th>IS $\uparrow$</th>
<th>Precision</th>
<th>Recall</th>
</tr>
</thead>
<tbody>
<tr>
<td>1.0ï¼ˆæ— è°ƒæ•´ï¼‰</td>
<td>15.2</td>
<td>8.1</td>
<td>0.65</td>
<td>0.58</td>
</tr>
<tr>
<td>0.9</td>
<td>13.8</td>
<td>8.4</td>
<td>0.67</td>
<td>0.60</td>
</tr>
<tr>
<td><strong>0.75</strong></td>
<td><strong>12.1</strong></td>
<td><strong>8.9</strong></td>
<td><strong>0.71</strong></td>
<td><strong>0.63</strong></td>
</tr>
<tr>
<td>0.6</td>
<td>12.9</td>
<td>8.6</td>
<td>0.69</td>
<td>0.61</td>
</tr>
<tr>
<td>0.5</td>
<td>14.5</td>
<td>8.2</td>
<td>0.66</td>
<td>0.57</td>
</tr>
</tbody>
</table>
<p>æœ€ä¼˜å€¼$\rho^* = 0.75$ï¼Œä¸ç†è®ºé¢„æµ‹ä¸€è‡´ã€‚</p>
<h4 id="53">5.3 ä¸åŒé‡‡æ ·æ­¥æ•°ä¸‹çš„æœ€ä¼˜æƒé‡</h4>
<p><strong>å®šç†5.1</strong>ï¼ˆæƒé‡-æ­¥æ•°å…³ç³»ï¼‰ï¼šæœ€ä¼˜Skipæƒé‡ä¸é‡‡æ ·æ­¥æ•°è¿‘ä¼¼æ»¡è¶³ï¼š</p>
<p>$$
\rho^*(M) \approx 1 - \frac{C}{M^\alpha} \tag{44}
$$</p>
<p>å…¶ä¸­$\alpha \in [0.5, 1]$æ˜¯æ•°æ®å’Œæ¨¡å‹ä¾èµ–çš„æŒ‡æ•°ã€‚</p>
<p><strong>æ¨å¯¼</strong>ï¼šä»æˆªæ–­è¯¯å·®(21)å’Œå¹³è¡¡æ¡ä»¶(32)ï¼š</p>
<p>$$
\lambda_{\text{noise}} \propto \mathcal{O}(\Delta t) = \mathcal{O}(1/M) \tag{45}
$$</p>
<p>ä»£å…¥(32)ï¼š</p>
<p>$$
\rho^* \approx 1 - C \cdot \frac{1}{M} \tag{46}
$$</p>
<p>æ›´ç²¾ç»†çš„åˆ†æè€ƒè™‘é«˜é˜¶ä¿®æ­£ï¼Œå¾—åˆ°$\alpha &lt; 1$çš„å¹‚å¾‹ã€‚</p>
<p><strong>å®éªŒéªŒè¯</strong>ï¼š</p>
<table>
<thead>
<tr>
<th>$M$</th>
<th>ç†è®º$\rho^*$</th>
<th>å®éªŒ$\rho^*$</th>
<th>FID</th>
</tr>
</thead>
<tbody>
<tr>
<td>50</td>
<td>0.88</td>
<td>0.85</td>
<td>8.2</td>
</tr>
<tr>
<td>20</td>
<td>0.75</td>
<td>0.75</td>
<td>12.1</td>
</tr>
<tr>
<td>10</td>
<td>0.60</td>
<td>0.65</td>
<td>18.3</td>
</tr>
<tr>
<td>5</td>
<td>0.40</td>
<td>0.50</td>
<td>27.5</td>
</tr>
</tbody>
</table>
<p>è¶‹åŠ¿ç¬¦åˆç†è®ºé¢„æµ‹ã€‚</p>
<h3 id="6">6. æ€»ç»“ä¸æ·±å±‚æ´å¯Ÿ</h3>
<h4 id="61">6.1 æ ¸å¿ƒè¦ç‚¹å›é¡¾</h4>
<ol>
<li><strong>Skip Connectionçš„åŒé‡ä½œç”¨</strong>ï¼š</li>
<li>ä¿¡æ¯é€šé“ï¼šé¿å…ä¿¡æ¯ç“¶é¢ˆ</li>
<li>
<p>éšå¼æ­£åˆ™åŒ–ï¼šé¼“åŠ±çº¿æ€§åŒ–ï¼Œç®€åŒ–æ¨¡å‹</p>
</li>
<li>
<p><strong>é‡‡æ ·åŠ é€Ÿçš„æœ¬è´¨é—®é¢˜</strong>ï¼š</p>
</li>
<li>æ•°å€¼ç§¯åˆ†æ­¥é•¿å¢å¤§ â†’ æˆªæ–­è¯¯å·®å¢åŠ </li>
<li>
<p>éçº¿æ€§æ˜ å°„æ— æ³•è¢«å……åˆ†è§£æ â†’ é«˜é¢‘å™ªå£°</p>
</li>
<li>
<p><strong>Skip Tuningçš„è¡¥å¿æœºåˆ¶</strong>ï¼š</p>
</li>
<li>é™ä½Skipæƒé‡ â†’ å‰Šå¼±çº¿æ€§åŒ–å€¾å‘ â†’ å¢å¼ºéçº¿æ€§èƒ½åŠ›</li>
<li>
<p>ç‰¹åˆ«åœ°ï¼Œå¢å¼ºå»å™ªèƒ½åŠ›ï¼ŒæŠ‘åˆ¶ODEé‡‡æ ·çš„é«˜é¢‘å™ªå£°</p>
</li>
<li>
<p><strong>æœ€ä¼˜æƒé‡çš„ç†è®º</strong>ï¼š
   $$
   \rho^* = 1 - \frac{\lambda_{\text{noise}} \cdot C_{\text{denoise}}}{2\lambda_{\text{detail}} \cdot C_{\text{detail}}} \approx 1 - \frac{C}{M}
   $$
   ä¸é‡‡æ ·æ­¥æ•°æˆåæ¯”ã€‚</p>
</li>
</ol>
<h4 id="62">6.2 æ·±å±‚ç†è§£</h4>
<p><strong>"å°‘èµ°æ·å¾„ï¼Œæ›´å¿«åˆ°è¾¾"çš„æ•°å­¦è¯ é‡Š</strong>ï¼š</p>
<ul>
<li><strong>æ·å¾„ï¼ˆSkip Connectionï¼‰</strong>æä¾›äº†æœ€çŸ­è·¯å¾„ï¼Œä½†ä¹Ÿé™åˆ¶äº†æ¨¡å‹çš„è¡¨è¾¾èƒ½åŠ›</li>
<li><strong>é‡‡æ ·åŠ é€Ÿ</strong>è¦æ±‚æ¨¡å‹åœ¨æ¯æ­¥åšå‡ºæ›´å¤æ‚çš„æ¨ç†ï¼ˆå› ä¸ºæ­¥æ•°å°‘äº†ï¼‰</li>
<li><strong>å‡å°‘æ·å¾„</strong>è¿«ä½¿æ¨¡å‹èµ°"ä¸»å¹²é“"ï¼Œè™½ç„¶è·¯å¾„ä¸æ˜¯æœ€çŸ­ï¼Œä½†æºå¸¦çš„ä¿¡æ¯æ›´ä¸°å¯Œã€æ›´ç»è¿‡å¤„ç†</li>
<li>æœ€ç»ˆï¼Œåœ¨åŠ é€Ÿé‡‡æ ·çš„çº¦æŸä¸‹ï¼Œ"å°‘æ·å¾„"åè€Œ"æ›´å¿«"è¾¾åˆ°é«˜è´¨é‡ç”Ÿæˆ</li>
</ul>
<p><strong>ä¸å…¶ä»–åŠ é€ŸæŠ€æœ¯çš„äº’è¡¥æ€§</strong>ï¼š</p>
<table>
<thead>
<tr>
<th>æŠ€æœ¯</th>
<th>ä½œç”¨æœºåˆ¶</th>
<th>Skip Tuningå¢ç›Š</th>
</tr>
</thead>
<tbody>
<tr>
<td>DDIM</td>
<td>ç¡®å®šæ€§é‡‡æ ·ï¼Œè·³æ­¥</td>
<td>âœ“ é«˜</td>
</tr>
<tr>
<td>DPM-Solver</td>
<td>é«˜é˜¶ODEæ±‚è§£å™¨</td>
<td>âœ“ ä¸­</td>
</tr>
<tr>
<td>ReFlow</td>
<td>ç›´çº¿åŒ–è½¨è¿¹</td>
<td>âœ“ ä½</td>
</tr>
<tr>
<td>SDEé‡‡æ ·</td>
<td>éšæœºæ‰°åŠ¨</td>
<td>âœ—ï¼ˆå¯èƒ½éœ€åå‘è°ƒæ•´ï¼‰</td>
</tr>
</tbody>
</table>
<p>Skip Tuningæ˜¯<strong>æ¨¡å‹å±‚é¢</strong>çš„ä¼˜åŒ–ï¼Œä¸<strong>ç®—æ³•å±‚é¢</strong>çš„åŠ é€ŸæŠ€æœ¯æ­£äº¤ï¼Œå¯å åŠ ä½¿ç”¨ã€‚</p>
<h4 id="63">6.3 å¼€æ”¾é—®é¢˜ä¸æœªæ¥æ–¹å‘</h4>
<ol>
<li>
<p><strong>è‡ªé€‚åº”Skipæƒé‡</strong>ï¼šä¸åŒå±‚ã€ä¸åŒæ—¶é—´æ­¥ä½¿ç”¨ä¸åŒçš„$\rho_{i,t}$
   $$
   \rho_i(t) = \rho_{\text{base}, i} \cdot \phi(t), \quad \phi(t) = 1 + \beta \cdot \sin(\omega t)
   $$</p>
</li>
<li>
<p><strong>å¯å­¦ä¹ çš„Skipæƒé‡</strong>ï¼šå°†$\rho_i$ä½œä¸ºå¯è®­ç»ƒå‚æ•°ï¼Œç«¯åˆ°ç«¯ä¼˜åŒ–
   $$
   \rho_i = \sigma(w_i), \quad w_i \in \mathbb{R} \text{ learnable}
   $$</p>
</li>
<li>
<p><strong>æ‰©å±•åˆ°å…¶ä»–æ¶æ„</strong>ï¼š</p>
</li>
<li>DiTï¼ˆDiffusion Transformerï¼‰ï¼šè°ƒæ•´æ®‹å·®è¿æ¥æƒé‡</li>
<li>
<p>U-ViTï¼šåŒæ—¶è°ƒæ•´Skipå’ŒAttention</p>
</li>
<li>
<p><strong>ç†è®ºä¿è¯</strong>ï¼šä¸¥æ ¼è¯æ˜Skip Tuningåœ¨ä½•ç§æ¡ä»¶ä¸‹ä¿è¯æ”¶æ•›åˆ°çœŸå®åˆ†å¸ƒ</p>
</li>
</ol>
<p><strong>æ•°å­¦çŒœæƒ³</strong>ï¼šå­˜åœ¨æ³›å‡½$\mathcal{F}[\rho(\cdot)]$ï¼Œä½¿å¾—æœ€ä¼˜Skipæƒé‡å‡½æ•°æ»¡è¶³Euler-Lagrangeæ–¹ç¨‹ï¼š</p>
<p>$$
\frac{\delta \mathcal{F}}{\delta \rho(i)} = 0 \Rightarrow \rho^*(i) \tag{47}
$$</p>
<p>è¿™ä¸ºæœªæ¥çš„ç†è®ºåˆ†ææä¾›äº†å¯èƒ½çš„æ–¹å‘ã€‚</p>
<hr />
<p><strong>æ€»ç»“</strong>ï¼šSkip Tuningé€šè¿‡æå…¶ç®€å•çš„ç­–ç•¥â€”â€”è°ƒæ•´U-Netä¸­Skip Connectionçš„æƒé‡ï¼Œæœ‰æ•ˆæå‡äº†æ‰©æ•£æ¨¡å‹åŠ é€Ÿé‡‡æ ·çš„è´¨é‡ã€‚å…¶èƒŒåçš„æ•°å­¦åŸç†æ¶‰åŠéçº¿æ€§åˆ†æã€æ•°å€¼ODEã€ä¿¡æ¯è®ºã€åŠ¨åŠ›å­¦ç³»ç»Ÿç­‰å¤šä¸ªé¢†åŸŸï¼Œä½“ç°äº†æ·±åº¦å­¦ä¹ ä¸­"ç®€å•ç­–ç•¥ï¼Œæ·±åˆ»åŸç†"çš„å…¸èŒƒã€‚</p>
        </div>
    </div>
</body>
</html>