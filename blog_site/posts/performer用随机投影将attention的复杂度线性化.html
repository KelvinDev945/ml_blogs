<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Performerï¼šç”¨éšæœºæŠ•å½±å°†Attentionçš„å¤æ‚åº¦çº¿æ€§åŒ–</title>
    <style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    line-height: 1.6; color: #333; max-width: 900px; margin: 0 auto; padding: 20px; background: #f5f5f5;
}
.container { background: white; padding: 40px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
header { border-bottom: 2px solid #e0e0e0; padding-bottom: 20px; margin-bottom: 30px; }
h1 { color: #2c3e50; margin-bottom: 10px; font-size: 2em; }
.meta { color: #666; font-size: 0.9em; margin-bottom: 20px; }
.content { margin-top: 30px; overflow-wrap: break-word; }
.content h2 { color: #34495e; margin-top: 30px; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
.content p { margin-bottom: 15px; }
.content pre { background: #f8f8f8; padding: 15px; border-radius: 5px; overflow-x: auto; border-left: 3px solid #3498db; margin: 15px 0; }
.content code { background: #f8f8f8; padding: 2px 5px; border-radius: 3px; font-family: monospace; font-size: 0.9em; }
.content blockquote { border-left: 4px solid #3498db; padding-left: 20px; margin: 20px 0; color: #555; font-style: italic; }
.content table { border-collapse: collapse; width: 100%; margin: 20px 0; }
.content th, .content td { border: 1px solid #ddd; padding: 10px; text-align: left; }
.back-link { display: inline-block; margin-bottom: 20px; color: #3498db; text-decoration: none; font-weight: 500; }
</style>
    
<script>
    window.MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\(', '\)']],
            displayMath: [['$$', '$$'], ['\[', '\]']],
            processEscapes: true
        }
    };
</script>
<script id="MathJax-script" async src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
        <header>
            <h1>Performerï¼šç”¨éšæœºæŠ•å½±å°†Attentionçš„å¤æ‚åº¦çº¿æ€§åŒ–</h1>
            <div class="meta">ğŸ“… æœ€åæ›´æ–°: 2025-12-31 | ğŸ“„ å¤§å°: 22.2 KB</div>
        </header>
        <div class="content">
            <p><strong>åŸæ–‡é“¾æ¥</strong>: <a href="https://spaces.ac.cn/archives/7921">https://spaces.ac.cn/archives/7921</a></p>
<p><strong>å‘å¸ƒæ—¥æœŸ</strong>: </p>
<hr />
<p>Attentionæœºåˆ¶çš„$\mathcal{O}(n^2)$å¤æ‚åº¦æ˜¯ä¸€ä¸ªè€å¤§éš¾é—®é¢˜äº†ï¼Œæ”¹å˜è¿™ä¸€å¤æ‚åº¦çš„æ€è·¯ä¸»è¦æœ‰ä¸¤ç§ï¼šä¸€æ˜¯èµ°ç¨€ç–åŒ–çš„æ€è·¯ï¼Œæ¯”å¦‚æˆ‘ä»¬ä»¥å¾€ä»‹ç»è¿‡çš„<a href="/archives/6853#Sparse%20Self%20Attention">Sparse Attention</a>ä»¥åŠGoogleå‰å‡ ä¸ªæœˆæå‡ºæ¥çš„<a href="https://papers.cool/arxiv/2007.14062">Big Bird</a>ï¼Œç­‰ç­‰ï¼›äºŒæ˜¯èµ°çº¿æ€§åŒ–çš„æ€è·¯ï¼Œè¿™éƒ¨åˆ†å·¥ä½œæˆ‘ä»¬ä¹‹å‰æ€»ç»“åœ¨<a href="/archives/7546">ã€Šçº¿æ€§Attentionçš„æ¢ç´¢ï¼šAttentionå¿…é¡»æœ‰ä¸ªSoftmaxå—ï¼Ÿã€‹</a>ä¸­ï¼Œè¯»è€…å¯ä»¥ç¿»çœ‹ä¸€ä¸‹ã€‚æœ¬æ–‡åˆ™ä»‹ç»ä¸€é¡¹æ–°çš„æ”¹è¿›å·¥ä½œPerformerï¼Œå‡ºè‡ªGoogleçš„æ–‡ç« <a href="https://papers.cool/arxiv/2009.14794">ã€ŠRethinking Attention with Performersã€‹</a>ï¼Œå®ƒçš„ç›®æ ‡ç›¸å½“éœ¸æ°”ï¼šé€šè¿‡éšæœºæŠ•å½±ï¼Œåœ¨ä¸æŸå¤±ç²¾åº¦çš„æƒ…å†µä¸‹ï¼Œå°†Attentionçš„å¤æ‚åº¦çº¿æ€§åŒ–ã€‚</p>
<p>è¯´ç›´æ¥ç‚¹ï¼Œå°±æ˜¯ç†æƒ³æƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥ä¸ç”¨é‡æ–°è®­ç»ƒæ¨¡å‹ï¼Œè¾“å‡ºç»“æœä¹Ÿä¸ä¼šæœ‰æ˜æ˜¾å˜åŒ–ï¼Œä½†æ˜¯å¤æ‚åº¦é™åˆ°äº†$\mathcal{O}(n)$ï¼çœ‹èµ·æ¥çœŸçš„æ˜¯â€œå¤©ä¸Šæ‰é¦…é¥¼â€èˆ¬çš„æ”¹è¿›äº†ï¼ŒçœŸçš„æœ‰è¿™ä¹ˆç¾å¥½å—ï¼Ÿ</p>
<h2 id="attention">Attention</h2>
<p>æˆ‘ä»¬çŸ¥é“ï¼ŒAttentionçš„ä¸€èˆ¬å®šä¹‰ä¸ºï¼š<br />
\begin{equation}Attention(\boldsymbol{Q},\boldsymbol{K},\boldsymbol{V})<em j="1">i = \frac{\sum\limits</em>}^n \text{sim}(\boldsymbol{q<em j="1">i, \boldsymbol{k}_j)\boldsymbol{v}_j}{\sum\limits</em>}^n \text{sim}(\boldsymbol{q}_i, \boldsymbol{k}_j)}\label{eq:gen-att}\end{equation</p>
<p>å¯¹äºæ ‡å‡†çš„Scaled-Dot Attentionæ¥è¯´ï¼Œ$\text{sim}(\boldsymbol{q}, \boldsymbol{k})=e^{\boldsymbol{q}\cdot \boldsymbol{k}}$ï¼ˆæœ‰æ—¶å€™æŒ‡æ•°éƒ¨åˆ†è¿˜ä¼šå¤šä¸ªç¼©æ”¾å› å­ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸æ˜¾å¼å†™å‡ºæ¥äº†ï¼‰ï¼Œå°†æ•´ä¸ªåºåˆ—çš„è¿ç®—å†™æˆçŸ©é˜µå½¢å¼å°±æ˜¯ï¼š<br />
\begin{equation}Attention(\boldsymbol{Q},\boldsymbol{K},\boldsymbol{V}) = softmax\left(\boldsymbol{Q}\boldsymbol{K}^{\top}\right)\boldsymbol{V}\end{equation}<br />
æˆ‘ä»¬ä¸»è¦å…³å¿ƒSelf Attentionåœºæ™¯ï¼Œæ‰€ä»¥ä¸€èˆ¬æœ‰$\boldsymbol{Q}, \boldsymbol{K}, \boldsymbol{V}\in\mathbb{R}^{n\times d}$ã€‚åœ¨ä¸Šå¼ä¸­ï¼Œ$\boldsymbol{Q}\boldsymbol{K}^{\top}$è¿™ä¸€æ­¥ç›¸å½“äºè¦å¯¹$n^2$ä¸ªå‘é‡å¯¹åšå†…ç§¯ï¼Œå¾—åˆ°$n^2$ä¸ªå®æ•°ï¼Œå› æ­¤ä¸ç®¡æ—¶é—´è¿˜æ˜¯ç©ºé—´å¤æ‚åº¦éƒ½æ˜¯$\mathcal{O}(n^2)$çš„ã€‚</p>
<p>è€Œå¯¹äºçº¿æ€§Attentionæ¥è¯´ï¼Œ$\text{sim}(\boldsymbol{q}, \boldsymbol{k})=\phi(\boldsymbol{q})\cdot \varphi(\boldsymbol{k})$ï¼Œå…¶ä¸­$\phi,\varphi$æ˜¯å€¼åŸŸéè´Ÿçš„æ¿€æ´»å‡½æ•°ã€‚è¿™æ ·ä¸€æ¥ï¼ŒAttentionçš„æ ¸å¿ƒè®¡ç®—é‡ï¼ˆå¼$\eqref{eq:gen-att}$ä¸­çš„åˆ†å­éƒ¨åˆ†ï¼‰å°±å˜æˆäº†<br />
\begin{equation}\left(\phi(\boldsymbol{Q})\varphi(\boldsymbol{K})^{\top}\right)\boldsymbol{V}=\phi(\boldsymbol{Q})\left(\varphi(\boldsymbol{K})^{\top}\boldsymbol{V}\right)\end{equation}<br />
ä¸Šå¼å·¦ç«¯çš„å¤æ‚åº¦ä¾ç„¶æ˜¯$\mathcal{O}(n^2)$çš„ï¼Œç”±äºçŸ©é˜µä¹˜æ³•æ»¡è¶³ç»“åˆå¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆç®—åé¢ä¸¤ä¸ªçŸ©é˜µçš„ä¹˜æ³•ï¼Œè¿™æ ·å¤æ‚åº¦å°±å¯ä»¥é™ä¸º$\mathcal{O}(n)$äº†ï¼Œè¯¦ç»†ä»‹ç»è¿˜æ˜¯è¯·è¯»è€…ç¿»çœ‹ä¹‹å‰çš„æ–‡ç« <a href="/archives/7546">ã€Šçº¿æ€§Attentionçš„æ¢ç´¢ï¼šAttentionå¿…é¡»æœ‰ä¸ªSoftmaxå—ï¼Ÿã€‹</a>ï¼Œè¿™é‡Œå°±ä¸è¿‡å¤šå±•å¼€äº†ã€‚</p>
<h2 id="performer">Performer</h2>
<p>ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥è¿›å…¥åˆ°Performerçš„ä»‹ç»äº†ï¼Œå¼€å¤´å·²ç»è¯´äº†ï¼ŒPerformerçš„å‡ºå‘ç‚¹è¿˜æ˜¯æ ‡å‡†çš„Attentionï¼Œæ‰€ä»¥åœ¨å®ƒé‚£é‡Œè¿˜æ˜¯æœ‰$\text{sim}(\boldsymbol{q}, \boldsymbol{k})=e^{\boldsymbol{q}\cdot \boldsymbol{k}}$ï¼Œç„¶åå®ƒå¸Œæœ›å°†å¤æ‚åº¦çº¿æ€§åŒ–ï¼Œé‚£å°±æ˜¯éœ€è¦æ‰¾åˆ°æ–°çš„$\tilde{\boldsymbol{q}}, \tilde{\boldsymbol{k}}$ï¼Œä½¿å¾—ï¼š<br />
\begin{equation}\text{sim}(\boldsymbol{q}, \boldsymbol{k}) \approx \tilde{\boldsymbol{q}}\cdot\tilde{\boldsymbol{k}}\end{equation}<br />
å¦‚æœæ‰¾åˆ°åˆç†çš„ä»$\boldsymbol{q},\boldsymbol{k}$åˆ°$\tilde{\boldsymbol{q}},\tilde{\boldsymbol{k}}$çš„æ˜ å°„æ–¹æ¡ˆï¼Œä¾¿æ˜¯è¯¥æ€è·¯çš„æœ€å¤§éš¾åº¦äº†ã€‚</p>
<h3 id="_1">æ¼‚äº®çš„éšæœºæ˜ å°„</h3>
<p>Performerçš„æœ€å¤§è´¡çŒ®å°±åœ¨äºï¼Œå®ƒæ‰¾åˆ°äº†ä¸€ä¸ªéå¸¸æ¼‚äº®çš„æ˜ å°„æ–¹æ¡ˆï¼š<br />
\begin{equation}\begin{aligned}<br />
e^{\boldsymbol{q}\cdot \boldsymbol{k}}&amp;=\mathbb{E}<em _tilde_boldsymbol_q="\tilde{\boldsymbol{q">{\boldsymbol{\omega}\sim \mathcal{N}(\boldsymbol{\omega};0,\boldsymbol{1}_d)}\left[e^{\boldsymbol{\omega}\cdot \boldsymbol{q}-\Vert \boldsymbol{q}\Vert^2 / 2} \times e^{\boldsymbol{\omega}\cdot \boldsymbol{k}-\Vert \boldsymbol{k}\Vert^2 / 2}\right]\\\[6pt]<br />
&amp;\approx\underbrace{\frac{1}{\sqrt{m}}\begin{pmatrix}e^{\boldsymbol{\omega}_1\cdot \boldsymbol{q}-\Vert \boldsymbol{q}\Vert^2 / 2} \\\<br />
e^{\boldsymbol{\omega}_2\cdot \boldsymbol{q}-\Vert \boldsymbol{q}\Vert^2 / 2}\\\<br />
\vdots\\\<br />
e^{\boldsymbol{\omega}_m\cdot \boldsymbol{q}-\Vert \boldsymbol{q}\Vert^2 / 2} \end{pmatrix}}</em>}}<br />
\cdot \underbrace{\frac{1}{\sqrt{m}}\begin{pmatrix}e^{\boldsymbol{\omega}<em _tilde_boldsymbol_k="\tilde{\boldsymbol{k">1\cdot \boldsymbol{k}-\Vert \boldsymbol{k}\Vert^2 / 2} \\\<br />
e^{\boldsymbol{\omega}_2\cdot \boldsymbol{k}-\Vert \boldsymbol{k}\Vert^2 / 2}\\\<br />
\vdots\\\<br />
e^{\boldsymbol{\omega}_m\cdot \boldsymbol{k}-\Vert \boldsymbol{k}\Vert^2 / 2} \end{pmatrix}}</em>}}<br />
\end{aligned}\label{eq:core}\end{equation}<br />
æˆ‘ä»¬å…ˆåˆ†æä¸€ä¸‹ä¸Šå¼ç©¶ç«Ÿè¯´äº†ä»€ä¹ˆã€‚ç¬¬ä¸€ä¸ªç­‰å·æ„å‘³ç€å·¦å³ä¸¤ç«¯æ˜¯æ’ç­‰çš„ï¼Œé‚£ä¹Ÿå°±æ„å‘³ç€ï¼Œåªè¦æˆ‘ä»¬ä»æ ‡å‡†æ­£æ€åˆ†å¸ƒ$\mathcal{N}(\boldsymbol{\omega};0,\boldsymbol{1}_d)$ä¸­é‡‡æ ·æ— ç©·æ— å°½çš„$\boldsymbol{\omega}$ï¼Œç„¶åç®—å‡º$e^{\boldsymbol{\omega}\cdot \boldsymbol{q}-\Vert \boldsymbol{q}\Vert^2 / 2} \times e^{\boldsymbol{\omega}\cdot \boldsymbol{k}-\Vert \boldsymbol{k}\Vert^2 / 2}$çš„å¹³å‡ï¼Œç»“æœå°±ç­‰äº$e^{\boldsymbol{q}\cdot \boldsymbol{k}}$ï¼Œå†™æˆç§¯åˆ†å½¢å¼å°±æ˜¯ï¼š<br />
\begin{equation}\begin{aligned}<br />
&amp;\frac{1}{(2\pi)^{d/2}}\int e^{-\Vert\boldsymbol{\omega}\Vert^2 / 2}\times e^{\boldsymbol{\omega}\cdot \boldsymbol{q}-\Vert \boldsymbol{q}\Vert^2 / 2} \times e^{\boldsymbol{\omega}\cdot \boldsymbol{k}-\Vert \boldsymbol{k}\Vert^2 / 2}d\boldsymbol{\omega}<br />
\\\<br />
=&amp;\frac{1}{(2\pi)^{d/2}}\int e^{-\Vert\boldsymbol{\omega}-\boldsymbol{q}-\boldsymbol{k}\Vert^2 / 2 + \boldsymbol{q}\cdot \boldsymbol{k}}d\boldsymbol{\omega}\\\<br />
=&amp;\, e^{\boldsymbol{q}\cdot \boldsymbol{k}}<br />
\end{aligned}\end{equation}<br />
å½“ç„¶å®é™…æƒ…å†µä¸‹æˆ‘ä»¬åªèƒ½é‡‡æ ·æœ‰é™çš„$m$ä¸ªï¼Œå› æ­¤å°±å¾—åˆ°äº†ç¬¬äºŒä¸ªçº¦ç­‰å·ï¼Œå®ƒæ­£å¥½å¯ä»¥è¡¨ç¤ºä¸ºä¸¤ä¸ª$m$ç»´å‘é‡çš„å†…ç§¯çš„å½¢å¼ï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„$e^{\boldsymbol{q}\cdot \boldsymbol{k}}\approx \tilde{\boldsymbol{q}}\cdot\tilde{\boldsymbol{k}}$ï¼æ‰€ä»¥ï¼Œå€ŸåŠ©è¿™ä¸ªè¿‘ä¼¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†ä¸¤ä¸ª$d$ç»´å‘é‡çš„å†…ç§¯çš„æŒ‡æ•°ï¼Œè½¬åŒ–ä¸ºäº†ä¸¤ä¸ª$m$ç»´å‘é‡çš„å†…ç§¯äº†ï¼Œä»è€Œç†è®ºä¸Šæ¥è¯´ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†åŸæ¥head_sizeä¸º$d$çš„æ ‡å‡†Attentionï¼Œè½¬åŒ–ä¸ºhead_sizeä¸º$m$çš„çº¿æ€§Attentionäº†ï¼Œè¿™ä¾¿æ˜¯æ•´ç¯‡è®ºæ–‡çš„æ ¸å¿ƒæ€è·¯ã€‚</p>
<h3 id="_2">æ¨å¯¼è¿‡ç¨‹è®¨è®º</h3>
<p>å¯èƒ½æœ‰äº›è¯»è€…ä¼šæ¯”è¾ƒå…³å¿ƒå¼$\eqref{eq:core}$çš„æ¥æºï¼Œè¿™é‡Œå±•å¼€è®¨è®ºä¸€ä¸‹ï¼Œå½“ç„¶å¦‚æœä¸å…³å¿ƒçš„è¯»è€…å¯ä»¥ç›´æ¥è·³è¿‡è¿™ä¸€èŠ‚ã€‚å°½ç®¡ç›´æ¥é€šè¿‡è®¡ç®—ç§¯åˆ†å¯ä»¥éªŒè¯å¼$\eqref{eq:core}$æ˜¯æˆç«‹çš„ï¼Œä½†å¯¹äºä»»æ„å®šä¹‰çš„$\text{sim}(\boldsymbol{q}, \boldsymbol{k})$ï¼Œæ˜¯å¦å¯ä»¥æ‰¾åˆ°ç±»ä¼¼çš„çº¿æ€§è¿‘ä¼¼ï¼Ÿä¸‹é¢æˆ‘ä»¬å°†ä¼šè¯æ˜ï¼Œç±»ä¼¼çš„çº¿æ€§åŒ–æ–¹æ¡ˆå¯ä»¥é€šè¿‡ä¸€ä¸ªä¸€èˆ¬åŒ–çš„æµç¨‹æ‰¾åˆ°ï¼Œåªä¸è¿‡å¾—åˆ°çš„ç»“æœå¯èƒ½è¿œè¿œä¸å¦‚å¼$\eqref{eq:core}$æ¼‚äº®æœ‰æ•ˆã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œå¯¹äºä»»æ„çš„$\text{sim}(\boldsymbol{q}, \boldsymbol{k})$ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹å†™ä¸º<br />
\begin{equation}\text{sim}(\boldsymbol{q}, \boldsymbol{k}) = \frac{\beta(\boldsymbol{q})\gamma(\boldsymbol{k})\text{sim}(\boldsymbol{q}, \boldsymbol{k})}{\beta(\boldsymbol{q})\gamma(\boldsymbol{k})}\end{equation}<br />
ç„¶åæˆ‘ä»¬å¯ä»¥å¯¹$\beta(\boldsymbol{q})\gamma(\boldsymbol{k})\text{sim}(\boldsymbol{q}, \boldsymbol{k})$åšå‚…é‡Œå¶å˜æ¢ï¼š<br />
\begin{equation}\mathcal{F}(\boldsymbol{\omega}_q, \boldsymbol{\omega}_k)=\frac{1}{(2\pi)^{d/2}}\int \beta(\boldsymbol{q})\gamma(\boldsymbol{k})\text{sim}(\boldsymbol{q}, \boldsymbol{k})e^{-i\boldsymbol{\omega}_q\cdot \boldsymbol{q}-i\boldsymbol{\omega}_k\cdot \boldsymbol{k}}d\boldsymbol{q}d\boldsymbol{k}\end{equation}<br />
è‡³äºä¸ºä»€ä¹ˆè¦å…ˆä¹˜ä»¥$\beta(\boldsymbol{q})\gamma(\boldsymbol{k})$ï¼Œé‚£æ˜¯å› ä¸ºç›´æ¥å¯¹$\text{sim}(\boldsymbol{q}, \boldsymbol{k})$åšå‚…é‡Œå¶å˜æ¢çš„ç»“æœå¯èƒ½ä¸å¥½çœ‹ç”šè‡³ä¸å­˜åœ¨ï¼Œä¹˜ä¸€ä¸ªå‡½æ•°ä¹‹åå¯èƒ½å°±å¯ä»¥äº†ï¼Œæ¯”å¦‚å¯ä»¥è®©$\beta(\boldsymbol{x})=\gamma(\boldsymbol{x})=e^{-\lambda\Vert x\Vert^2}$ï¼Œåªè¦$\lambda$è¶³å¤Ÿå¤§ï¼Œå°±å¯ä»¥è®©å¾ˆå¤š$\text{sim}(\boldsymbol{q}, \boldsymbol{k})$éƒ½å®Œæˆå‚…é‡Œå¶å˜æ¢äº†ã€‚</p>
<p>æ¥ç€æˆ‘ä»¬æ‰§è¡Œé€†å˜æ¢ï¼Œå¹¶ä»£å›åŸå¼ï¼Œå°±å¾—åˆ°<br />
\begin{equation}\text{sim}(\boldsymbol{q}, \boldsymbol{k})=\frac{1}{(2\pi)^{d/2}}\int \mathcal{F}(\boldsymbol{\omega}_q, \boldsymbol{\omega}_k)\frac{e^{i\boldsymbol{\omega}_q\cdot \boldsymbol{q}}}{\beta(\boldsymbol{q})} \frac{e^{i\boldsymbol{\omega}_k\cdot \boldsymbol{k}}}{\gamma(\boldsymbol{k})}d\boldsymbol{\omega}_q d\boldsymbol{\omega}_k\end{equation}<br />
å¦‚æœæˆ‘ä»¬èƒ½ç®—å‡º$\mathcal{F}(\boldsymbol{\omega}_q, \boldsymbol{\omega}_k)$å¹¶å®Œæˆå½’ä¸€åŒ–ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥æˆä¸ºä¸€ä¸ªå¯ä»¥ä»ä¸­é‡‡æ ·çš„åˆ†å¸ƒï¼Œä»ä¸­å¯ä»¥é‡‡æ ·å‡ºéšæœºå‘é‡$\boldsymbol{\omega}_q,\boldsymbol{\omega}_k$æ¥ï¼Œç„¶åè¿‘ä¼¼è½¬åŒ–ä¸º$\frac{e^{i\boldsymbol{\omega}_q\cdot \boldsymbol{q}}}{\beta(\boldsymbol{q})}, \frac{e^{i\boldsymbol{\omega}_k\cdot \boldsymbol{k}}}{\gamma(\boldsymbol{k})}$ç»„æˆçš„å‘é‡åºåˆ—çš„å†…ç§¯ã€‚å½“ç„¶ï¼Œè¿™é‡Œçš„è¿ç®—å¯èƒ½æ¶‰åŠåˆ°è™šæ•°ï¼Œè€Œæˆ‘ä»¬ä¸€èˆ¬åªæ˜¯å¤„ç†å®æ•°ï¼Œä½†è¿™é—®é¢˜ä¸å¤§ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æ¬§æ‹‰å…¬å¼$e^{i \theta}=\cos\theta + i\sin\theta$å±•å¼€ï¼Œæ•´ä¸ªè¿ç®—è¿‡ç¨‹åªä¿ç•™å®éƒ¨å³å¯ï¼Œå½¢å¼ä¸ä¼šæœ‰å¤ªå¤§çš„å˜åŒ–ã€‚ç†è®ºä¸Šæ¥è¯´ï¼Œæ•´å¥—æµç¨‹å¯ä»¥èµ°ä¸‹æ¥ï¼Œä¸ä¼šæœ‰ä»€ä¹ˆå›°éš¾ï¼Œä½†æ˜¯ç›¸æ¯”å¼$\eqref{eq:core}$ï¼Œå­˜åœ¨çš„é—®é¢˜æ˜¯ï¼š1ã€ç°åœ¨éœ€è¦é‡‡æ ·ä¸¤ç»„éšæœºå˜é‡$\boldsymbol{\omega}_q,\boldsymbol{\omega}_k$ï¼Œä¼šæ‰©å¤§ä¼°è®¡çš„æ–¹å·®ï¼›2ã€æœ€ç»ˆä¿ç•™å®éƒ¨åï¼Œå¾—åˆ°çš„å°†ä¼šæ˜¯$\sin,\cos$çš„ç»„åˆå½¢å¼ï¼Œå…¶ç»“æœæ— æ³•ä¿è¯éè´Ÿæ€§ï¼Œéœ€è¦é¢å¤–çš„clipæ¥å¤„ç†ã€‚</p>
<p>è€Œå¼$\eqref{eq:core}$çš„ç‰¹åˆ«ä¹‹å¤„åœ¨äºï¼Œ$e^{\boldsymbol{q}\cdot \boldsymbol{k}}$å¯ä»¥æ”¹å†™ä¸º<br />
\begin{equation}e^{\boldsymbol{q}\cdot \boldsymbol{k}} = e^{\Vert \boldsymbol{q}\Vert^2 / 2 + \Vert \boldsymbol{k}\Vert^2 / 2 - \Vert\boldsymbol{q}-\boldsymbol{k}\Vert^2 / 2}\end{equation}<br />
æ‰€ä»¥åªéœ€è¦è½¬åŒ–ä¸ºå•ä¸ªå˜é‡$\boldsymbol{q}-\boldsymbol{k}$çš„é—®é¢˜ï¼Œè€Œ$e^{-\Vert\boldsymbol{q}-\boldsymbol{k}\Vert^2 / 2}$çš„å‚…é‡Œå¶å˜æ¢æ­£å¥½æ˜¯$e^{-\Vert\boldsymbol{\omega}\Vert^2 / 2}$ï¼Œæ‰€ä»¥åšé€†å˜æ¢æˆ‘ä»¬æœ‰<br />
\begin{equation}e^{\boldsymbol{q}\cdot \boldsymbol{k}}=\frac{e^{\Vert \boldsymbol{q}\Vert^2 / 2 + \Vert \boldsymbol{k}\Vert^2 / 2}}{(2\pi)^{d/2}}\int e^{-\Vert\boldsymbol{\omega}\Vert^2 / 2 + i \boldsymbol{\omega}\cdot (\boldsymbol{q} - \boldsymbol{k})} d\boldsymbol{\omega}\end{equation}<br />
åˆ°è¿™é‡Œï¼Œå¦‚æœç›´æ¥å–å®éƒ¨å±•å¼€ï¼Œå¾—åˆ°çš„ä¹Ÿæ˜¯$\sin,\cos$çš„ç»„åˆï¼Œè¿™å°±æ˜¯åŸè®ºæ–‡è¯´çš„$\text{trig}$å½¢å¼çš„æŠ•å½±æ–¹æ¡ˆã€‚ä¸è¿‡ï¼Œæœ‰ä¸€ä¸ªæ›´åŠ å·§å¦™çš„æ€§è´¨å¯ä»¥æ”¹å˜è¿™ä¸€åˆ‡ï¼æ³¨æ„åˆ°ä¸Šå¼æ˜¯ä¸€ä¸ªæ’ç­‰å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å·¦å³ä¸¤è¾¹éƒ½ç½®æ¢$\boldsymbol{q}\to -i\boldsymbol{q},\boldsymbol{k}\to i\boldsymbol{k}$ï¼Œç»“æœæ˜¯ï¼š<br />
\begin{equation}e^{\boldsymbol{q}\cdot \boldsymbol{k}}=\frac{e^{-\Vert \boldsymbol{q}\Vert^2 / 2 - \Vert \boldsymbol{k}\Vert^2 / 2}}{(2\pi)^{d/2}}\int e^{-\Vert\boldsymbol{\omega}\Vert^2 / 2 + \boldsymbol{\omega}\cdot (\boldsymbol{q} + \boldsymbol{k})} d\boldsymbol{\omega}\end{equation}<br />
è¿™ä¾¿æ˜¯å¼$\eqref{eq:core}$ã€‚ç½®æ¢$\boldsymbol{q}\to -i\boldsymbol{q},\boldsymbol{k}\to i\boldsymbol{k}$ä½¿å¾—ä¸Šè¿°å·¦è¾¹ä¿æŒä¸å˜ï¼Œå¹¶ä¸”å³è¾¹å®Œå…¨è„±ç¦»è™šæ•°è¿˜ä¿æŒäº†éè´Ÿæ€§ï¼ŒçœŸçš„æ˜¯é›†ä¼—å¤šå·§åˆäºä¸€èº«ï¼Œâ€œåªæ­¤ä¸€å®¶ï¼Œåˆ«æ— åˆ†å·â€çš„æ„Ÿè§‰ï½</p>
<h3 id="_3">æ­£äº¤åŒ–é™ä½æ–¹å·®</h3>
<p>é™¤äº†æå‡ºå¼$\eqref{eq:core}$æ¥å¯¹æ ‡å‡†Attentionè¿›è¡Œçº¿æ€§åŒ–å¤–ï¼ŒåŸè®ºæ–‡è¿˜åšäº†è¿›ä¸€æ­¥çš„å¢å¼ºã€‚åœ¨å¼$\eqref{eq:core}$ï¼Œ$\boldsymbol{\omega}_1,\boldsymbol{\omega}_2,\cdots,\boldsymbol{\omega}_m$æ˜¯ç‹¬ç«‹é‡å¤åœ°ä»$\mathcal{N}(\boldsymbol{\omega};0,\boldsymbol{1}_d)$ä¸­é‡‡æ ·å‡ºæ¥çš„ï¼Œè€ŒåŸè®ºæ–‡åˆ™æŒ‡å‡ºï¼Œå¦‚æœå°†å„ä¸ª$\boldsymbol{\omega}_i$æ­£äº¤åŒ–ï¼Œèƒ½æœ‰æ•ˆåœ°é™ä½ä¼°ç®—çš„æ–¹å·®ï¼Œæé«˜å•æ¬¡ä¼°ç®—çš„å¹³å‡ç²¾åº¦ã€‚</p>
<p>æ³¨æ„ï¼Œè¿™é‡Œçš„æ­£äº¤åŒ–æŒ‡çš„æ˜¯ä¿æŒ$\boldsymbol{\omega}_i$çš„æ¨¡é•¿ä¸å˜ï¼Œä»…ä»…æ˜¯å¯¹å…¶æ–¹å‘è¿›è¡Œæ–½å¯†ç‰¹æ­£äº¤åŒ–ã€‚è¿™ä¸ªæ“ä½œé¦–å…ˆæå‡ºåœ¨åŒæ ·æ˜¯Googleçš„è®ºæ–‡<a href="https://papers.cool/arxiv/1703.00864">ã€ŠThe Unreasonable Effectiveness of Structured Random Orthogonal Embeddingsã€‹</a>ä¸­ï¼Œè€ŒPerformeråœ¨å…¶è®ºæ–‡é™„å½•é‡Œè¾¹ï¼Œè¶³è¶³èŠ±äº†6é¡µçº¸æ¥è®ºè¯è¿™ä¸ªäº‹æƒ…ã€‚è¿™é‡Œç…§æ¬6é¡µè¯æ˜æ˜¾ç„¶æ˜¯ä¸é€‚åˆçš„ï¼Œé‚£å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œè¯¥æ€ä¹ˆå»ç†è§£è¿™ä¸ªç­–ç•¥æ¯”è¾ƒå¥½å‘¢ï¼Ÿ</p>
<p>å…¶å®ï¼Œè¿™ä¸ªç­–ç•¥æœ‰æ•ˆçš„æœ€æ ¹æœ¬åŸå› ï¼Œæ˜¯é‡‡æ ·åˆ†å¸ƒ$\mathcal{N}(\boldsymbol{\omega};0,\boldsymbol{1}_d)$çš„å„å‘åŒæ€§ï¼Œå³å…¶æ¦‚ç‡å¯†åº¦å‡½æ•°$(2\pi)^{-d/2}e^{-\Vert\boldsymbol{\omega}\Vert^2 / 2}$åªä¾èµ–äº$\boldsymbol{\omega}$çš„æ¨¡é•¿$\Vert\boldsymbol{\omega}\Vert$ï¼Œæ‰€ä»¥å®ƒåœ¨æ–¹å‘ä¸Šæ˜¯å‡åŒ€çš„ã€‚è€Œå¦‚æœæˆ‘ä»¬è¦é™ä½ä¼°ç®—çš„æ–¹å·®ï¼Œé‚£ä¹ˆå°±åº”è¯¥è¦é™ä½é‡‡æ ·çš„éšæœºæ€§ï¼Œä½¿å¾—é‡‡æ ·çš„ç»“æœæ›´ä¸ºå‡åŒ€ä¸€äº›ã€‚è€Œå„ä¸ªå‘é‡æ­£äº¤åŒ–ï¼Œæ˜¯æ–¹å‘ä¸Šå‡åŒ€çš„ä¸€ç§å®ç°æ–¹å¼ï¼Œæ¢å¥è¯è¯´ï¼Œå°†å„ä¸ª$\boldsymbol{\omega}_i$æ­£äº¤åŒ–ä¿ƒè¿›äº†é‡‡æ ·ç»“æœçš„å‡åŒ€åŒ–ï¼Œä»è€Œé™ä½ä¼°ç®—çš„æ–¹å·®ã€‚æ­¤å¤–ï¼Œæ­£äº¤åŒ–æ“ä½œä¸€èˆ¬åªå¯¹$m\leq d$æœ‰æ•ˆï¼Œå¦‚æœ$m &gt; d$ï¼ŒåŸè®ºæ–‡çš„å¤„ç†æ–¹å¼æ˜¯æ¯$d$ä¸ªå‘é‡ä¸ºä¸€ç»„åˆ†åˆ«è¿›è¡Œæ­£äº¤åŒ–ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥è”æƒ³åˆ°ï¼Œæ­£äº¤åŒ–æ“ä½œåªæ˜¯è®©é‡‡æ ·çš„æ–¹å‘æ›´åŠ å‡åŒ€åŒ–ï¼Œå¦‚æœè¦åšå¾—æ›´åŠ å½»åº•äº›ï¼Œå¯ä»¥è®©é‡‡æ ·çš„æ¨¡é•¿ä¹Ÿå‡åŒ€åŒ–ã€‚å…·ä½“æ¥è¯´ï¼Œå°†æ ‡å‡†æ­£æ€åˆ†å¸ƒå˜æ¢ä¸º$d$ç»´<a href="https://en.wikipedia.org/wiki/N-sphere">çƒåæ ‡</a>å¾—åˆ°å…¶æ¦‚ç‡å¾®å…ƒä¸ºï¼š<br />
\begin{equation}\frac{1}{(2\pi)^{d/2}} r^{d-1} e^{-r^2 /2} dr dS\end{equation}<br />
å…¶ä¸­$dS = \sin^{d-2}\varphi_{1} \sin^{d-3}\varphi_{2} \cdots \sin\varphi_{d-2}\,d\varphi_{1}\,d\varphi_{2}\cdots d\varphi_{d-1}$ä»£è¡¨åœ¨$d$ç»´çƒé¢ä¸Šçš„ç§¯åˆ†å¾®å…ƒã€‚ä¸Šå¼å°±æ˜¾ç¤ºå‡ºï¼Œæ ‡å‡†æ­£æ€åˆ†å¸ƒåœ¨æ–¹å‘æ˜¯å‡åŒ€çš„ï¼Œæ¨¡é•¿çš„æ¦‚ç‡å¯†åº¦å‡½æ•°æ­£æ¯”äº$r^{d-1} e^{-r^2 /2}$ï¼Œæˆ‘ä»¬å®šä¹‰å®ƒçš„ç´¯ç§¯æ¦‚ç‡å‡½æ•°ï¼š<br />
\begin{equation}P_d(r\leq R) = \frac{\int_0^R r^{d-1} e^{-r^2 /2} dr}{\int_0^{\infty} r^{d-1} e^{-r^2 /2} dr}\end{equation}<br />
å¦‚æœè¦é‡‡æ ·$m$ä¸ªæ ·æœ¬ï¼Œé‚£ä¹ˆè®©$P_d(r\leq R_i) = \frac{i}{m+1},\,i=1,2,\cdots,m$ï¼Œä»ä¸­è§£å‡º$m$ä¸ª$R_i$ä½œä¸ºæ¨¡é•¿å°±è¡Œäº†ã€‚</p>
<h2 id="_4">æ€§èƒ½ä¸æ•ˆæœ</h2>
<p>ç†è®ºçš„ä»‹ç»å°±åˆ°è¿™é‡Œäº†ï¼Œå…¶å®å·²ç»å±•å¼€å¾—éƒ½å¤šäº†ï¼Œä¸€èˆ¬æ¥è¯´åªè¦å¯¹çº¿æ€§Attentionæœ‰æ‰€äº†è§£çš„è¯ï¼Œé‚£ä¹ˆåªè¦çœ‹åˆ°å¼$\eqref{eq:core}$ï¼Œå°±èƒ½å¾ˆå¿«ç†è§£Performerçš„è¦ç‚¹äº†ï¼Œå‰©ä¸‹çš„éƒ½æ˜¯é”¦ä¸Šæ·»èŠ±çš„å†…å®¹ï¼Œä¸å½±å“å…¨æ–‡çš„ä¸»çº¿ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±ä¸»è¦çœ‹å¯¹Performerçš„è¯„æµ‹ã€‚</p>
<h3 id="_5">åŸè®ºæ–‡çš„è¯„æµ‹</h3>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹åŸè®ºæ–‡çš„è¯„æµ‹ï¼Œå…¶å®å®ƒçš„è¯„æµ‹è¿˜æ˜¯å¾ˆä¸°å¯Œçš„ï¼Œä½†æ˜¯æœ‰ç‚¹ä¹±ï¼Œå¯¹äºä¸»è¦å…³å¿ƒNLPçš„è¯»è€…æ¥è¯´å¯èƒ½è¿˜æœ‰ç‚¹è«åå…¶å¦™ã€‚</p>
<p>ä¸€å¼€å§‹æ˜¯é€Ÿåº¦ä¸Šçš„è¯„æµ‹ï¼Œè¿™ä¸ªä¸æ„å¤–ï¼Œåæ­£å°±æ˜¯åºåˆ—é•¿äº†ä¹‹åPerformeræ¯”æ ‡å‡†çš„Transformeræœ‰æ˜æ˜¾ä¼˜åŠ¿ï¼š  </p>
<p><a href="/usr/uploads/2020/11/1906975294.png" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="Performerä¸æ ‡å‡†Transformerçš„é€Ÿåº¦å¯¹æ¯”ï¼ˆå®çº¿ï¼šPerformerï¼Œè™šçº¿ï¼šæ ‡å‡†Transformerï¼‰" src="/usr/uploads/2020/11/1906975294.png" /></a></p>
<p>Performerä¸æ ‡å‡†Transformerçš„é€Ÿåº¦å¯¹æ¯”ï¼ˆå®çº¿ï¼šPerformerï¼Œè™šçº¿ï¼šæ ‡å‡†Transformerï¼‰</p>
<p>æ¥ç€ï¼Œæ˜¯è¿‘ä¼¼ç¨‹åº¦çš„æ¯”è¾ƒï¼Œè¯´æ˜äº†é‡‡æ ·æ­£äº¤åŒ–çš„æœ‰æ•ˆæ€§ï¼Œä»¥åŠæ‰€æçš„å¼$\eqref{eq:core}$ç›¸æ¯”æ—§çš„åŸºäº$\sin,\cos$å‡½æ•°çš„å½¢å¼çš„ç²¾ç¡®æ€§ï¼š  </p>
<p><a href="/usr/uploads/2020/11/1382670304.png" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="å·¦å›¾ï¼šæ¯”è¾ƒé‡‡æ ·å‘é‡æ­£äº¤åŒ–çš„æœ‰æ•ˆæ€§ï¼›æœ‰å›¾ï¼šæ¯”è¾ƒPerformeræ‰€ç”¨çš„è¿‘ä¼¼ä¸æ—§çš„åŸºäºä¸‰è§’å‡½æ•°çš„è¿‘ä¼¼çš„ç²¾ç¡®æ€§" src="/usr/uploads/2020/11/1382670304.png" /></a></p>
<p>å·¦å›¾ï¼šæ¯”è¾ƒé‡‡æ ·å‘é‡æ­£äº¤åŒ–çš„æœ‰æ•ˆæ€§ï¼›æœ‰å›¾ï¼šæ¯”è¾ƒPerformeræ‰€ç”¨çš„è¿‘ä¼¼ä¸æ—§çš„åŸºäºä¸‰è§’å‡½æ•°çš„è¿‘ä¼¼çš„ç²¾ç¡®æ€§</p>
<p>é‚£èƒ½ä¸èƒ½è¾¾åˆ°æˆ‘ä»¬ä¸€å¼€å§‹çš„é¢„æœŸç›®æ ‡â€”â€”ä¸ç”¨é‡æ–°è®­ç»ƒå·²è®­ç»ƒå¥½çš„æ¨¡å‹å‘¢ï¼Ÿå¾ˆé—æ†¾ï¼Œä¸è¡Œï¼ŒåŸè®ºæ–‡åšäº†ä¸¤ä¸ªå®éªŒï¼Œæ˜¾ç¤ºPerformerç›´æ¥åŠ è½½Transformerçš„æƒé‡ä¸èƒ½é‡ç°å·²æœ‰çš„ç»“æœï¼Œä½†ç»è¿‡finetuneåå¯ä»¥è¿…é€Ÿæ¢å¤ã€‚è‡³äºä¸ºä»€ä¹ˆä¸€å¼€å§‹æ²¡æœ‰å¾ˆå¥½åœ°é‡ç°ï¼Œè®ºæ–‡æ²¡æœ‰åšå±•å¼€åˆ†æã€‚  </p>
<p><a href="/usr/uploads/2020/11/4160082570.png" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="PerformeråŠ è½½å·²è®­ç»ƒå¥½çš„Transformeræƒé‡å®éªŒ" src="/usr/uploads/2020/11/4160082570.png" /></a></p>
<p>PerformeråŠ è½½å·²è®­ç»ƒå¥½çš„Transformeræƒé‡å®éªŒ</p>
<p>æœ€åï¼Œè®ºæ–‡è¿˜åšäº†è›‹ç™½è´¨åºåˆ—å’Œå›¾åƒçš„å®éªŒï¼Œè¯æ˜Performerå¯¹äºé•¿åºåˆ—æ˜¯å¾ˆæœ‰æ•ˆçš„ï¼Œç‰¹åˆ«åœ°ï¼Œè‡³å°‘æ¯”Reformeræœ‰æ•ˆï¼Œå…¨æ–‡çš„å®éªŒå·®ä¸å¤šå°±æ˜¯è¿™æ ·ï¼Œå†…å®¹å¾ˆå¤šï¼Œä½†æœ‰ç‚¹æ‰¾ä¸åˆ°åŒ—çš„æ„Ÿè§‰ã€‚</p>
<h3 id="_6">å…¶ä»–è®ºæ–‡çš„è¯„æµ‹</h3>
<p>ä¹Ÿè®¸æ˜¯è‡ªå·±çš„åŒäº‹éƒ½çœ‹ä¸ä¸‹å»äº†ï¼Œåæ¥Googleåˆå‡ºäº†ä¸¤ç¯‡è®ºæ–‡<a href="https://papers.cool/arxiv/2009.06732">ã€ŠEfficient Transformers: A Surveyã€‹</a>å’Œ<a href="https://papers.cool/arxiv/2011.04006">ã€ŠLong Range Arena: A Benchmark for Efficient Transformersã€‹</a>ï¼Œç³»ç»Ÿåœ°è¯„æµ‹å’Œæ¯”è¾ƒäº†å·²æœ‰çš„ä¸€äº›æ”¹è¿›Transformeræ•ˆç‡çš„æ–¹æ³•ï¼Œå…¶ä¸­å°±åŒ…å«äº†Performerã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œè¿™ä¸¤ç¯‡è®ºæ–‡ç»™å‡ºçš„ç»“æœå°±ç›´è§‚å¤šäº†ï¼Œç®€å•å‡ ä¸ªå›¾è¡¨ï¼Œå°±æŠŠå„ä¸ªæ¨¡å‹çš„ä½ç½®ç»™è¡¨è¾¾æ¸…æ¥šäº†ã€‚</p>
<p><a href="/usr/uploads/2020/11/120098097.png" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="å„ç§é«˜æ•ˆTransformeråˆ†é—¨åˆ«ç±»" src="/usr/uploads/2020/11/120098097.png" /></a></p>
<p>å„ç§é«˜æ•ˆTransformeråˆ†é—¨åˆ«ç±»</p>
<p><a href="/usr/uploads/2020/11/214381284.png" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="å„ç±»æ”¹è¿›ç‰ˆTransformeræ¯”è¾ƒã€‚å…¶ä¸­decodeé‚£ä¸€æ æŒ‡çš„æ˜¯èƒ½å¦maskæ‰æœªæ¥ä¿¡æ¯ï¼Œç”¨äºåšè¯­è¨€æ¨¡å‹" src="/usr/uploads/2020/11/214381284.png" /></a></p>
<p>å„ç±»æ”¹è¿›ç‰ˆTransformeræ¯”è¾ƒã€‚å…¶ä¸­decodeé‚£ä¸€æ æŒ‡çš„æ˜¯èƒ½å¦maskæ‰æœªæ¥ä¿¡æ¯ï¼Œç”¨äºåšè¯­è¨€æ¨¡å‹</p>
<p><a href="/usr/uploads/2020/11/2836911271.png" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="å„ä¸ªTransformeræ¨¡å‹çš„â€œæ•ˆæœ-é€Ÿåº¦-æ˜¾å­˜â€å›¾ï¼Œçºµè½´æ˜¯æ•ˆæœï¼Œæ¨ªè½´æ˜¯é€Ÿåº¦ï¼Œåœ†åœˆçš„å¤§å°ä»£è¡¨æ‰€éœ€è¦çš„æ˜¾å­˜ã€‚ç†è®ºä¸Šæ¥è¯´ï¼Œè¶Šé è¿‘å³ä¸Šæ–¹çš„æ¨¡å‹è¶Šå¥½ï¼Œåœ†åœˆè¶Šå°çš„æ¨¡å‹è¶Šå¥½" src="/usr/uploads/2020/11/2836911271.png" /></a></p>
<p>å„ä¸ªTransformeræ¨¡å‹çš„â€œæ•ˆæœ-é€Ÿåº¦-æ˜¾å­˜â€å›¾ï¼Œçºµè½´æ˜¯æ•ˆæœï¼Œæ¨ªè½´æ˜¯é€Ÿåº¦ï¼Œåœ†åœˆçš„å¤§å°ä»£è¡¨æ‰€éœ€è¦çš„æ˜¾å­˜ã€‚ç†è®ºä¸Šæ¥è¯´ï¼Œè¶Šé è¿‘å³ä¸Šæ–¹çš„æ¨¡å‹è¶Šå¥½ï¼Œåœ†åœˆè¶Šå°çš„æ¨¡å‹è¶Šå¥½</p>
<p>æ›´è¯¦ç»†çš„è¯„æµ‹ä¿¡æ¯ï¼Œå¤§å®¶è‡ªè¡Œå»çœ‹è¿™ä¸¤ç¯‡è®ºæ–‡å°±å¥½ã€‚</p>
<h2 id="_7">é—®é¢˜ä¸æ€è€ƒ</h2>
<p>çœ‹èµ·æ¥Performeræ˜¯æŒºä¸é”™çš„ï¼Œé‚£æ˜¯ä¸æ˜¯è¯´æˆ‘ä»¬å°±å¯ä»¥ç”¨å®ƒæ¥æ›¿ä»£Transformeräº†ï¼Ÿå¹¶ä¸æ˜¯ï¼Œçºµç„¶Performeræœ‰è¯¸å¤šå¯å–ä¹‹å¤„ï¼Œä½†ä»ç„¶å­˜åœ¨ä¸€äº›æ— æ³•è§£å†³çš„é—®é¢˜ã€‚</p>
<p>é¦–å…ˆï¼Œä¸ºäº†æ›´å¥½åœ°è¿‘ä¼¼æ ‡å‡†Transformerï¼ŒPerformerçš„$m$å¿…é¡»å–å¾—æ¯”è¾ƒå¤§ï¼Œè‡³å°‘æ˜¯$m &gt; d$ï¼Œä¸€èˆ¬æ˜¯$d$çš„å‡ å€ï¼Œè¿™ä¹Ÿå°±æ˜¯è¯´ï¼ŒPerformerçš„head_sizeè¦æ¯”æ ‡å‡†Transformerè¦æ˜æ˜¾å¤§ã€‚è™½ç„¶ç†è®ºä¸Šæ¥è¯´ï¼Œä¸ç®¡$m$å¤šå¤§ï¼Œåªè¦å®ƒå›ºå®šäº†ï¼Œé‚£ä¹ˆPerformerå…³äºåºåˆ—é•¿åº¦çš„å¤æ‚åº¦æ˜¯çº¿æ€§çš„ï¼Œä½†æ˜¯$m$å˜å¤§äº†ï¼Œåœ¨åºåˆ—é•¿åº¦æ¯”è¾ƒçŸ­æ—¶è®¡ç®—é‡æ˜¯æ˜æ˜¾å¢åŠ çš„ã€‚æ¢å¥è¯è¯´ï¼ŒçŸ­åºåˆ—ç”¨Performeræ€§èƒ½åº”è¯¥æ˜¯ä¸‹é™çš„ï¼Œæ ¹æ®ç¬”è€…çš„ä¼°è®¡ï¼Œåªæœ‰åºåˆ—é•¿åº¦åœ¨5000ä»¥ä¸Šï¼ŒPerformeræ‰ä¼šæœ‰æ¯”è¾ƒæ˜æ˜¾çš„ä¼˜åŠ¿ã€‚</p>
<p>å…¶æ¬¡ï¼Œç›®å‰çœ‹æ¥Performerï¼ˆåŒ…æ‹¬å…¶ä»–çš„çº¿æ€§Attentionï¼‰è·Ÿç›¸å¯¹ä½ç½®ç¼–ç æ˜¯ä¸å…¼å®¹çš„ï¼Œå› ä¸ºç›¸å¯¹ä½ç½®ç¼–ç æ˜¯ç›´æ¥åŠ åœ¨AttentionçŸ©é˜µé‡Œè¾¹çš„ï¼ŒPerformerè¿AttentionçŸ©é˜µéƒ½æ²¡æœ‰ï¼Œè‡ªç„¶æ˜¯åŠ ä¸äº†çš„ã€‚æ­¤å¤–ï¼Œåƒ<a href="/archives/6933">UniLM</a>è¿™ç§ç‰¹æ®Šçš„Seq2Seqåšæ³•ä¹Ÿåšä¸åˆ°äº†ï¼Œä¸è¿‡æ™®é€šçš„å•å‘è¯­è¨€æ¨¡å‹è¿˜æ˜¯å¯ä»¥åšåˆ°çš„ã€‚æ€»ä¹‹ï¼Œ$\mathcal{O}(n^2)$çš„AttentionçŸ©é˜µå®é™…ä¸Šä¹Ÿå¸¦æ¥äº†å¾ˆå¤§çš„çµæ´»æ€§ï¼Œè€Œçº¿æ€§Attentionæ”¾å¼ƒäº†è¿™ä¸ªAttentionçŸ©é˜µï¼Œä¹Ÿå°±æ”¾å¼ƒäº†è¿™ç§çµæ´»æ€§äº†ã€‚</p>
<p>æœ€åï¼Œä¹Ÿæ˜¯ç¬”è€…è§‰å¾—æœ€å¤§çš„é—®é¢˜ï¼Œå°±æ˜¯Performerçš„æ€æƒ³æ˜¯å°†æ ‡å‡†çš„Attentionçº¿æ€§åŒ–ï¼Œæ‰€ä»¥ä¸ºä»€ä¹ˆä¸å¹²è„†ç›´æ¥è®­ç»ƒä¸€ä¸ªçº¿æ€§Attentionæ¨¡å‹ï¼Œè€Œæ˜¯è¦å‘æ ‡å‡†Attentioné é½å‘¢ï¼Ÿä»å‰é¢çš„æœ€åä¸€å¼ å›¾æ¥çœ‹ï¼ŒPerformerå¹¶æ²¡æœ‰æ¯”Linear Transformeræœ‰å¤§çš„ä¼˜åŠ¿ï¼ˆè€Œä¸”ç¬”è€…è§‰å¾—æœ€åä¸€å¼ å›¾çš„æ¯”è¾ƒå¯èƒ½æœ‰é—®é¢˜ï¼ŒPerformeræ•ˆæœå¯èƒ½æ¯”Linear Transformerè¦å¥½ï¼Œä½†æ˜¯é€Ÿåº¦æ€ä¹ˆå¯èƒ½è¿˜è¶…è¿‡äº†Linear Transformerï¼ŸPerformerä¹Ÿæ˜¯è½¬åŒ–ä¸ºLinear Transformerçš„ï¼Œå¤šäº†è½¬åŒ–è¿™ä¸€æ­¥ï¼Œé€Ÿåº¦æ€èƒ½æ›´å¿«ï¼Ÿï¼‰ï¼Œå› æ­¤Performerçš„ä»·å€¼å°±è¦æ‰“ä¸Šä¸ªé—®å·äº†ï¼Œæ¯•ç«Ÿçº¿æ€§Attentionçš„å®ç°å®¹æ˜“å¾—å¤šï¼Œè€Œä¸”æ˜¯é€šç”¨äºé•¿åºåˆ—/çŸ­åºåˆ—ï¼ŒPerformerå®ç°èµ·æ¥åˆ™éº»çƒ¦å¾—å¤šï¼Œåªé€‚ç”¨äºé•¿åºåˆ—ã€‚</p>
<h2 id="_8">å…¨æ–‡çš„æ€»ç»“</h2>
<p>æœ¬æ–‡ä¸»è¦ä»‹ç»äº†Googleçš„æ–°æ¨¡å‹Performerï¼Œè¿™æ˜¯ä¸€ä¸ªé€šè¿‡éšæœºæŠ•å½±å°†æ ‡å‡†Attentionçš„å¤æ‚åº¦çº¿æ€§åŒ–çš„å·¥ä½œï¼Œé‡Œè¾¹æœ‰ä¸å°‘å€¼å¾—æˆ‘ä»¬å­¦ä¹ çš„åœ°æ–¹ï¼Œæœ€åæ±‡æ€»äº†ä¸€ä¸‹å„ä¸ªæ”¹è¿›ç‰ˆTransformerçš„è¯„æµ‹ç»“æœï¼Œä»¥åŠåˆ†äº«äº†ç¬”è€…å¯¹Performerçš„æ€è€ƒã€‚</p>
<p><em><strong>è½¬è½½åˆ°è¯·åŒ…æ‹¬æœ¬æ–‡åœ°å€ï¼š</strong><a href="https://spaces.ac.cn/archives/7921">https://spaces.ac.cn/archives/7921</a></em></p>
<p><em><strong>æ›´è¯¦ç»†çš„è½¬è½½äº‹å®œè¯·å‚è€ƒï¼š</strong></em><a href="https://spaces.ac.cn/archives/6508#%E6%96%87%E7%AB%A0%E5%A6%82%E4%BD%95%E8%BD%AC%E8%BD%BD/%E5%BC%95%E7%94%A8" title="ã€Šç§‘å­¦ç©ºé—´FAQã€‹">ã€Šç§‘å­¦ç©ºé—´FAQã€‹</a></p>
<p><strong>å¦‚æœæ‚¨è¿˜æœ‰ä»€ä¹ˆç–‘æƒ‘æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹è¯„è®ºåŒºç»§ç»­è®¨è®ºã€‚</strong></p>
<p><strong>å¦‚æœæ‚¨è§‰å¾—æœ¬æ–‡è¿˜ä¸é”™ï¼Œæ¬¢è¿åˆ†äº«/æ‰“èµæœ¬æ–‡ã€‚æ‰“èµå¹¶éè¦ä»ä¸­è·å¾—æ”¶ç›Šï¼Œè€Œæ˜¯å¸Œæœ›çŸ¥é“ç§‘å­¦ç©ºé—´è·å¾—äº†å¤šå°‘è¯»è€…çš„çœŸå¿ƒå…³æ³¨ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æ— è§†å®ƒï¼Œä¹Ÿä¸ä¼šå½±å“ä½ çš„é˜…è¯»ã€‚å†æ¬¡è¡¨ç¤ºæ¬¢è¿å’Œæ„Ÿè°¢ï¼</strong></p>
<p>æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/wx.png" /></p>
<p>å¾®ä¿¡æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/zfb.png" /></p>
<p>æ”¯ä»˜å®æ‰“èµ</p>
<p>å› ä¸ºç½‘ç«™åå°å¯¹æ‰“èµå¹¶æ— è®°å½•ï¼Œå› æ­¤æ¬¢è¿åœ¨æ‰“èµæ—¶å€™å¤‡æ³¨ç•™è¨€ã€‚ä½ è¿˜å¯ä»¥<a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=tN7d1drY3drrx8H0xcWa19vZ"><strong>ç‚¹å‡»è¿™é‡Œ</strong></a>æˆ–åœ¨ä¸‹æ–¹è¯„è®ºåŒºç•™è¨€æ¥å‘ŠçŸ¥ä½ çš„å»ºè®®æˆ–éœ€æ±‚ã€‚</p>
<p><strong>å¦‚æœæ‚¨éœ€è¦å¼•ç”¨æœ¬æ–‡ï¼Œè¯·å‚è€ƒï¼š</strong></p>
<p>è‹å‰‘æ—. (Dec. 01, 2020). ã€ŠPerformerï¼šç”¨éšæœºæŠ•å½±å°†Attentionçš„å¤æ‚åº¦çº¿æ€§åŒ– ã€‹[Blog post]. Retrieved from <a href="https://spaces.ac.cn/archives/7921">https://spaces.ac.cn/archives/7921</a></p>
<p>@online{kexuefm-7921,<br />
title={Performerï¼šç”¨éšæœºæŠ•å½±å°†Attentionçš„å¤æ‚åº¦çº¿æ€§åŒ–},<br />
author={è‹å‰‘æ—},<br />
year={2020},<br />
month={Dec},<br />
url={\url{https://spaces.ac.cn/archives/7921}},<br />
} </p>
<hr />
<h2 id="_9">å…¬å¼æ¨å¯¼ä¸æ³¨é‡Š</h2>
<p>TODO: æ·»åŠ è¯¦ç»†çš„æ•°å­¦å…¬å¼æ¨å¯¼å’Œæ³¨é‡Š</p>
        </div>
    </div>
</body>
</html>