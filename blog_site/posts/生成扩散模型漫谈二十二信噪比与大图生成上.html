<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäºŒåäºŒï¼‰ï¼šä¿¡å™ªæ¯”ä¸å¤§å›¾ç”Ÿæˆï¼ˆä¸Šï¼‰</title>
    <style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    line-height: 1.6; color: #333; max-width: 900px; margin: 0 auto; padding: 20px; background: #f5f5f5;
}
.container { background: white; padding: 40px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
header { border-bottom: 2px solid #e0e0e0; padding-bottom: 20px; margin-bottom: 30px; }
h1 { color: #2c3e50; margin-bottom: 10px; font-size: 2em; }
.meta { color: #666; font-size: 0.9em; margin-bottom: 20px; }
.content { margin-top: 30px; overflow-wrap: break-word; }
.content h2 { color: #34495e; margin-top: 30px; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
.content p { margin-bottom: 15px; }
.content pre { background: #f8f8f8; padding: 15px; border-radius: 5px; overflow-x: auto; border-left: 3px solid #3498db; margin: 15px 0; }
.content code { background: #f8f8f8; padding: 2px 5px; border-radius: 3px; font-family: monospace; font-size: 0.9em; }
.content blockquote { border-left: 4px solid #3498db; padding-left: 20px; margin: 20px 0; color: #555; font-style: italic; }
.content table { border-collapse: collapse; width: 100%; margin: 20px 0; }
.content th, .content td { border: 1px solid #ddd; padding: 10px; text-align: left; }
.back-link { display: inline-block; margin-bottom: 20px; color: #3498db; text-decoration: none; font-weight: 500; }
</style>
    
<script>
    window.MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\(', '\)']],
            displayMath: [['$$', '$$'], ['\[', '\]']],
            processEscapes: true
        }
    };
</script>
<script id="MathJax-script" async src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
        <header>
            <h1>ç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäºŒåäºŒï¼‰ï¼šä¿¡å™ªæ¯”ä¸å¤§å›¾ç”Ÿæˆï¼ˆä¸Šï¼‰</h1>
            <div class="meta">ğŸ“… æœ€åæ›´æ–°: 2025-11-26 | ğŸ“„ å¤§å°: 45.9 KB</div>
        </header>
        <div class="content">
            <p><strong>åŸæ–‡é“¾æ¥</strong>: <a href="https://spaces.ac.cn/archives/10047">https://spaces.ac.cn/archives/10047</a></p>
<p><strong>å‘å¸ƒæ—¥æœŸ</strong>: </p>
<hr />
<p>ç›˜ç‚¹ä¸»æµçš„å›¾åƒæ‰©æ•£æ¨¡å‹ä½œå“ï¼Œæˆ‘ä»¬ä¼šå‘ç°ä¸€ä¸ªç‰¹ç‚¹ï¼šå½“å‰å¤šæ•°åšé«˜åˆ†è¾¨ç‡å›¾åƒç”Ÿæˆï¼ˆä¸‹é¢ç®€ç§°â€œå¤§å›¾ç”Ÿæˆâ€ï¼‰çš„å·¥ä½œï¼Œéƒ½æ˜¯å…ˆé€šè¿‡Encoderå˜æ¢åˆ°Latentç©ºé—´è¿›è¡Œçš„ï¼ˆå³LDMï¼Œ<a href="https://papers.cool/arxiv/2112.10752">Latent Diffusion Model</a>ï¼‰ï¼Œç›´æ¥åœ¨åŸå§‹Pixelç©ºé—´è®­ç»ƒçš„æ‰©æ•£æ¨¡å‹ï¼Œå¤§å¤šæ•°åˆ†è¾¨ç‡éƒ½ä¸è¶…è¿‡64<em>64ï¼Œè€Œæ°å¥½ï¼ŒLDMé€šè¿‡AutoEncoderå˜æ¢åçš„Latentï¼Œå¤§å°é€šå¸¸ä¹Ÿä¸è¶…è¿‡64</em>64ã€‚è¿™å°±è‡ªç„¶å¼•å‡ºäº†ä¸€ç³»åˆ—é—®é¢˜ï¼šæ‰©æ•£æ¨¡å‹æ˜¯ä¸æ˜¯å¯¹äºé«˜åˆ†è¾¨ç‡ç”Ÿæˆå­˜åœ¨å›ºæœ‰å›°éš¾ï¼Ÿèƒ½å¦åœ¨Pixelç©ºé—´ç›´æ¥ç”Ÿæˆé«˜åˆ†è¾¨ç‡å›¾åƒï¼Ÿ</p>
<p>è®ºæ–‡<a href="https://papers.cool/arxiv/2301.11093">ã€ŠSimple diffusion: End-to-end diffusion for high resolution imagesã€‹</a>å°è¯•å›ç­”äº†è¿™ä¸ªé—®é¢˜ï¼Œå®ƒé€šè¿‡â€œä¿¡å™ªæ¯”â€åˆ†æäº†å¤§å›¾ç”Ÿæˆçš„å›°éš¾ï¼Œå¹¶ä»¥æ­¤æ¥ä¼˜åŒ–noise schduleï¼ŒåŒæ—¶æå‡ºåªéœ€åœ¨æœ€ä½åˆ†è¾¨ç‡featureä¸Šå¯¹æ¶æ„è¿›è¡Œscale upã€å¤šå°ºåº¦Lossç­‰æŠ€å·§æ¥ä¿è¯è®­ç»ƒæ•ˆç‡å’Œæ•ˆæœï¼Œè¿™äº›æ”¹åŠ¨ä½¿å¾—åŸè®ºæ–‡æˆåŠŸåœ¨Pixelç©ºé—´ä¸Šè®­ç»ƒäº†åˆ†è¾¨ç‡é«˜è¾¾1024*1024çš„å›¾åƒæ‰©æ•£æ¨¡å‹ã€‚</p>
<h2 id="ldm">LDMå›é¡¾</h2>
<p>åœ¨è¿›å…¥æ­£é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬ä¸å¦¨å…ˆåè¿‡æ¥æƒ³ä¸€æƒ³ï¼šä¸ºä»€ä¹ˆLDMèƒ½æˆåŠŸæˆä¸ºä¸»æµçš„æ‰©æ•£æ¨¡å‹åšæ³•ï¼Ÿç¬”è€…è®¤ä¸ºï¼Œä¸»è¦åŸå§‹æ˜¯ä¸¤æ–¹é¢ï¼š</p>
<blockquote>
<p>1ã€ä¸ç®¡æ˜¯åº”ç”¨è¿˜æ˜¯å­¦æœ¯ï¼Œç”¨LDMçš„ä¸»è¦åŸå› æƒ³å¿…æ˜¯æ•ˆç‡ï¼šå½“å‰ä¸»æµçš„å·¥ä½œéƒ½ç›´æ¥é‡ç”¨äº†LDMè®ºæ–‡æ‰€å¼€æºçš„è®­ç»ƒå¥½çš„AutoEncoderï¼Œå®ƒçš„Encoderéƒ¨åˆ†ä¼šå°†512<em>512çš„å›¾åƒå˜æˆäº†64</em>64çš„Latentï¼Œç›¸å½“äºè¯´åªç”¨åˆ°64<em>64åˆ†è¾¨ç‡è¿™ä¸ªçº§åˆ«çš„ç®—åŠ›å’Œæ—¶é—´ï¼Œå°±å¯ä»¥ç”Ÿæˆ512</em>512çš„å›¾åƒï¼Œè¿™ä¸ªæ•ˆç‡æ˜¾ç„¶æ˜¯éå¸¸å¸å¼•äººçš„ï¼›</p>
<p>2ã€LDMå¥‘åˆäº†FIDè¿™ä¸ªæŒ‡æ ‡ï¼Œè¿™è®©å®ƒçœ‹èµ·æ¥æ˜¯æ•ˆæœæ— æŸçš„ï¼šFIDå…¨ç§°æ˜¯â€œFrÃ©chet Inception Distanceâ€ï¼Œå…¶ä¸­Inceptionæ˜¯æŒ‡ç”¨ImageNeté¢„è®­ç»ƒçš„InceptionV3æ¨¡å‹ä½œä¸ºEncoderç¼–ç å›¾ç‰‡ï¼Œç„¶åå‡è®¾ç¼–ç ç‰¹å¾æœä»é«˜æ–¯åˆ†å¸ƒæ¥ç®—$\mathcal{W}$è·ç¦»ï¼Œè€ŒLDMä¹Ÿæ˜¯å…ˆEncoderç¼–ç ï¼Œä¸¤ä¸ªEncoderè™½ç„¶ä¸å®Œå…¨ç›¸åŒï¼Œä½†ä¹Ÿæœ‰ä¸€å®šå…±æ€§ï¼Œå› æ­¤åœ¨FIDä¸Šè¡¨ç°ä¸ºå‡ ä¹æ— æŸã€‚</p>
</blockquote>
<p>æˆ‘ä»¬è¿˜å¯ä»¥ç¨å¾®å±•å¼€ä¸€ä¸‹ã€‚LDMçš„AutoEncoderåœ¨è®­ç»ƒé˜¶æ®µç»„åˆäº†å¾ˆå¤šå†…å®¹â€”â€”å®ƒçš„é‡æ„Losså¹¶ä¸åªæœ‰å¸¸è§„çš„MAEæˆ–è€…MSEï¼Œè¿˜åŒ…æ‹¬å¯¹æŠ—Losså’ŒPerceptual Lossï¼Œå¯¹æŠ—Lossç”¨æ¥ä¿è¯é‡æ„ç»“æœçš„æ¸…æ™°åº¦ï¼Œè€ŒPerceptual Lossç”¨æ¥ä¿è¯é‡æ„ç»“æœçš„è¯­ä¹‰å’Œé£æ ¼çš„ç›¸ä¼¼æ€§ã€‚<a href="https://papers.cool/arxiv/1603.08155">Perceptual Loss</a>è·ŸFIDå¾ˆç›¸ä¼¼ï¼Œéƒ½æ˜¯ç”¨ImageNetæ¨¡å‹çš„ç‰¹å¾è®¡ç®—çš„ç›¸ä¼¼æ€§æŒ‡æ ‡ï¼Œåªä¸è¿‡ç”¨çš„ä¸æ˜¯InceptionV3è€Œæ˜¯VGG-16ï¼Œç”±äºè®­ç»ƒä»»åŠ¡çš„ç›¸ä¼¼æ€§ï¼Œå¯ä»¥çŒœæµ‹ä¸¤è€…ç‰¹å¾æœ‰å¾ˆå¤šå…±æ€§ï¼Œå› æ­¤Perceptual Lossçš„åŠ å…¥å˜ç›¸åœ°ä¿è¯äº†FIDçš„æŸå¤±å°½å¯èƒ½å°‘ã€‚</p>
<p>æ­¤å¤–ï¼ŒLDMçš„Encoderå¯¹åŸå§‹å›¾åƒæ¥è¯´æ˜¯é™ç»´çš„ï¼Œæ¯”å¦‚åŸå§‹å›¾åƒå¤§å°ä¸º512<em>512</em>3ï¼Œç›´æ¥patchifyçš„è¯ç»“æœæ˜¯64<em>64</em>192ï¼Œä½†LDMçš„Encoderå‡ºæ¥çš„ç‰¹å¾æ˜¯64<em>64</em>4ï¼Œé™ä½åˆ°äº†1/48ï¼ŒåŒæ—¶ä¸ºäº†è¿›ä¸€æ­¥é™ä½ç¼–ç ç‰¹å¾çš„æ–¹å·®ï¼Œé¿å…æ¨¡å‹â€œæ­»è®°ç¡¬èƒŒâ€ï¼ŒLDMè¿˜å¯¹Encoderå‡ºæ¥çš„ç‰¹å¾åŠ äº†ç›¸åº”çš„æ­£åˆ™é¡¹ï¼Œå¯é€‰çš„æœ‰<a href="/archives/5253">VAE</a>çš„KLæ•£åº¦é¡¹æˆ–<a href="/archives/6760">VQ-VAE</a>çš„VQæ­£åˆ™åŒ–ã€‚é™ç»´å’Œæ­£åˆ™çš„è®¾è®¡ï¼Œéƒ½ä¼šå‹ç¼©ç‰¹å¾çš„å¤šæ ·æ€§ï¼Œæé«˜ç‰¹å¾çš„æ³›åŒ–èƒ½åŠ›ï¼Œä½†ä¹Ÿä¼šå¯¼è‡´é‡æ„éš¾åº¦å¢åŠ ï¼Œæœ€ç»ˆå¯¼è‡´äº†æœ‰æŸçš„é‡æ„ç»“æœã€‚</p>
<p>åˆ°è¿™é‡Œï¼ŒLDMèƒ½æˆåŠŸçš„åŸå› å…¶å®å°±â€œè±ç„¶å¼€æœ—â€äº†ï¼šâ€œé™ç»´ + æ­£åˆ™â€çš„ç»„åˆï¼Œé™ä½äº†Latentçš„ä¿¡æ¯é‡ï¼Œä»è€Œé™ä½äº†åœ¨Latentç©ºé—´å­¦ä¹ æ‰©æ•£æ¨¡å‹çš„éš¾åº¦ï¼ŒåŒæ—¶Perceptual Lossçš„å­˜åœ¨ï¼Œä¿è¯äº†é‡æ„è™½ç„¶æœ‰æŸä½†FIDå‡ ä¹æ— æŸï¼ˆPerceptual Lossçš„Encoderè·ŸFIDä¸€æ ·éƒ½ç”¨InceptionV3ç†è®ºä¸Šæ›´å¥½ï¼‰ã€‚è¿™æ ·ä¸€æ¥ï¼Œå¯¹äºFIDè¿™ä¸ªæŒ‡æ ‡æ¥è¯´ï¼ŒLDMå‡ ä¹å°±æ˜¯å…è´¹åˆé¤äº†ï¼Œå› æ­¤ä¸ç®¡æ˜¯å­¦æœ¯å’Œå·¥ç¨‹éƒ½ä¹æ„æ²¿ç”¨å®ƒã€‚</p>
<h2 id="_1">ä¿¡å™ªä¹‹æ¯”</h2>
<p>å°½ç®¡LDMç®€å•é«˜æ•ˆï¼Œä½†å®ƒæ¯•ç«Ÿæ˜¯æœ‰æŸçš„ï¼Œå…¶Latentåªèƒ½ä¿æŒå®è§‚ä¸Šçš„è¯­ä¹‰ï¼Œå±€éƒ¨ç»†èŠ‚å¯èƒ½ä¼šä¸¥é‡ç¼ºå¤±ã€‚è€Œåœ¨ä¹‹å‰çš„æ–‡ç« <a href="/archives/9984">ã€Šâ€œé—­é—¨é€ è½¦â€ä¹‹å¤šæ¨¡æ€æ€è·¯æµ…è°ˆï¼ˆä¸€ï¼‰ï¼šæ— æŸè¾“å…¥ã€‹</a>ä¸­ï¼Œç¬”è€…è¡¨è¾¾è¿‡ä¸€ä¸ªè§‚ç‚¹ï¼šå½“ä½œä¸ºè¾“å…¥æ—¶ï¼Œå›¾åƒæœ€å¥½çš„è¡¨ç¤ºæ–¹å¼å°±æ˜¯åŸå§‹Pixelæ•°ç»„ã€‚åŸºäºè¿™ä¸ªè§‚ç‚¹ï¼Œç¬”è€…æœ€è¿‘éƒ½æ¯”è¾ƒå…³æ³¨ç›´æ¥åœ¨Pixelç©ºé—´ä¸Šè®­ç»ƒçš„æ‰©æ•£æ¨¡å‹ã€‚</p>
<p>ç„¶è€Œï¼Œå°†ä½åˆ†è¾¨ç‡ï¼ˆæ¯”å¦‚64<em>64ï¼‰å›¾åƒçš„æ‰©æ•£æ¨¡å‹é…ç½®ç›´æ¥åº”ç”¨äºé«˜åˆ†è¾¨ç‡ï¼ˆæ¯”å¦‚512</em>512ï¼‰çš„å¤§å›¾ç”Ÿæˆæ—¶ï¼Œä¼šå­˜åœ¨ç®—åŠ›æ¶ˆè€—è¿‡å¤§ã€æ”¶æ•›é€Ÿåº¦å¤ªæ…¢ç­‰é—®é¢˜ï¼Œè€Œä¸”æ•ˆæœä¸Šä¹Ÿæ¯”ä¸ä¸ŠLDMï¼ˆè‡³å°‘FIDæŒ‡æ ‡å¦‚æ­¤ï¼‰ï¼ŒSimple diffusioné€ä¸€åˆ†æäº†è¿™äº›é—®é¢˜å¹¶æå‡ºäº†ç›¸åº”çš„è§£å†³æ–¹æ¡ˆã€‚å…¶ä¸­ï¼Œç¬”è€…è®¤ä¸ºåˆ©ç”¨â€œä¿¡å™ªæ¯”ï¼ˆSignal-to-Noise Ratioï¼ŒSNRï¼‰â€çš„æ¦‚å¿µæ¥åˆ†æé«˜åˆ†è¾¨ç‡æ‰©æ•£æ¨¡å‹çš„å­¦ä¹ æ•ˆç‡ä½é—®é¢˜æœ€ä¸ºç²¾å½©ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼ŒSimple diffusionè§‚å¯Ÿåˆ°ï¼Œå¦‚æœæˆ‘ä»¬ç»™é«˜åˆ†è¾¨ç‡å›¾åƒåŠ ä¸ŠæŸä¸ªæ–¹å·®çš„noiseï¼Œé‚£ä¹ˆç›¸å¯¹äºåŠ ä¸ŠåŒæ ·æ–¹å·®çš„noiseçš„ä½åˆ†è¾¨ç‡å›¾åƒæ¥è¯´ï¼Œå®ƒçš„ä¿¡å™ªæ¯”å…¶å®æ›´é«˜ï¼ŒåŸè®ºæ–‡çš„Figure 3éå¸¸ç›´è§‚åœ°æ¼”ç¤ºäº†è¿™ä¸€ç‚¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ç¬¬ä¸€è¡Œå›¾ç‰‡ï¼Œæ˜¯ç”±512<em>512çš„å›¾ç‰‡åŠ äº†ç‰¹å®šæ–¹å·®çš„noiseåå†é™é‡‡æ ·ï¼ˆå¹³å‡Poolingï¼‰åˆ°64</em>64çš„ï¼Œè€Œç¬¬äºŒè¡Œåˆ™æ˜¯ç›´æ¥åœ¨64*64çš„å›¾ç‰‡åŠ ä¸ŠåŒæ ·æ–¹å·®çš„noiseï¼Œå¾ˆæ˜æ˜¾ç¬¬ä¸€è¡Œçš„å›¾ç‰‡æ›´åŠ æ¸…æ™°ï¼Œä¹Ÿå°±æ˜¯ç›¸å¯¹ä¿¡å™ªæ¯”æ›´é«˜äº†ã€‚</p>
<p><a href="/usr/uploads/2024/04/656907425.png" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="åŒä¸€noiseä¸åŒåˆ†è¾¨ç‡çš„ä¿¡å™ªæ¯”" src="/usr/uploads/2024/04/656907425.png" /></a></p>
<p>åŒä¸€noiseä¸åŒåˆ†è¾¨ç‡çš„ä¿¡å™ªæ¯”</p>
<p>æ‰€è°“â€œä¿¡å™ªæ¯”â€ï¼Œé¡¾åæ€ä¹‰å³â€œä¿¡å·ä¸å™ªå£°çš„å¼ºåº¦ä¹‹æ¯”â€ï¼Œä¿¡å™ªæ¯”æ›´é«˜ï¼ˆå³å™ªå£°çš„å æ¯”æ›´ä½ï¼‰æ„å‘³ç€å»å™ªæ›´å®¹æ˜“ï¼Œæ¢è¨€ä¹‹è®­ç»ƒé˜¶æ®µDenoiseré¢å¯¹çš„æ›´å¤šæ˜¯ç®€å•æ ·æœ¬ï¼Œä½†å®é™…ä¸Šå¤§å›¾ç”Ÿæˆçš„éš¾åº¦æ˜¾ç„¶æ›´é«˜ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¸€ä¸ªæ›´éš¾çš„æ¨¡å‹ï¼Œä½†å´ç»™äº†æ›´ç®€å•çš„æ ·æœ¬ï¼Œå› æ­¤å¯¼è‡´äº†å­¦ä¹ æ•ˆç‡çš„ä½ä¸‹ã€‚</p>
<h2 id="_2">å‘ä½çœ‹é½</h2>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä»æ•°å­¦ä¸Šæè¿°è¿™ä¸€ç‚¹ã€‚æ²¿ç”¨æœ¬ç³»åˆ—çš„è®°å·ï¼Œé€šè¿‡åŠ å™ªæ¥æ„é€ $\boldsymbol{x}_t$çš„è¿ç®—å¯ä»¥è¡¨ç¤ºä¸º<br />
\begin{equation}\boldsymbol{x}_t = \bar{\alpha}_t \boldsymbol{x}_0 + \bar{\beta}_t \boldsymbol{\varepsilon},\quad \boldsymbol{\varepsilon}\sim\mathcal{N}(\boldsymbol{0},\boldsymbol{I})\end{equation}<br />
å…¶ä¸­$\bar{\alpha}_t,\bar{\beta}_t$å°±ç§°ä¸ºnoise scheduleï¼Œæ»¡è¶³$\bar{\alpha}_0=\bar{\beta}_T=1, \bar{\alpha}_T=\bar{\beta}_0=0$ï¼Œæ­¤å¤–ä¸€èˆ¬æ¥è¯´å®ƒä»¬è¿˜æœ‰é¢å¤–çš„çº¦æŸï¼Œæ¯”å¦‚åœ¨DDPMä¸­é€šå¸¸æ˜¯$\bar{\alpha}_t^2 + \bar{\beta}_t^2=1$ï¼Œæœ¬æ–‡å°†æ²¿ç”¨è¿™ä¸ªçº¦æŸã€‚</p>
<p>å¯¹äºä¸€ä¸ªéšæœºå˜é‡æ¥è¯´ï¼Œä¿¡å™ªæ¯”æ˜¯å‡å€¼å¹³æ–¹ä¸æ–¹å·®ä¹‹æ¯”ã€‚ç»™å®š$\boldsymbol{x}_0$ï¼Œ$\boldsymbol{x}_t$çš„å‡å€¼æ˜¾ç„¶æ˜¯$\bar{\alpha}_t \mathbb{E}[\boldsymbol{x}_0]$ï¼Œæ–¹å·®åˆ™æ˜¯$\bar{\beta}_t^2$ï¼Œäºæ˜¯ä¿¡å™ªæ¯”ä¸º$\frac{\bar{\alpha}_t^2}{\bar{\beta}_t^2}\mathbb{E}[\boldsymbol{x}_0]^2$ï¼Œç”±äºæˆ‘ä»¬æ€»æ˜¯åœ¨ç»™å®š$\boldsymbol{x}_0$ä¸‹è®¨è®ºï¼Œå› æ­¤æˆ‘ä»¬ä¹Ÿå¯ä»¥ç®€å•åœ°è¯´ä¿¡å™ªæ¯”å°±æ˜¯$SNR(t) = \frac{\bar{\alpha}_t^2}{\bar{\beta}_t^2}$</p>
<p>å½“æˆ‘ä»¬å¯¹$\boldsymbol{x}<em i="1">t$ä½¿ç”¨$s\times s$å¤§å°çš„å¹³å‡Poolingæ—¶ï¼Œæ¯ä¸ª$s\times s$çš„patché€šè¿‡å–å¹³å‡å˜æˆäº†ä¸€ä¸ªæ ‡é‡ï¼Œå³<br />
\begin{equation}\frac{1}{s^2}\sum</em>}^s \sum_{j=1}^s\boldsymbol{x<em i="1">t^{(i,j)} = \bar{\alpha}_t\left(\frac{1}{s^2}\sum</em>}^s \sum_{j=1}^s \boldsymbol{x<em i="1">0^{(i,j)}\right) + \bar{\beta}_t\left(\frac{1}{s^2}\sum</em>}^s \sum_{j=1}^s \boldsymbol{\varepsilon}^{(i,j)}\right) ,\quad \boldsymbol{\varepsilon}^{(i,j)}\sim\mathcal{N}(0, 1)\end{equation<br />
å¹³å‡Poolingä¸æ”¹å˜å‡å€¼ï¼Œä½†ä¼šé™ä½æ–¹å·®ï¼Œä»è€Œæé«˜ä¿¡å™ªæ¯”ï¼Œè¿™æ˜¯å› ä¸ºæ­£æ€åˆ†å¸ƒçš„å¯åŠ æ€§å¾—å‡º<br />
\begin{equation}\frac{1}{s^2}\sum_{i=1}^s \sum_{j=1}^s \boldsymbol{\varepsilon}^{(i,j)}\sim\mathcal{N}(0, 1/s^2)\end{equation}<br />
æ‰€ä»¥åœ¨åŒä¸€noise scheduleä¸‹ï¼Œå¦‚æœæˆ‘ä»¬å°†é«˜åˆ†è¾¨ç‡å›¾åƒé€šè¿‡å¹³å‡Poolingæ¥å¯¹é½ä½åˆ†è¾¨ç‡ï¼Œé‚£ä¹ˆå°±ä¼šå‘ç°ä¿¡å™ªæ¯”æ›´é«˜ï¼Œæ˜¯åŸæ¥çš„$s^2$å€ï¼š<br />
\begin{equation}SNR^{w\times h\to w/s\times h/s}(t) = SNR^{w/s\times h/s}(t) \times s^2 \end{equation}<br />
åè¿‡æ¥æƒ³ï¼Œå¦‚æœæˆ‘ä»¬å·²ç»æœ‰ä¸€ä¸ªåœ¨ä½åˆ†è¾¨ç‡å›¾åƒä¸Šè°ƒå¥½äº†çš„noise schedule $\bar{\alpha}_t^{w/s\times h/s},\bar{\beta}_t^{w/s\times h/s}$ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬æƒ³è¦scale upåˆ°æ›´é«˜åˆ†è¾¨ç‡æ—¶ï¼Œåº”è¯¥è¦è°ƒæ•´noise scheduleä¸º$\bar{\alpha}_t^{w\times h},\bar{\beta}_t^{w\times h}$ï¼Œä½¿å¾—å®ƒé™é‡‡æ ·åˆ°ä½åˆ†è¾¨ç‡åï¼Œå…¶ä¿¡å™ªæ¯”èƒ½å¤Ÿè·Ÿå·²ç»è°ƒå¥½çš„ä½åˆ†è¾¨ç‡çš„noise scheduleå¯¹é½ï¼Œè¿™æ ·æ‰èƒ½æœ€å¤§ç¨‹åº¦ä¸Šâ€œä¼ æ‰¿â€å·²ç»ä½åˆ†è¾¨ç‡æ‰©æ•£æ¨¡å‹çš„å­¦ä¹ æ•ˆç‡ï¼Œå³<br />
\begin{equation} \frac{(\bar{\alpha}_t^{w\times h})^2}{(\bar{\beta}_t^{w\times h})^2} \times s^2 = \frac{(\bar{\alpha}_t^{w/s\times h/s})^2}{(\bar{\beta}_t^{w/s\times h/s})^2} \end{equation}<br />
å¦‚æœåŠ ä¸Šçº¦æŸ$\bar{\alpha}_t^2 + \bar{\beta}_t^2=1$ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä»$\bar{\alpha}_t^{w/s\times h/s},\bar{\beta}_t^{w/s\times h/s}$ä¸­å”¯ä¸€åœ°è§£å‡º$\bar{\alpha}_t^{w\times h},\bar{\beta}_t^{w\times h}$ã€‚è¿™å°±è§£å†³äº†é«˜åˆ†è¾¨ç‡æ‰©æ•£çš„noise scheduleè®¾ç½®é—®é¢˜ã€‚</p>
<h2 id="_3">æ¶æ„æ‹“å±•</h2>
<p>ä¸ºäº†åšå¥½å¤§å›¾çš„æ‰©æ•£ç”Ÿæˆï¼Œé™¤äº†è¦è°ƒæ•´noise scheduleä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æŠŠæ¶æ„ä¹Ÿscale upä¸Šå»ï¼Œå› ä¸ºå‰é¢æˆ‘ä»¬ä¹Ÿå·²ç»è¯´äº†ï¼Œå¤§å›¾ç”Ÿæˆæ˜¯ä¸€ä¸ªæ›´éš¾çš„é—®é¢˜ï¼Œå› æ­¤ç†åº”éœ€è¦æ›´åŠ é‡é‡çº§çš„æ¶æ„ã€‚</p>
<p>æ‰©æ•£æ¨¡å‹å¸¸ç”¨çš„å°±æ˜¯<a href="https://papers.cool/arxiv/1505.04597">U-Net</a>æˆ–è€…<a href="https://papers.cool/arxiv/2209.12152">U-Vit</a>ï¼Œä¸¤è€…éƒ½æ˜¯å…ˆé€æ¸é™é‡‡æ ·ç„¶åé€æ¸ä¸Šé‡‡æ ·ï¼Œæ¯”å¦‚512<em>512çš„è¾“å…¥ï¼Œä¸€èˆ¬å…ˆè¿›è¡Œä¸€ä¸ªblockçš„è¿ç®—ï¼Œç„¶åé™é‡‡æ ·åˆ°256</em>256ï¼Œæ¥ç€è¿›è¡Œæ–°ä¸€ä¸ªblockçš„è¿ç®—ï¼Œåœ¨é™é‡‡æ ·åˆ°128<em>128ï¼Œä¾æ­¤ç±»æ¨ï¼Œé™é‡‡æ ·åˆ°ä¸€ä¸ªæœ€ä½çš„åˆ†è¾¨ç‡16</em>16ï¼Œæ¥ä¸‹æ¥å†æ¬¡é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œä½†å°†é™é‡‡æ ·æ”¹ä¸ºä¸Šé‡‡æ ·ï¼Œç›´åˆ°åˆ†è¾¨ç‡æ¢å¤512*512ã€‚é»˜è®¤è®¾ç½®ä¸‹ï¼Œæˆ‘ä»¬ä¼šå°†å‚æ•°å¹³å‡åˆ†åˆ°æ¯ä¸€ä¸ªblockä¸­ï¼Œä½†è¿™æ ·ä¸€æ¥é è¿‘è¾“å…¥å’Œè¾“å‡ºçš„blockç”±äºè¾“å…¥å°ºå¯¸éƒ½å¾ˆå¤§ï¼Œå› æ­¤è®¡ç®—é‡ä¼šæ€¥å‰§å¢åŠ ï¼Œå¯¼è‡´æ¨¡å‹è®­ç»ƒæ•ˆç‡ä½ä¸‹ç”šè‡³ä¸å¯è¡Œã€‚</p>
<p>Simple diffusionæå‡ºäº†ä¸¤ä¸ªåº”å¯¹æ–¹æ¡ˆã€‚ç¬¬ä¸€ï¼Œå®ƒæå‡ºå¯ä»¥ç›´æ¥åœ¨ç¬¬ä¸€å±‚ï¼ˆè€Œä¸æ˜¯ç¬¬ä¸€ä¸ªblockï¼Œæ¯ä¸ªblockæœ‰å¤šä¸ªå±‚ï¼‰ä¹‹åå°±é™é‡‡æ ·ï¼Œå¹¶ä¸”è€ƒè™‘ä¸€æ­¥åˆ°ä½ä½é™åˆ°128<em>128ç”šè‡³64</em>64ï¼Œæœ€åè¾“å‡ºçš„æ—¶å€™ï¼Œä¹Ÿæ˜¯åœ¨æœ€åä¸€å±‚ä¹‹å‰æ‰ä»64<em>64æˆ–è€…128</em>128ç›´æ¥ä¸Šé‡‡æ ·åˆ°512<em>512ï¼Œè¿™æ ·æ¨¡å‹çš„å¤§éƒ¨åˆ†blockæ‰€å¤„ç†çš„åˆ†è¾¨ç‡éƒ½é™ä½äº†ï¼Œä»è€Œé™ä½äº†æ•´ä½“è®¡ç®—é‡ï¼›ç¬¬äºŒï¼Œå®ƒæå‡ºå°†æ¨¡å‹æ‰€scale upçš„å±‚éƒ½æ”¾åˆ°æœ€ä½åˆ†è¾¨ç‡ï¼ˆå³16</em>16ï¼‰ä¹‹åï¼Œè€Œä¸æ˜¯å¹³æ‘Šåˆ°æ¯ä¸€ä¸ªåˆ†è¾¨ç‡çš„blockï¼Œå³æ–°å¢çš„å±‚å¤„ç†çš„éƒ½æ˜¯16*16çš„è¾“å…¥ï¼ŒåŒ…æ‹¬Dropoutä¹Ÿéƒ½åªåŠ å…¥åˆ°ä½åˆ†è¾¨ç‡çš„å±‚ä¸­ï¼Œè¿™æ ·ä¸€æ¥åˆ†è¾¨ç‡å¢åŠ å¸¦æ¥çš„è®¡ç®—å‹åŠ›å°±æ˜æ˜¾å‡å°‘äº†ã€‚</p>
<p>æ­¤å¤–ï¼Œä¸ºäº†è¿›ä¸€æ­¥ç¨³å®šè®­ç»ƒï¼Œè®ºæ–‡æå‡ºäº†â€œå¤šå°ºåº¦Lossâ€çš„è®­ç»ƒç›®æ ‡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰©æ•£æ¨¡å‹çš„Lossç­‰ä»·äºMSEæŸå¤±<br />
\begin{equation}\mathcal{L}=\frac{1}{wh}\Vert \boldsymbol{\varepsilon} - \boldsymbol{\epsilon}<em s="s" s_times="s\times">{\boldsymbol{\theta}}(\bar{\alpha}_t \boldsymbol{x}_0 + \bar{\beta}_t \boldsymbol{\varepsilon}, t)\Vert^2\end{equation}<br />
Simple diffusionå°†å®ƒæ³›åŒ–ä¸º<br />
\begin{equation}\mathcal{L}</em>} = \frac{1}{(w/s)(h/s)}\big\Vert \mathcal{D<em h_s="h/s" w_s_times="w/s\times">{w/s\times h/s}[\boldsymbol{\varepsilon}] - \mathcal{D}</em>}[\boldsymbol{\epsilon<em h_s="h/s" w_s_times="w/s\times">{\boldsymbol{\theta}}(\bar{\alpha}_t \boldsymbol{x}_0 + \bar{\beta}_t \boldsymbol{\varepsilon}, t)]\big\Vert^2\end{equation}<br />
å…¶ä¸­$\mathcal{D}</em>[\cdot]$æ˜¯é€šè¿‡å¹³å‡Poolingå°†è¾“å…¥å˜æ¢åˆ°$w/s\times h/s$çš„ä¸‹é‡‡æ ·ç®—å­ï¼ŒåŸè®ºæ–‡å–äº†å¤šä¸ª$s$å¯¹åº”çš„Lossè¿›è¡Œå¹³å‡ï¼Œä½œä¸ºæœ€ç»ˆçš„è®­ç»ƒç›®æ ‡ã€‚è¿™ä¸ªå¤šå°ºåº¦Lossçš„ç›®æ ‡ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œè·Ÿé€šè¿‡ä¿¡å™ªæ¯”å¯¹é½æ¥è°ƒæ•´noise scheduleä¸€æ ·ï¼Œéƒ½æ˜¯ä¿è¯è®­ç»ƒå‡ºæ¥çš„é«˜åˆ†è¾¨ç‡æ‰©æ•£æ¨¡å‹è‡³å°‘ä¸å·®äºç›´æ¥è®­ç»ƒçš„ä½åˆ†è¾¨ç‡æ¨¡å‹ã€‚</p>
<p>è‡³äºå®éªŒéƒ¨åˆ†ï¼Œå¤§å®¶è‡ªè¡Œçœ‹åŸè®ºæ–‡å°±å¥½ã€‚Simple diffusionå®éªŒçš„æœ€å¤§åˆ†è¾¨ç‡æ˜¯1024*1024ï¼ˆåœ¨é™„å½•ä¸­æåˆ°ï¼‰ï¼Œæ•ˆæœéƒ½å°šå¯ï¼Œå¹¶ä¸”å¯¹æ¯”å®éªŒè¡¨æ˜ä¸Šè¿°æå‡ºçš„ä¸€äº›æŠ€å·§éƒ½æ˜¯æœ‰æå‡çš„ï¼Œæœ€ç»ˆç›´æ¥åœ¨Pixelç©ºé—´ä¸­è®­ç»ƒå‡ºæ¥çš„æ‰©æ’’æ¨¡å‹ï¼Œç›¸æ¯”LDMä¹Ÿå–å¾—äº†æœ‰ç«äº‰åŠ›çš„æ•ˆæœã€‚</p>
<h2 id="_4">æ–‡ç« å°ç»“</h2>
<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†Simple diffusionï¼Œè¿™æ˜¯ä¸€ç¯‡æ¢ç´¢å¦‚ä½•ç›´æ¥åœ¨Pixelç©ºé—´ä¸­ç«¯åˆ°ç«¯åœ°è®­ç»ƒå›¾åƒæ‰©æ•£æ¨¡å‹çš„å·¥ä½œï¼Œåˆ©ç”¨äº†ä¿¡å™ªæ¯”çš„æ¦‚å¿µä»‹ç»äº†é«˜åˆ†è¾¨ç‡æ‰©æ•£æ¨¡å‹çš„è®­ç»ƒæ•ˆç‡ä½é—®é¢˜ï¼Œå¹¶ç”±æ­¤æ¥æŒ‡æ ‡è°ƒæ•´æ–°çš„noise scheduleï¼Œä»¥åŠæ¢ç´¢äº†å¦‚ä½•å°½å¯èƒ½èŠ‚çº¦ç®—åŠ›æˆæœ¬åœ°scale upæ¨¡å‹æ¶æ„ã€‚</p>
<p><em><strong>è½¬è½½åˆ°è¯·åŒ…æ‹¬æœ¬æ–‡åœ°å€ï¼š</strong><a href="https://spaces.ac.cn/archives/10047">https://spaces.ac.cn/archives/10047</a></em></p>
<p><em><strong>æ›´è¯¦ç»†çš„è½¬è½½äº‹å®œè¯·å‚è€ƒï¼š</strong></em><a href="https://spaces.ac.cn/archives/6508#%E6%96%87%E7%AB%A0%E5%A6%82%E4%BD%95%E8%BD%AC%E8%BD%BD/%E5%BC%95%E7%94%A8" title="ã€Šç§‘å­¦ç©ºé—´FAQã€‹">ã€Šç§‘å­¦ç©ºé—´FAQã€‹</a></p>
<p><strong>å¦‚æœæ‚¨è¿˜æœ‰ä»€ä¹ˆç–‘æƒ‘æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹è¯„è®ºåŒºç»§ç»­è®¨è®ºã€‚</strong></p>
<p><strong>å¦‚æœæ‚¨è§‰å¾—æœ¬æ–‡è¿˜ä¸é”™ï¼Œæ¬¢è¿åˆ†äº«/æ‰“èµæœ¬æ–‡ã€‚æ‰“èµå¹¶éè¦ä»ä¸­è·å¾—æ”¶ç›Šï¼Œè€Œæ˜¯å¸Œæœ›çŸ¥é“ç§‘å­¦ç©ºé—´è·å¾—äº†å¤šå°‘è¯»è€…çš„çœŸå¿ƒå…³æ³¨ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æ— è§†å®ƒï¼Œä¹Ÿä¸ä¼šå½±å“ä½ çš„é˜…è¯»ã€‚å†æ¬¡è¡¨ç¤ºæ¬¢è¿å’Œæ„Ÿè°¢ï¼</strong></p>
<p>æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/wx.png" /></p>
<p>å¾®ä¿¡æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/zfb.png" /></p>
<p>æ”¯ä»˜å®æ‰“èµ</p>
<p>å› ä¸ºç½‘ç«™åå°å¯¹æ‰“èµå¹¶æ— è®°å½•ï¼Œå› æ­¤æ¬¢è¿åœ¨æ‰“èµæ—¶å€™å¤‡æ³¨ç•™è¨€ã€‚ä½ è¿˜å¯ä»¥<a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=tN7d1drY3drrx8H0xcWa19vZ"><strong>ç‚¹å‡»è¿™é‡Œ</strong></a>æˆ–åœ¨ä¸‹æ–¹è¯„è®ºåŒºç•™è¨€æ¥å‘ŠçŸ¥ä½ çš„å»ºè®®æˆ–éœ€æ±‚ã€‚</p>
<p><strong>å¦‚æœæ‚¨éœ€è¦å¼•ç”¨æœ¬æ–‡ï¼Œè¯·å‚è€ƒï¼š</strong></p>
<p>è‹å‰‘æ—. (Apr. 08, 2024). ã€Šç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäºŒåäºŒï¼‰ï¼šä¿¡å™ªæ¯”ä¸å¤§å›¾ç”Ÿæˆï¼ˆä¸Šï¼‰ ã€‹[Blog post]. Retrieved from <a href="https://spaces.ac.cn/archives/10047">https://spaces.ac.cn/archives/10047</a></p>
<p>@online{kexuefm-10047,<br />
title={ç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäºŒåäºŒï¼‰ï¼šä¿¡å™ªæ¯”ä¸å¤§å›¾ç”Ÿæˆï¼ˆä¸Šï¼‰},<br />
author={è‹å‰‘æ—},<br />
year={2024},<br />
month={Apr},<br />
url={\url{https://spaces.ac.cn/archives/10047}},<br />
} </p>
<hr />
<h2 id="_5">å…¬å¼æ¨å¯¼ä¸æ³¨é‡Š</h2>
<p>æœ¬èŠ‚æä¾›æ–‡ç« ä¸­æ¶‰åŠçš„å…³é”®æ•°å­¦å…¬å¼çš„è¯¦ç»†æ¨å¯¼è¿‡ç¨‹ï¼Œå¸®åŠ©è¯»è€…æ·±å…¥ç†è§£ä¿¡å™ªæ¯”ï¼ˆSNRï¼‰åœ¨æ‰©æ•£æ¨¡å‹ä¸­çš„ä½œç”¨ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡SNRæŒ‡å¯¼å¤§å›¾ç”Ÿæˆçš„å™ªå£°è°ƒåº¦è®¾è®¡ã€‚</p>
<h3 id="1">1. æ‰©æ•£è¿‡ç¨‹çš„åŸºç¡€å®šä¹‰</h3>
<p><strong>å…¬å¼1.1 - å‰å‘æ‰©æ•£è¿‡ç¨‹</strong></p>
<p>æ‰©æ•£æ¨¡å‹çš„å‰å‘è¿‡ç¨‹é€šè¿‡é€æ­¥å‘æ•°æ®æ·»åŠ é«˜æ–¯å™ªå£°æ¥æ„é€ å¸¦å™ªå£°çš„æ ·æœ¬ã€‚ç»™å®šåŸå§‹æ•°æ® $\boldsymbol{x}_0$ï¼Œåœ¨æ—¶åˆ» $t$ çš„å¸¦å™ªæ ·æœ¬å¯ä»¥è¡¨ç¤ºä¸ºï¼š</p>
<p>$$
\boldsymbol{x}_t = \bar{\alpha}_t \boldsymbol{x}_0 + \bar{\beta}_t \boldsymbol{\varepsilon}, \quad \boldsymbol{\varepsilon} \sim \mathcal{N}(\boldsymbol{0}, \boldsymbol{I})
$$</p>
<p>å…¶ä¸­ï¼š
- $\boldsymbol{x}_0$ æ˜¯åŸå§‹å¹²å‡€æ•°æ®
- $\bar{\alpha}_t$ æ˜¯ä¿¡å·ä¿ç•™ç³»æ•°ï¼ˆsignal retention coefficientï¼‰
- $\bar{\beta}_t$ æ˜¯å™ªå£°å¼ºåº¦ç³»æ•°ï¼ˆnoise strength coefficientï¼‰
- $\boldsymbol{\varepsilon}$ æ˜¯æ ‡å‡†é«˜æ–¯å™ªå£°</p>
<p><strong>æ¨å¯¼è¯´æ˜</strong>ï¼šè¿™ä¸ªå…¬å¼å¯ä»¥ä»é©¬å°”å¯å¤«é“¾çš„ç´¯ç§¯å½¢å¼æ¨å¯¼å¾—å‡ºã€‚å‡è®¾æ¯ä¸€æ­¥çš„æ‰©æ•£ä¸ºï¼š</p>
<p>$$
\boldsymbol{x}_t = \sqrt{1-\beta_t} \boldsymbol{x}_{t-1} + \sqrt{\beta_t} \boldsymbol{\varepsilon}_t
$$</p>
<p>é€šè¿‡é€’å½’å±•å¼€å¹¶åˆ©ç”¨é«˜æ–¯åˆ†å¸ƒçš„å¯åŠ æ€§ï¼Œå¯ä»¥å¾—åˆ°ä¸Šè¿°ç´¯ç§¯å½¢å¼ï¼Œå…¶ä¸­ï¼š</p>
<p>$$
\bar{\alpha}_t = \prod_{s=1}^t \sqrt{1-\beta_s}, \quad \bar{\beta}_t = \sqrt{1 - \bar{\alpha}_t^2}
$$</p>
<p><strong>å…¬å¼1.2 - è¾¹ç•Œæ¡ä»¶</strong></p>
<p>å™ªå£°è°ƒåº¦å¿…é¡»æ»¡è¶³è¾¹ç•Œæ¡ä»¶ï¼š</p>
<p>$$
\begin{cases}
\bar{\alpha}_0 = 1, & \bar{\beta}_0 = 0 \\
\bar{\alpha}_T = 0, & \bar{\beta}_T = 1
\end{cases}
$$</p>
<p><strong>ç‰©ç†æ„ä¹‰</strong>ï¼š
- å½“ $t=0$ æ—¶ï¼Œæ²¡æœ‰æ·»åŠ ä»»ä½•å™ªå£°ï¼Œ$\boldsymbol{x}_0$ ä¿æŒä¸å˜
- å½“ $t=T$ æ—¶ï¼ŒåŸå§‹ä¿¡å·å®Œå…¨è¢«å™ªå£°æ·¹æ²¡ï¼Œ$\boldsymbol{x}_T \sim \mathcal{N}(\boldsymbol{0}, \boldsymbol{I})$</p>
<p><strong>å…¬å¼1.3 - æ–¹å·®ä¿æŒæ¡ä»¶</strong></p>
<p>DDPMé€šå¸¸é‡‡ç”¨æ–¹å·®ä¿æŒï¼ˆvariance preservingï¼‰æ¡ä»¶ï¼š</p>
<p>$$
\bar{\alpha}_t^2 + \bar{\beta}_t^2 = 1
$$</p>
<p><strong>æ¨å¯¼è¿‡ç¨‹</strong>ï¼š</p>
<p>ç»™å®š $\boldsymbol{x}_0$ï¼Œæ¡ä»¶åˆ†å¸ƒ $\boldsymbol{x}_t | \boldsymbol{x}_0$ çš„å‡å€¼å’Œæ–¹å·®ä¸ºï¼š</p>
<p>$$
\begin{aligned}
\mathbb{E}[\boldsymbol{x}_t | \boldsymbol{x}_0] &= \bar{\alpha}_t \boldsymbol{x}_0 \\
\text{Var}[\boldsymbol{x}_t | \boldsymbol{x}_0] &= \bar{\beta}_t^2 \boldsymbol{I}
\end{aligned}
$$</p>
<p>å¦‚æœæˆ‘ä»¬å‡è®¾ $\boldsymbol{x}_0$ çš„å„ç»´åº¦æ–¹å·®ä¸º1ï¼ˆæ ‡å‡†åŒ–å‡è®¾ï¼‰ï¼Œé‚£ä¹ˆ $\boldsymbol{x}_t$ çš„æ— æ¡ä»¶æ–¹å·®ä¸ºï¼š</p>
<p>$$
\text{Var}[\boldsymbol{x}_t] = \mathbb{E}[\text{Var}[\boldsymbol{x}_t | \boldsymbol{x}_0]] + \text{Var}[\mathbb{E}[\boldsymbol{x}_t | \boldsymbol{x}_0]]
$$</p>
<p>$$
= \bar{\beta}_t^2 \boldsymbol{I} + \bar{\alpha}_t^2 \text{Var}[\boldsymbol{x}_0]
$$</p>
<p>$$
= \bar{\beta}_t^2 \boldsymbol{I} + \bar{\alpha}_t^2 \boldsymbol{I} = (\bar{\alpha}_t^2 + \bar{\beta}_t^2) \boldsymbol{I}
$$</p>
<p>ä¸ºäº†ä¿æŒæ–¹å·®æ’å®šä¸º1ï¼Œæˆ‘ä»¬è¦æ±‚ $\bar{\alpha}_t^2 + \bar{\beta}_t^2 = 1$ã€‚</p>
<h3 id="2-snr">2. ä¿¡å™ªæ¯”ï¼ˆSNRï¼‰çš„æ•°å­¦å®šä¹‰</h3>
<p><strong>å…¬å¼2.1 - SNRçš„åŸºç¡€å®šä¹‰</strong></p>
<p>å¯¹äºéšæœºå˜é‡ $X$ï¼Œå…¶ä¿¡å™ªæ¯”å®šä¹‰ä¸ºå‡å€¼å¹³æ–¹ä¸æ–¹å·®çš„æ¯”å€¼ï¼š</p>
<p>$$
\text{SNR}(X) = \frac{(\mathbb{E}[X])^2}{\text{Var}[X]}
$$</p>
<p><strong>ç»Ÿè®¡å­¦è§£é‡Š</strong>ï¼šä¿¡å™ªæ¯”è¡¡é‡äº†ä¿¡å·ï¼ˆå‡å€¼ï¼‰ç›¸å¯¹äºå™ªå£°ï¼ˆæ–¹å·®ï¼‰çš„å¼ºåº¦ã€‚é«˜SNRæ„å‘³ç€ä¿¡å·æ¸…æ™°ï¼Œä½SNRæ„å‘³ç€ä¿¡å·è¢«å™ªå£°æ·¹æ²¡ã€‚</p>
<p><strong>å…¬å¼2.2 - æ‰©æ•£è¿‡ç¨‹ä¸­çš„SNR</strong></p>
<p>å¯¹äºå¸¦å™ªæ ·æœ¬ $\boldsymbol{x}_t = \bar{\alpha}_t \boldsymbol{x}_0 + \bar{\beta}_t \boldsymbol{\varepsilon}$ï¼Œç»™å®š $\boldsymbol{x}_0$ çš„æ¡ä»¶SNRä¸ºï¼š</p>
<p>$$
\text{SNR}(t | \boldsymbol{x}_0) = \frac{(\mathbb{E}[\boldsymbol{x}_t | \boldsymbol{x}_0])^2}{\text{Var}[\boldsymbol{x}_t | \boldsymbol{x}_0]}
$$</p>
<p><strong>è¯¦ç»†æ¨å¯¼</strong>ï¼š</p>
<p>æ¡ä»¶å‡å€¼ï¼š
$$
\mathbb{E}[\boldsymbol{x}_t | \boldsymbol{x}_0] = \mathbb{E}[\bar{\alpha}_t \boldsymbol{x}_0 + \bar{\beta}_t \boldsymbol{\varepsilon} | \boldsymbol{x}_0]
$$</p>
<p>$$
= \bar{\alpha}_t \boldsymbol{x}_0 + \bar{\beta}_t \mathbb{E}[\boldsymbol{\varepsilon}] = \bar{\alpha}_t \boldsymbol{x}_0
$$</p>
<p>å› æ­¤å‡å€¼å¹³æ–¹ä¸ºï¼š
$$
(\mathbb{E}[\boldsymbol{x}_t | \boldsymbol{x}_0])^2 = \bar{\alpha}_t^2 \boldsymbol{x}_0^2
$$</p>
<p>æ¡ä»¶æ–¹å·®ï¼š
$$
\text{Var}[\boldsymbol{x}_t | \boldsymbol{x}_0] = \text{Var}[\bar{\alpha}_t \boldsymbol{x}_0 + \bar{\beta}_t \boldsymbol{\varepsilon} | \boldsymbol{x}_0]
$$</p>
<p>$$
= \bar{\beta}_t^2 \text{Var}[\boldsymbol{\varepsilon}] = \bar{\beta}_t^2
$$</p>
<p>å› æ­¤ä¿¡å™ªæ¯”ä¸ºï¼š
$$
\text{SNR}(t | \boldsymbol{x}_0) = \frac{\bar{\alpha}_t^2 \boldsymbol{x}_0^2}{\bar{\beta}_t^2}
$$</p>
<p><strong>å…¬å¼2.3 - ç®€åŒ–çš„SNRå®šä¹‰</strong></p>
<p>ç”±äºæˆ‘ä»¬æ€»æ˜¯åœ¨ç»™å®š $\boldsymbol{x}_0$ çš„æ¡ä»¶ä¸‹è®¨è®ºï¼Œå¹¶ä¸” $\boldsymbol{x}_0$ å¯ä»¥è§†ä¸ºå¸¸æ•°ï¼Œå› æ­¤ç®€åŒ–å®šä¹‰ï¼š</p>
<p>$$
\text{SNR}(t) = \frac{\bar{\alpha}_t^2}{\bar{\beta}_t^2}
$$</p>
<p>è¿™ä¸ªå®šä¹‰å¿½ç•¥äº† $\boldsymbol{x}_0^2$ å› å­ï¼Œä»…å…³æ³¨å™ªå£°è°ƒåº¦å‚æ•°æœ¬èº«çš„æ¯”å€¼ã€‚</p>
<p><strong>å…¬å¼2.4 - åŸºäºæ–¹å·®ä¿æŒæ¡ä»¶çš„SNRè¡¨è¾¾</strong></p>
<p>åˆ©ç”¨ $\bar{\alpha}_t^2 + \bar{\beta}_t^2 = 1$ï¼Œå¯ä»¥å°†SNRæ”¹å†™ä¸ºï¼š</p>
<p>$$
\text{SNR}(t) = \frac{\bar{\alpha}_t^2}{\bar{\beta}_t^2} = \frac{\bar{\alpha}_t^2}{1 - \bar{\alpha}_t^2}
$$</p>
<p>æˆ–è€…ï¼š
$$
\text{SNR}(t) = \frac{1 - \bar{\beta}_t^2}{\bar{\beta}_t^2} = \frac{1}{\bar{\beta}_t^2} - 1
$$</p>
<p><strong>åå‘è¡¨è¾¾</strong>ï¼šä»SNRä¹Ÿå¯ä»¥åè§£å‡º $\bar{\alpha}_t$ å’Œ $\bar{\beta}_t$ï¼š</p>
<p>$$
\bar{\alpha}_t = \sqrt{\frac{\text{SNR}(t)}{1 + \text{SNR}(t)}}
$$</p>
<p>$$
\bar{\beta}_t = \sqrt{\frac{1}{1 + \text{SNR}(t)}}
$$</p>
<p><strong>éªŒè¯</strong>ï¼š
$$
\bar{\alpha}_t^2 + \bar{\beta}_t^2 = \frac{\text{SNR}(t)}{1 + \text{SNR}(t)} + \frac{1}{1 + \text{SNR}(t)} = 1 \quad \checkmark
$$</p>
<h3 id="3-snr">3. SNRçš„å•è°ƒæ€§ä¸æ€§è´¨</h3>
<p><strong>å…¬å¼3.1 - SNRçš„å•è°ƒé€’å‡æ€§</strong></p>
<p>åœ¨åˆç†çš„å™ªå£°è°ƒåº¦ä¸‹ï¼ŒSNRéšæ—¶é—´å•è°ƒé€’å‡ï¼š</p>
<p>$$
\frac{d \text{SNR}(t)}{dt} < 0, \quad \forall t \in [0, T]
$$</p>
<p><strong>æ¨å¯¼è¿‡ç¨‹</strong>ï¼š</p>
<p>$$
\text{SNR}(t) = \frac{\bar{\alpha}_t^2}{\bar{\beta}_t^2}
$$</p>
<p>å¯¹æ—¶é—´æ±‚å¯¼ï¼š
$$
\frac{d \text{SNR}(t)}{dt} = \frac{d}{dt}\left(\frac{\bar{\alpha}_t^2}{\bar{\beta}_t^2}\right)
$$</p>
<p>ä½¿ç”¨å•†æ³•åˆ™ï¼š
$$
= \frac{2\bar{\alpha}_t \frac{d\bar{\alpha}_t}{dt} \cdot \bar{\beta}_t^2 - \bar{\alpha}_t^2 \cdot 2\bar{\beta}_t \frac{d\bar{\beta}_t}{dt}}{\bar{\beta}_t^4}
$$</p>
<p>$$
= \frac{2\bar{\alpha}_t \bar{\beta}_t}{\bar{\beta}_t^4} \left(\bar{\beta}_t \frac{d\bar{\alpha}_t}{dt} - \bar{\alpha}_t \frac{d\bar{\beta}_t}{dt}\right)
$$</p>
<p>$$
= \frac{2\bar{\alpha}_t}{\bar{\beta}_t^3} \left(\bar{\beta}_t \frac{d\bar{\alpha}_t}{dt} - \bar{\alpha}_t \frac{d\bar{\beta}_t}{dt}\right)
$$</p>
<p>åˆ©ç”¨çº¦æŸ $\bar{\alpha}_t^2 + \bar{\beta}_t^2 = 1$ï¼Œå¯¹æ—¶é—´æ±‚å¯¼ï¼š</p>
<p>$$
2\bar{\alpha}_t \frac{d\bar{\alpha}_t}{dt} + 2\bar{\beta}_t \frac{d\bar{\beta}_t}{dt} = 0
$$</p>
<p>$$
\Rightarrow \quad \bar{\alpha}_t \frac{d\bar{\alpha}_t}{dt} = -\bar{\beta}_t \frac{d\bar{\beta}_t}{dt}
$$</p>
<p>ä»£å…¥å‰é¢çš„å¯¼æ•°è¡¨è¾¾å¼ï¼š
$$
\frac{d \text{SNR}(t)}{dt} = \frac{2\bar{\alpha}_t}{\bar{\beta}_t^3} \left(\bar{\beta}_t \frac{d\bar{\alpha}_t}{dt} + \bar{\alpha}_t \frac{d\bar{\alpha}_t}{dt} / \bar{\beta}_t \cdot \bar{\beta}_t\right)
$$</p>
<p>ç”±äºåœ¨å‰å‘æ‰©æ•£ä¸­ $\bar{\alpha}_t$ é€’å‡ï¼ˆ$\frac{d\bar{\alpha}_t}{dt} &lt; 0$ï¼‰ï¼Œè€Œ $\bar{\beta}_t$ é€’å¢ï¼ˆ$\frac{d\bar{\beta}_t}{dt} &gt; 0$ï¼‰ï¼Œå¯ä»¥éªŒè¯ï¼š</p>
<p>$$
\bar{\beta}_t \frac{d\bar{\alpha}_t}{dt} - \bar{\alpha}_t \frac{d\bar{\beta}_t}{dt} < 0
$$</p>
<p>å› æ­¤ $\frac{d \text{SNR}(t)}{dt} &lt; 0$ï¼ŒSNRå•è°ƒé€’å‡ã€‚</p>
<p><strong>ç‰©ç†æ„ä¹‰</strong>ï¼šéšç€æ‰©æ•£è¿‡ç¨‹çš„è¿›è¡Œï¼Œå™ªå£°é€æ¸å¢å¼ºï¼Œä¿¡å·é€æ¸å‡å¼±ï¼Œå› æ­¤ä¿¡å™ªæ¯”å¿…ç„¶ä¸‹é™ã€‚</p>
<p><strong>å…¬å¼3.2 - SNRçš„è¾¹ç•Œå€¼</strong></p>
<p>ç”±è¾¹ç•Œæ¡ä»¶å¯çŸ¥ï¼š</p>
<p>$$
\begin{aligned}
\text{SNR}(0) &= \frac{\bar{\alpha}_0^2}{\bar{\beta}_0^2} = \frac{1}{0} = +\infty \\
\text{SNR}(T) &= \frac{\bar{\alpha}_T^2}{\bar{\beta}_T^2} = \frac{0}{1} = 0
\end{aligned}
$$</p>
<p><strong>è§£é‡Š</strong>ï¼š
- $t=0$ æ—¶æ²¡æœ‰å™ªå£°ï¼Œä¿¡å·å®Œç¾ï¼ŒSNRä¸ºæ— ç©·å¤§
- $t=T$ æ—¶ä¿¡å·å®Œå…¨æ¶ˆå¤±ï¼Œåªå‰©å™ªå£°ï¼ŒSNRä¸º0</p>
<p><strong>å…¬å¼3.3 - å¯¹æ•°SNR</strong></p>
<p>ä¸ºäº†ä¾¿äºè®¡ç®—å’Œåˆ†æï¼Œå¸¸ä½¿ç”¨å¯¹æ•°SNRï¼š</p>
<p>$$
\log \text{SNR}(t) = \log \bar{\alpha}_t^2 - \log \bar{\beta}_t^2 = 2\log \bar{\alpha}_t - 2\log \bar{\beta}_t
$$</p>
<p>å¯¹æ•°SNRçš„å•è°ƒæ€§æ›´å®¹æ˜“å¤„ç†ï¼š</p>
<p>$$
\frac{d \log \text{SNR}(t)}{dt} = \frac{1}{\text{SNR}(t)} \cdot \frac{d \text{SNR}(t)}{dt} < 0
$$</p>
<h3 id="4">4. åˆ†è¾¨ç‡ä¸ä¿¡å™ªæ¯”çš„å…³ç³»</h3>
<p><strong>å…¬å¼4.1 - å¹³å‡æ± åŒ–æ“ä½œçš„æ•°å­¦è¡¨ç¤º</strong></p>
<p>å¯¹äºå¤§å°ä¸º $w \times h$ çš„å›¾åƒ $\boldsymbol{x}_t$ï¼Œä½¿ç”¨ $s \times s$ çš„å¹³å‡æ± åŒ–ï¼ˆAverage Poolingï¼‰é™é‡‡æ ·åˆ° $\frac{w}{s} \times \frac{h}{s}$ï¼š</p>
<p>$$
\mathcal{D}_{w/s \times h/s}[\boldsymbol{x}_t]_{(i,j)} = \frac{1}{s^2} \sum_{p=0}^{s-1} \sum_{q=0}^{s-1} \boldsymbol{x}_t^{(si+p, sj+q)}
$$</p>
<p>å…¶ä¸­ $(i,j)$ æ˜¯é™é‡‡æ ·åå›¾åƒçš„åƒç´ ä½ç½®ã€‚</p>
<p><strong>å…¬å¼4.2 - å¹³å‡æ± åŒ–ä¸‹çš„å¸¦å™ªæ ·æœ¬</strong></p>
<p>å°† $\boldsymbol{x}_t = \bar{\alpha}_t \boldsymbol{x}_0 + \bar{\beta}_t \boldsymbol{\varepsilon}$ ä»£å…¥æ± åŒ–æ“ä½œï¼š</p>
<p>$$
\mathcal{D}_{w/s \times h/s}[\boldsymbol{x}_t]_{(i,j)} = \frac{1}{s^2} \sum_{p=0}^{s-1} \sum_{q=0}^{s-1} \left(\bar{\alpha}_t \boldsymbol{x}_0^{(si+p, sj+q)} + \bar{\beta}_t \boldsymbol{\varepsilon}^{(si+p, sj+q)}\right)
$$</p>
<p>$$
= \bar{\alpha}_t \cdot \frac{1}{s^2} \sum_{p,q} \boldsymbol{x}_0^{(si+p, sj+q)} + \bar{\beta}_t \cdot \frac{1}{s^2} \sum_{p,q} \boldsymbol{\varepsilon}^{(si+p, sj+q)}
$$</p>
<p>$$
= \bar{\alpha}_t \mathcal{D}_{w/s \times h/s}[\boldsymbol{x}_0]_{(i,j)} + \bar{\beta}_t \mathcal{D}_{w/s \times h/s}[\boldsymbol{\varepsilon}]_{(i,j)}
$$</p>
<p><strong>å…¬å¼4.3 - å™ªå£°æ± åŒ–çš„æ–¹å·®å˜åŒ–</strong></p>
<p>å…³é”®è§‚å¯Ÿï¼šå¹³å‡æ± åŒ–ä¼šé™ä½å™ªå£°çš„æ–¹å·®ã€‚ç”±äº $\boldsymbol{\varepsilon}^{(i,j)} \sim \mathcal{N}(0, 1)$ æ˜¯ç‹¬ç«‹åŒåˆ†å¸ƒçš„ï¼Œæ ¹æ®æ–¹å·®çš„æ€§è´¨ï¼š</p>
<p>$$
\text{Var}\left[\frac{1}{s^2} \sum_{p,q} \boldsymbol{\varepsilon}^{(si+p, sj+q)}\right] = \frac{1}{s^4} \sum_{p,q} \text{Var}[\boldsymbol{\varepsilon}^{(si+p, sj+q)}]
$$</p>
<p>$$
= \frac{1}{s^4} \cdot s^2 \cdot 1 = \frac{1}{s^2}
$$</p>
<p>å› æ­¤ï¼š
$$
\mathcal{D}_{w/s \times h/s}[\boldsymbol{\varepsilon}]_{(i,j)} \sim \mathcal{N}\left(0, \frac{1}{s^2}\right)
$$</p>
<p><strong>å…¬å¼4.4 - é™é‡‡æ ·åçš„SNR</strong></p>
<p>é™é‡‡æ ·åçš„å¸¦å™ªæ ·æœ¬å¯ä»¥é‡æ–°è¡¨ç¤ºä¸ºï¼š</p>
<p>$$
\mathcal{D}_{w/s \times h/s}[\boldsymbol{x}_t]_{(i,j)} = \bar{\alpha}_t \mathcal{D}_{w/s \times h/s}[\boldsymbol{x}_0]_{(i,j)} + \bar{\beta}_t \tilde{\boldsymbol{\varepsilon}}_{(i,j)}
$$</p>
<p>å…¶ä¸­ $\tilde{\boldsymbol{\varepsilon}}_{(i,j)} \sim \mathcal{N}(0, 1/s^2)$ã€‚</p>
<p>ç»™å®šé™é‡‡æ ·åçš„ä¿¡å·ï¼Œæ¡ä»¶æ–¹å·®ä¸ºï¼š</p>
<p>$$
\text{Var}[\mathcal{D}_{w/s \times h/s}[\boldsymbol{x}_t]_{(i,j)} | \mathcal{D}_{w/s \times h/s}[\boldsymbol{x}_0]_{(i,j)}] = \bar{\beta}_t^2 \cdot \frac{1}{s^2}
$$</p>
<p>æ¡ä»¶å‡å€¼çš„å¹³æ–¹ä¸ºï¼š</p>
<p>$$
(\mathbb{E}[\mathcal{D}_{w/s \times h/s}[\boldsymbol{x}_t]_{(i,j)} | \mathcal{D}_{w/s \times h/s}[\boldsymbol{x}_0]_{(i,j)}])^2 = \bar{\alpha}_t^2 (\mathcal{D}_{w/s \times h/s}[\boldsymbol{x}_0]_{(i,j)})^2
$$</p>
<p>å› æ­¤é™é‡‡æ ·åçš„SNRä¸ºï¼š</p>
<p>$$
\text{SNR}^{\text{downsampled}}(t) = \frac{\bar{\alpha}_t^2 (\mathcal{D}_{w/s \times h/s}[\boldsymbol{x}_0]_{(i,j)})^2}{\bar{\beta}_t^2 / s^2}
$$</p>
<p>$$
= s^2 \cdot \frac{\bar{\alpha}_t^2}{\bar{\beta}_t^2} \cdot (\mathcal{D}_{w/s \times h/s}[\boldsymbol{x}_0]_{(i,j)})^2
$$</p>
<p>å¿½ç•¥ä¿¡å·å¼ºåº¦å› å­ï¼Œç®€åŒ–ä¸ºï¼š</p>
<p>$$
\text{SNR}^{\text{downsampled}}(t) = s^2 \cdot \text{SNR}(t)
$$</p>
<p><strong>ç»“è®º</strong>ï¼šé™é‡‡æ ·ä½¿å¾—ä¿¡å™ªæ¯”å¢åŠ äº† $s^2$ å€ã€‚</p>
<p><strong>å…¬å¼4.5 - åˆ†è¾¨ç‡æ— å…³æ€§çš„æ•°å­¦è¡¨è¿°</strong></p>
<p>ä¸ºäº†ä¿è¯ä¸åŒåˆ†è¾¨ç‡ä¸‹çš„æ‰©æ•£æ¨¡å‹å…·æœ‰ç›¸åŒçš„å­¦ä¹ éš¾åº¦ï¼Œæˆ‘ä»¬è¦æ±‚é«˜åˆ†è¾¨ç‡å›¾åƒé™é‡‡æ ·åçš„SNRä¸ç›´æ¥åœ¨ä½åˆ†è¾¨ç‡ä¸Šçš„SNRç›¸åŒï¼š</p>
<p>$$
\text{SNR}^{w \times h \to w/s \times h/s}(t) = \text{SNR}^{w/s \times h/s}(t)
$$</p>
<p>å³ï¼š
$$
s^2 \cdot \frac{(\bar{\alpha}_t^{w \times h})^2}{(\bar{\beta}_t^{w \times h})^2} = \frac{(\bar{\alpha}_t^{w/s \times h/s})^2}{(\bar{\beta}_t^{w/s \times h/s})^2}
$$</p>
<p>æ•´ç†å¾—ï¼š
$$
\frac{(\bar{\alpha}_t^{w \times h})^2}{(\bar{\beta}_t^{w \times h})^2} = \frac{1}{s^2} \cdot \frac{(\bar{\alpha}_t^{w/s \times h/s})^2}{(\bar{\beta}_t^{w/s \times h/s})^2}
$$</p>
<h3 id="5">5. å™ªå£°è°ƒåº¦çš„åˆ†è¾¨ç‡è‡ªé€‚åº”</h3>
<p><strong>å…¬å¼5.1 - ä»ä½åˆ†è¾¨ç‡æ¨å¯¼é«˜åˆ†è¾¨ç‡çš„å™ªå£°è°ƒåº¦</strong></p>
<p>å‡è®¾å·²çŸ¥ä½åˆ†è¾¨ç‡ $w/s \times h/s$ çš„å™ªå£°è°ƒåº¦ $(\bar{\alpha}_t^{\text{low}}, \bar{\beta}_t^{\text{low}})$ï¼Œç°åœ¨éœ€è¦æ±‚è§£é«˜åˆ†è¾¨ç‡ $w \times h$ çš„å™ªå£°è°ƒåº¦ $(\bar{\alpha}_t^{\text{high}}, \bar{\beta}_t^{\text{high}})$ã€‚</p>
<p>çº¦æŸæ¡ä»¶æœ‰ä¸¤ä¸ªï¼š</p>
<ol>
<li>
<p>SNRå¯¹é½æ¡ä»¶ï¼š
$$
\frac{(\bar{\alpha}_t^{\text{high}})^2}{(\bar{\beta}_t^{\text{high}})^2} = \frac{1}{s^2} \cdot \frac{(\bar{\alpha}_t^{\text{low}})^2}{(\bar{\beta}_t^{\text{low}})^2}
$$</p>
</li>
<li>
<p>æ–¹å·®ä¿æŒæ¡ä»¶ï¼š
$$
(\bar{\alpha}_t^{\text{high}})^2 + (\bar{\beta}_t^{\text{high}})^2 = 1
$$</p>
</li>
</ol>
<p><strong>å…¬å¼5.2 - æ±‚è§£è¿‡ç¨‹</strong></p>
<p>ä»SNRå¯¹é½æ¡ä»¶ï¼š
$$
(\bar{\alpha}_t^{\text{high}})^2 = \frac{1}{s^2} \cdot \frac{(\bar{\alpha}_t^{\text{low}})^2}{(\bar{\beta}_t^{\text{low}})^2} \cdot (\bar{\beta}_t^{\text{high}})^2
$$</p>
<p>ä»£å…¥æ–¹å·®ä¿æŒæ¡ä»¶ï¼š
$$
\frac{1}{s^2} \cdot \frac{(\bar{\alpha}_t^{\text{low}})^2}{(\bar{\beta}_t^{\text{low}})^2} \cdot (\bar{\beta}_t^{\text{high}})^2 + (\bar{\beta}_t^{\text{high}})^2 = 1
$$</p>
<p>$$
(\bar{\beta}_t^{\text{high}})^2 \left(\frac{1}{s^2} \cdot \frac{(\bar{\alpha}_t^{\text{low}})^2}{(\bar{\beta}_t^{\text{low}})^2} + 1\right) = 1
$$</p>
<p>$$
(\bar{\beta}_t^{\text{high}})^2 \left(\frac{(\bar{\alpha}_t^{\text{low}})^2 + s^2 (\bar{\beta}_t^{\text{low}})^2}{s^2 (\bar{\beta}_t^{\text{low}})^2}\right) = 1
$$</p>
<p>åˆ©ç”¨ $(\bar{\alpha}_t^{\text{low}})^2 + (\bar{\beta}_t^{\text{low}})^2 = 1$ï¼š</p>
<p>$$
(\bar{\beta}_t^{\text{high}})^2 \left(\frac{1 + (s^2-1) (\bar{\beta}_t^{\text{low}})^2}{s^2 (\bar{\beta}_t^{\text{low}})^2}\right) = 1
$$</p>
<p>è§£å¾—ï¼š
$$
(\bar{\beta}_t^{\text{high}})^2 = \frac{s^2 (\bar{\beta}_t^{\text{low}})^2}{1 + (s^2-1) (\bar{\beta}_t^{\text{low}})^2}
$$</p>
<p>$$
\bar{\beta}_t^{\text{high}} = \frac{s \bar{\beta}_t^{\text{low}}}{\sqrt{1 + (s^2-1) (\bar{\beta}_t^{\text{low}})^2}}
$$</p>
<p>ç›¸åº”åœ°ï¼š
$$
(\bar{\alpha}_t^{\text{high}})^2 = 1 - (\bar{\beta}_t^{\text{high}})^2 = 1 - \frac{s^2 (\bar{\beta}_t^{\text{low}})^2}{1 + (s^2-1) (\bar{\beta}_t^{\text{low}})^2}
$$</p>
<p>$$
= \frac{1 + (s^2-1) (\bar{\beta}_t^{\text{low}})^2 - s^2 (\bar{\beta}_t^{\text{low}})^2}{1 + (s^2-1) (\bar{\beta}_t^{\text{low}})^2}
$$</p>
<p>$$
= \frac{1 - (\bar{\beta}_t^{\text{low}})^2}{1 + (s^2-1) (\bar{\beta}_t^{\text{low}})^2} = \frac{(\bar{\alpha}_t^{\text{low}})^2}{1 + (s^2-1) (\bar{\beta}_t^{\text{low}})^2}
$$</p>
<p>$$
\bar{\alpha}_t^{\text{high}} = \frac{\bar{\alpha}_t^{\text{low}}}{\sqrt{1 + (s^2-1) (\bar{\beta}_t^{\text{low}})^2}}
$$</p>
<p><strong>å…¬å¼5.3 - éªŒè¯SNRå¯¹é½</strong></p>
<p>éªŒè¯æ¨å¯¼ç»“æœæ˜¯å¦æ»¡è¶³SNRå¯¹é½æ¡ä»¶ï¼š</p>
<p>$$
\frac{(\bar{\alpha}_t^{\text{high}})^2}{(\bar{\beta}_t^{\text{high}})^2} = \frac{(\bar{\alpha}_t^{\text{low}})^2 / [1 + (s^2-1) (\bar{\beta}_t^{\text{low}})^2]}{s^2 (\bar{\beta}_t^{\text{low}})^2 / [1 + (s^2-1) (\bar{\beta}_t^{\text{low}})^2]}
$$</p>
<p>$$
= \frac{(\bar{\alpha}_t^{\text{low}})^2}{s^2 (\bar{\beta}_t^{\text{low}})^2} = \frac{1}{s^2} \cdot \frac{(\bar{\alpha}_t^{\text{low}})^2}{(\bar{\beta}_t^{\text{low}})^2} \quad \checkmark
$$</p>
<p><strong>å…¬å¼5.4 - ç‰¹æ®Šæƒ…å†µåˆ†æ</strong></p>
<p>å½“ $s=1$ï¼ˆåˆ†è¾¨ç‡ä¸å˜ï¼‰æ—¶ï¼š
$$
\bar{\alpha}_t^{\text{high}} = \bar{\alpha}_t^{\text{low}}, \quad \bar{\beta}_t^{\text{high}} = \bar{\beta}_t^{\text{low}} \quad \checkmark
$$</p>
<p>å½“ $\bar{\beta}_t^{\text{low}} \to 0$ï¼ˆæ¥è¿‘ $t=0$ï¼‰æ—¶ï¼š
$$
\bar{\beta}_t^{\text{high}} \approx s \bar{\beta}_t^{\text{low}}, \quad \bar{\alpha}_t^{\text{high}} \approx \bar{\alpha}_t^{\text{low}}
$$</p>
<p>è¿™è¡¨æ˜åœ¨å™ªå£°å¾ˆå°æ—¶ï¼Œé«˜åˆ†è¾¨ç‡çš„å™ªå£°å¼ºåº¦è¿‘ä¼¼ä¸º $s$ å€ã€‚</p>
<p>å½“ $\bar{\beta}_t^{\text{low}} \to 1$ï¼ˆæ¥è¿‘ $t=T$ï¼‰æ—¶ï¼š
$$
\bar{\beta}_t^{\text{high}} \to \frac{s}{\sqrt{s^2}} = 1, \quad \bar{\alpha}_t^{\text{high}} \to 0 \quad \checkmark
$$</p>
<p>æ»¡è¶³è¾¹ç•Œæ¡ä»¶ã€‚</p>
<h3 id="6-snr">6. æŸå¤±å‡½æ•°ä¸SNRåŠ æƒ</h3>
<p><strong>å…¬å¼6.1 - æ ‡å‡†MSEæŸå¤±</strong></p>
<p>æ‰©æ•£æ¨¡å‹çš„æ ‡å‡†è®­ç»ƒç›®æ ‡æ˜¯é¢„æµ‹æ·»åŠ çš„å™ªå£°ï¼Œä½¿ç”¨å‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰æŸå¤±ï¼š</p>
<p>$$
\mathcal{L}_{\text{MSE}} = \mathbb{E}_{t, \boldsymbol{x}_0, \boldsymbol{\varepsilon}} \left[\|\boldsymbol{\varepsilon} - \boldsymbol{\epsilon}_{\boldsymbol{\theta}}(\boldsymbol{x}_t, t)\|^2\right]
$$</p>
<p>å…¶ä¸­ $\boldsymbol{\epsilon}_{\boldsymbol{\theta}}$ æ˜¯ç¥ç»ç½‘ç»œé¢„æµ‹çš„å™ªå£°ã€‚</p>
<p><strong>å…¬å¼6.2 - å½’ä¸€åŒ–çš„MSEæŸå¤±</strong></p>
<p>ä¸ºäº†æ¶ˆé™¤åˆ†è¾¨ç‡çš„å½±å“ï¼Œé€šå¸¸å¯¹æŸå¤±è¿›è¡Œå½’ä¸€åŒ–ï¼š</p>
<p>$$
\mathcal{L} = \frac{1}{wh} \mathbb{E}_{t, \boldsymbol{x}_0, \boldsymbol{\varepsilon}} \left[\|\boldsymbol{\varepsilon} - \boldsymbol{\epsilon}_{\boldsymbol{\theta}}(\bar{\alpha}_t \boldsymbol{x}_0 + \bar{\beta}_t \boldsymbol{\varepsilon}, t)\|^2\right]
$$</p>
<p>è¿™é‡Œé™¤ä»¥åƒç´ æ€»æ•° $wh$ï¼Œä½¿å¾—æŸå¤±å€¼ä¸éšå›¾åƒå¤§å°å˜åŒ–ã€‚</p>
<p><strong>å…¬å¼6.3 - å¤šå°ºåº¦æŸå¤±</strong></p>
<p>Simple Diffusionæå‡ºçš„å¤šå°ºåº¦æŸå¤±åœ¨ä¸åŒåˆ†è¾¨ç‡ä¸Šè®¡ç®—MSEï¼š</p>
<p>$$
\mathcal{L}_{s \times s} = \frac{1}{(w/s)(h/s)} \mathbb{E}_{t, \boldsymbol{x}_0, \boldsymbol{\varepsilon}} \left[\|\mathcal{D}_{w/s \times h/s}[\boldsymbol{\varepsilon}] - \mathcal{D}_{w/s \times h/s}[\boldsymbol{\epsilon}_{\boldsymbol{\theta}}(\boldsymbol{x}_t, t)]\|^2\right]
$$</p>
<p><strong>æ¨å¯¼è¯´æ˜</strong>ï¼š</p>
<p>å°†é¢„æµ‹å™ªå£°å’ŒçœŸå®å™ªå£°éƒ½é™é‡‡æ ·åˆ° $w/s \times h/s$ åˆ†è¾¨ç‡åå†è®¡ç®—MSEã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼š</p>
<ol>
<li>ç¡®ä¿æ¨¡å‹åœ¨å¤šä¸ªå°ºåº¦ä¸Šéƒ½èƒ½å‡†ç¡®é¢„æµ‹å™ªå£°</li>
<li>ä½åˆ†è¾¨ç‡çš„lossæ›´å®¹æ˜“ä¼˜åŒ–ï¼Œå¯ä»¥ç¨³å®šè®­ç»ƒ</li>
<li>é«˜åˆ†è¾¨ç‡çš„losså…³æ³¨ç»†èŠ‚ï¼Œæå‡ç”Ÿæˆè´¨é‡</li>
</ol>
<p><strong>å…¬å¼6.4 - ç»„åˆå¤šå°ºåº¦æŸå¤±</strong></p>
<p>æœ€ç»ˆçš„è®­ç»ƒç›®æ ‡æ˜¯å¤šä¸ªå°ºåº¦æŸå¤±çš„åŠ æƒç»„åˆï¼š</p>
<p>$$
\mathcal{L}_{\text{multi-scale}} = \sum_{s \in \mathcal{S}} w_s \mathcal{L}_{s \times s}
$$</p>
<p>å…¶ä¸­ $\mathcal{S}$ æ˜¯é€‰æ‹©çš„å°ºåº¦é›†åˆï¼ˆå¦‚ ${1, 2, 4, 8}$ï¼‰ï¼Œ$w_s$ æ˜¯å¯¹åº”æƒé‡ã€‚</p>
<p><strong>å…¬å¼6.5 - SNRåŠ æƒçš„æŸå¤±å‡½æ•°</strong></p>
<p>å¦ä¸€ç§æ”¹è¿›æ˜¯åŸºäºSNRå¯¹æŸå¤±è¿›è¡ŒåŠ æƒã€‚ç”±äºä¸åŒæ—¶é—´æ­¥çš„SNRä¸åŒï¼Œå»å™ªéš¾åº¦ä¹Ÿä¸åŒï¼Œå¯ä»¥å¼•å…¥SNRç›¸å…³çš„æƒé‡ï¼š</p>
<p>$$
\mathcal{L}_{\text{SNR-weighted}} = \mathbb{E}_{t, \boldsymbol{x}_0, \boldsymbol{\varepsilon}} \left[w(\text{SNR}(t)) \|\boldsymbol{\varepsilon} - \boldsymbol{\epsilon}_{\boldsymbol{\theta}}(\boldsymbol{x}_t, t)\|^2\right]
$$</p>
<p><strong>å¸¸è§çš„æƒé‡å‡½æ•°</strong>ï¼š</p>
<ol>
<li>å¸¸æ•°æƒé‡ï¼š$w(\text{SNR}(t)) = 1$</li>
<li>SNRæƒé‡ï¼š$w(\text{SNR}(t)) = \text{SNR}(t)$</li>
<li>æˆªæ–­SNRæƒé‡ï¼š$w(\text{SNR}(t)) = \min(\text{SNR}(t), \lambda)$</li>
<li>å¯¹æ•°SNRæƒé‡ï¼š$w(\text{SNR}(t)) = \log(1 + \text{SNR}(t))$</li>
</ol>
<p><strong>å…¬å¼6.6 - v-predictionçš„SNRå…³ç³»</strong></p>
<p>é™¤äº†é¢„æµ‹å™ªå£° $\boldsymbol{\varepsilon}$ï¼Œè¿˜å¯ä»¥é¢„æµ‹é€Ÿåº¦é¡¹ $\boldsymbol{v}$ï¼š</p>
<p>$$
\boldsymbol{v}_t = \bar{\alpha}_t \boldsymbol{\varepsilon} - \bar{\beta}_t \boldsymbol{x}_0
$$</p>
<p>v-predictionçš„æŸå¤±å‡½æ•°ä¸ºï¼š</p>
<p>$$
\mathcal{L}_v = \mathbb{E}_{t, \boldsymbol{x}_0, \boldsymbol{\varepsilon}} \left[\|\boldsymbol{v}_t - \boldsymbol{v}_{\boldsymbol{\theta}}(\boldsymbol{x}_t, t)\|^2\right]
$$</p>
<p><strong>ä¸SNRçš„å…³ç³»</strong>ï¼š</p>
<p>å°† $\boldsymbol{v}_t$ å±•å¼€ï¼š
$$
\boldsymbol{v}_t = \bar{\alpha}_t \boldsymbol{\varepsilon} - \bar{\beta}_t \boldsymbol{x}_0
$$</p>
<p>å¦‚æœä» $\boldsymbol{x}_t = \bar{\alpha}_t \boldsymbol{x}_0 + \bar{\beta}_t \boldsymbol{\varepsilon}$ å‡ºå‘ï¼š</p>
<p>$$
\boldsymbol{\varepsilon} = \frac{\boldsymbol{x}_t - \bar{\alpha}_t \boldsymbol{x}_0}{\bar{\beta}_t}
$$</p>
<p>ä»£å…¥ï¼š
$$
\boldsymbol{v}_t = \bar{\alpha}_t \cdot \frac{\boldsymbol{x}_t - \bar{\alpha}_t \boldsymbol{x}_0}{\bar{\beta}_t} - \bar{\beta}_t \boldsymbol{x}_0
$$</p>
<p>$$
= \frac{\bar{\alpha}_t}{\bar{\beta}_t} \boldsymbol{x}_t - \frac{\bar{\alpha}_t^2}{\bar{\beta}_t} \boldsymbol{x}_0 - \bar{\beta}_t \boldsymbol{x}_0
$$</p>
<p>$$
= \frac{\bar{\alpha}_t}{\bar{\beta}_t} \boldsymbol{x}_t - \left(\frac{\bar{\alpha}_t^2}{\bar{\beta}_t} + \bar{\beta}_t\right) \boldsymbol{x}_0
$$</p>
<p>åˆ©ç”¨ $\bar{\alpha}_t^2 + \bar{\beta}_t^2 = 1$ï¼š</p>
<p>$$
\frac{\bar{\alpha}_t^2}{\bar{\beta}_t} + \bar{\beta}_t = \frac{\bar{\alpha}_t^2 + \bar{\beta}_t^2}{\bar{\beta}_t} = \frac{1}{\bar{\beta}_t}
$$</p>
<p>å› æ­¤ï¼š
$$
\boldsymbol{v}_t = \frac{\bar{\alpha}_t}{\bar{\beta}_t} \boldsymbol{x}_t - \frac{1}{\bar{\beta}_t} \boldsymbol{x}_0 = \frac{1}{\bar{\beta}_t} (\bar{\alpha}_t \boldsymbol{x}_t - \boldsymbol{x}_0)
$$</p>
<p>è¿™ä¸ªå½¢å¼ä¸SNRå¯†åˆ‡ç›¸å…³ï¼Œå› ä¸º $\frac{\bar{\alpha}_t}{\bar{\beta}_t} = \sqrt{\text{SNR}(t)}$ã€‚</p>
<h3 id="7">7. æ—¶é—´é‡å‚æ•°åŒ–</h3>
<p><strong>å…¬å¼7.1 - æ—¶é—´å˜é‡çš„é‡å‚æ•°åŒ–åŠ¨æœº</strong></p>
<p>åœ¨åŸå§‹çš„æ—¶é—´å‚æ•°åŒ– $t \in [0, T]$ ä¸‹ï¼Œä¸åŒæ—¶é—´æ­¥å¯¹åº”çš„SNRå˜åŒ–å¯èƒ½ä¸å‡åŒ€ã€‚ä¸ºäº†ä½¿è®­ç»ƒæ›´ç¨³å®šï¼Œå¯ä»¥å¼•å…¥æ–°çš„æ—¶é—´å˜é‡ $\tau$ï¼Œä½¿å¾—SNRå…³äº $\tau$ çš„å˜åŒ–æ›´åŠ çº¿æ€§ã€‚</p>
<p><strong>å…¬å¼7.2 - åŸºäºSNRçš„æ—¶é—´é‡å‚æ•°åŒ–</strong></p>
<p>å®šä¹‰æ–°æ—¶é—´å˜é‡ $\tau$ ä¸ SNR çš„å…³ç³»ï¼š</p>
<p>$$
\tau = g(\text{SNR}(t))
$$</p>
<p>å…¶ä¸­ $g$ æ˜¯å•è°ƒå‡½æ•°ã€‚å¸¸è§çš„é€‰æ‹©åŒ…æ‹¬ï¼š</p>
<ol>
<li>å¯¹æ•°é‡å‚æ•°åŒ–ï¼š$\tau = \log \text{SNR}(t)$</li>
<li>çº¿æ€§é‡å‚æ•°åŒ–ï¼š$\tau = \text{SNR}(t)$</li>
<li>åå‡½æ•°é‡å‚æ•°åŒ–ï¼š$\tau = \frac{1}{\text{SNR}(t)}$</li>
</ol>
<p><strong>å…¬å¼7.3 - å¯¹æ•°SNRé‡å‚æ•°åŒ–çš„è¯¦ç»†æ¨å¯¼</strong></p>
<p>é€‰æ‹© $\tau = \log \text{SNR}(t)$ï¼Œåˆ™ï¼š</p>
<p>$$
\tau = \log \frac{\bar{\alpha}_t^2}{\bar{\beta}_t^2} = 2\log \bar{\alpha}_t - 2\log \bar{\beta}_t
$$</p>
<p>åè§£ï¼š
$$
\text{SNR}(t) = e^{\tau}
$$</p>
<p>$$
\frac{\bar{\alpha}_t^2}{\bar{\beta}_t^2} = e^{\tau}
$$</p>
<p>ç»“åˆ $\bar{\alpha}_t^2 + \bar{\beta}_t^2 = 1$ï¼š</p>
<p>$$
\bar{\alpha}_t^2 = e^{\tau} \bar{\beta}_t^2
$$</p>
<p>$$
e^{\tau} \bar{\beta}_t^2 + \bar{\beta}_t^2 = 1
$$</p>
<p>$$
\bar{\beta}_t^2 (e^{\tau} + 1) = 1
$$</p>
<p>$$
\bar{\beta}_t = \frac{1}{\sqrt{e^{\tau} + 1}} = \frac{1}{\sqrt{e^{\tau} + 1}}
$$</p>
<p>$$
\bar{\alpha}_t = \sqrt{e^{\tau}} \cdot \frac{1}{\sqrt{e^{\tau} + 1}} = \frac{\sqrt{e^{\tau}}}{\sqrt{e^{\tau} + 1}} = \frac{e^{\tau/2}}{\sqrt{e^{\tau} + 1}}
$$</p>
<p>æˆ–è€…æ›´ç®€æ´åœ°ï¼š
$$
\bar{\alpha}_t = \sqrt{\frac{e^{\tau}}{e^{\tau} + 1}} = \sqrt{\text{sigmoid}(\tau)}
$$</p>
<p>$$
\bar{\beta}_t = \sqrt{\frac{1}{e^{\tau} + 1}} = \sqrt{1 - \text{sigmoid}(\tau)}
$$</p>
<p><strong>å…¬å¼7.4 - æ—¶é—´é‡å‚æ•°åŒ–åçš„æ‰©æ•£è¿‡ç¨‹</strong></p>
<p>ä½¿ç”¨ $\tau$ ä½œä¸ºæ–°æ—¶é—´å˜é‡ï¼Œæ‰©æ•£è¿‡ç¨‹å˜ä¸ºï¼š</p>
<p>$$
\boldsymbol{x}_{\tau} = \sqrt{\text{sigmoid}(\tau)} \boldsymbol{x}_0 + \sqrt{1 - \text{sigmoid}(\tau)} \boldsymbol{\varepsilon}
$$</p>
<p>è¾¹ç•Œæ¡ä»¶ï¼š
- $\tau \to +\infty$ æ—¶ï¼Œ$\text{sigmoid}(\tau) \to 1$ï¼Œ$\boldsymbol{x}<em _tau="\tau">{\tau} \approx \boldsymbol{x}_0$
- $\tau \to -\infty$ æ—¶ï¼Œ$\text{sigmoid}(\tau) \to 0$ï¼Œ$\boldsymbol{x}</em>$} \approx \boldsymbol{\varepsilon</p>
<p><strong>å…¬å¼7.5 - å‡åŒ€é‡‡æ ·ç­–ç•¥</strong></p>
<p>åœ¨ $\tau$ ç©ºé—´ä¸­è¿›è¡Œå‡åŒ€é‡‡æ ·ï¼š</p>
<p>$$
\tau_i = \tau_{\min} + \frac{i}{N}(\tau_{\max} - \tau_{\min}), \quad i = 0, 1, \ldots, N
$$</p>
<p>è¿™æ ·å¯ä»¥ä¿è¯åœ¨æ•´ä¸ªSNRèŒƒå›´å†…é‡‡æ ·æ›´å‡åŒ€ï¼Œé¿å…æŸäº›SNRåŒºé—´è®­ç»ƒä¸è¶³ã€‚</p>
<p><strong>å…¬å¼7.6 - è¿ç»­æ—¶é—´æ‰©æ•£çš„ç§¯åˆ†å½¢å¼</strong></p>
<p>åœ¨è¿ç»­æ—¶é—´æ¡†æ¶ä¸‹ï¼Œæ‰©æ•£è¿‡ç¨‹å¯ä»¥å†™æˆéšæœºå¾®åˆ†æ–¹ç¨‹ï¼ˆSDEï¼‰ï¼š</p>
<p>$$
d\boldsymbol{x}_t = f(t) \boldsymbol{x}_t dt + g(t) d\boldsymbol{w}_t
$$</p>
<p>å…¶ä¸­ $\boldsymbol{w}_t$ æ˜¯æ ‡å‡†å¸ƒæœ—è¿åŠ¨ã€‚</p>
<p>ç§¯åˆ†å½¢å¼ï¼š
$$
\boldsymbol{x}_t = \boldsymbol{x}_0 \exp\left(\int_0^t f(s) ds\right) + \int_0^t g(s) \exp\left(\int_s^t f(u) du\right) d\boldsymbol{w}_s
$$</p>
<p>å¯¹åº”çš„ SNR æ¼”åŒ–ï¼š
$$
\log \text{SNR}(t) = 2\int_0^t f(s) ds - \log\left(\int_0^t g(s)^2 \exp\left(2\int_s^t f(u) du\right) ds\right)
$$</p>
<h3 id="8">8. åå‘è¿‡ç¨‹ä¸å»å™ª</h3>
<p><strong>å…¬å¼8.1 - åå‘è¿‡ç¨‹çš„æ¡ä»¶åˆ†å¸ƒ</strong></p>
<p>ç»™å®š $\boldsymbol{x}_t$ å’Œ $\boldsymbol{x}_0$ï¼Œåå‘ä¸€æ­¥çš„æ¡ä»¶åˆ†å¸ƒä¸ºï¼š</p>
<p>$$
q(\boldsymbol{x}_{t-1} | \boldsymbol{x}_t, \boldsymbol{x}_0) = \mathcal{N}(\boldsymbol{x}_{t-1}; \tilde{\boldsymbol{\mu}}_t(\boldsymbol{x}_t, \boldsymbol{x}_0), \tilde{\beta}_t \boldsymbol{I})
$$</p>
<p>å…¶ä¸­ï¼š
$$
\tilde{\boldsymbol{\mu}}_t(\boldsymbol{x}_t, \boldsymbol{x}_0) = \frac{\sqrt{\bar{\alpha}_{t-1}} \beta_t}{1 - \bar{\alpha}_t} \boldsymbol{x}_0 + \frac{\sqrt{\alpha_t}(1-\bar{\alpha}_{t-1})}{1-\bar{\alpha}_t} \boldsymbol{x}_t
$$</p>
<p>$$
\tilde{\beta}_t = \frac{1 - \bar{\alpha}_{t-1}}{1 - \bar{\alpha}_t} \beta_t
$$</p>
<p><strong>å…¬å¼8.2 - ç”¨é¢„æµ‹å™ªå£°è¡¨ç¤ºåå‘å‡å€¼</strong></p>
<p>ç”±äº $\boldsymbol{x}_0 = \frac{\boldsymbol{x}_t - \bar{\beta}_t \boldsymbol{\varepsilon}}{\bar{\alpha}_t}$ï¼Œä»£å…¥ä¸Šå¼ï¼š</p>
<p>$$
\tilde{\boldsymbol{\mu}}_t(\boldsymbol{x}_t, \boldsymbol{\varepsilon}) = \frac{\sqrt{\bar{\alpha}_{t-1}} \beta_t}{1 - \bar{\alpha}_t} \cdot \frac{\boldsymbol{x}_t - \bar{\beta}_t \boldsymbol{\varepsilon}}{\bar{\alpha}_t} + \frac{\sqrt{\alpha_t}(1-\bar{\alpha}_{t-1})}{1-\bar{\alpha}_t} \boldsymbol{x}_t
$$</p>
<p>æ•´ç†ï¼š
$$
= \frac{1}{1-\bar{\alpha}_t} \left[\frac{\sqrt{\bar{\alpha}_{t-1}} \beta_t}{\bar{\alpha}_t}(\boldsymbol{x}_t - \bar{\beta}_t \boldsymbol{\varepsilon}) + \sqrt{\alpha_t}(1-\bar{\alpha}_{t-1}) \boldsymbol{x}_t\right]
$$</p>
<p>åˆ©ç”¨ $\beta_t = 1 - \alpha_t$ å’Œ $\bar{\alpha}<em t-1="t-1">t = \bar{\alpha}</em>$ï¼ˆéœ€è¦ä»é€’æ¨å…³ç³»éªŒè¯ï¼‰ï¼š} \sqrt{\alpha_t</p>
<p>$$
= \frac{1}{\sqrt{\alpha_t}} \left(\boldsymbol{x}_t - \frac{\beta_t}{\sqrt{1-\bar{\alpha}_t}} \boldsymbol{\varepsilon}\right)
$$</p>
<p><strong>å…¬å¼8.3 - é¢„æµ‹æ¨¡å‹çš„ç›®æ ‡</strong></p>
<p>ç¥ç»ç½‘ç»œ $\boldsymbol{\epsilon}_{\boldsymbol{\theta}}(\boldsymbol{x}_t, t)$ é¢„æµ‹å™ªå£° $\boldsymbol{\varepsilon}$ï¼Œåå‘é‡‡æ ·æ—¶ä½¿ç”¨ï¼š</p>
<p>$$
\boldsymbol{x}_{t-1} = \frac{1}{\sqrt{\alpha_t}} \left(\boldsymbol{x}_t - \frac{\beta_t}{\sqrt{1-\bar{\alpha}_t}} \boldsymbol{\epsilon}_{\boldsymbol{\theta}}(\boldsymbol{x}_t, t)\right) + \sqrt{\tilde{\beta}_t} \boldsymbol{z}
$$</p>
<p>å…¶ä¸­ $\boldsymbol{z} \sim \mathcal{N}(\boldsymbol{0}, \boldsymbol{I})$ã€‚</p>
<p><strong>å…¬å¼8.4 - SNRä¸å»å™ªéš¾åº¦çš„å…³ç³»</strong></p>
<p>å»å™ªçš„éš¾åº¦ä¸SNRå¯†åˆ‡ç›¸å…³ã€‚å½“SNRè¾ƒé«˜æ—¶ï¼ˆå™ªå£°å°‘ï¼‰ï¼Œé¢„æµ‹å™ªå£°ç›¸å¯¹å®¹æ˜“ï¼›å½“SNRè¾ƒä½æ—¶ï¼ˆå™ªå£°å¤šï¼‰ï¼Œé¢„æµ‹å™ªå£°å›°éš¾ã€‚</p>
<p>å®šä¹‰é¢„æµ‹è¯¯å·®ï¼š
$$
\Delta \boldsymbol{\varepsilon} = \boldsymbol{\varepsilon} - \boldsymbol{\epsilon}_{\boldsymbol{\theta}}(\boldsymbol{x}_t, t)
$$</p>
<p>é¢„æµ‹è¯¯å·®å¯¹ $\boldsymbol{x}_0$ é‡å»ºçš„å½±å“ï¼š</p>
<p>$$
\hat{\boldsymbol{x}}_0 = \frac{\boldsymbol{x}_t - \bar{\beta}_t \boldsymbol{\epsilon}_{\boldsymbol{\theta}}(\boldsymbol{x}_t, t)}{\bar{\alpha}_t}
$$</p>
<p>$$
= \frac{\boldsymbol{x}_t - \bar{\beta}_t (\boldsymbol{\varepsilon} - \Delta \boldsymbol{\varepsilon})}{\bar{\alpha}_t}
$$</p>
<p>$$
= \boldsymbol{x}_0 + \frac{\bar{\beta}_t}{\bar{\alpha}_t} \Delta \boldsymbol{\varepsilon}
$$</p>
<p>é‡å»ºè¯¯å·®ä¸SNRçš„å…³ç³»ï¼š
$$
\|\hat{\boldsymbol{x}}_0 - \boldsymbol{x}_0\|^2 = \frac{\bar{\beta}_t^2}{\bar{\alpha}_t^2} \|\Delta \boldsymbol{\varepsilon}\|^2 = \frac{1}{\text{SNR}(t)} \|\Delta \boldsymbol{\varepsilon}\|^2
$$</p>
<p><strong>ç»“è®º</strong>ï¼šSNRè¶Šä½ï¼ŒåŒæ ·çš„å™ªå£°é¢„æµ‹è¯¯å·®ä¼šå¯¼è‡´æ›´å¤§çš„å›¾åƒé‡å»ºè¯¯å·®ã€‚</p>
<h3 id="9">9. æ–¹å·®ä¿æŒçš„æ·±å…¥åˆ†æ</h3>
<p><strong>å…¬å¼9.1 - æ— æ¡ä»¶æ–¹å·®çš„æ¨å¯¼</strong></p>
<p>è€ƒè™‘æ•°æ®åˆ†å¸ƒ $p(\boldsymbol{x}_0)$ï¼Œæ— æ¡ä»¶æ–¹å·®ä¸ºï¼š</p>
<p>$$
\text{Var}[\boldsymbol{x}_t] = \mathbb{E}_{\boldsymbol{x}_0, \boldsymbol{\varepsilon}}[(\boldsymbol{x}_t - \mathbb{E}[\boldsymbol{x}_t])^2]
$$</p>
<p>é¦–å…ˆè®¡ç®—æ— æ¡ä»¶å‡å€¼ï¼š
$$
\mathbb{E}[\boldsymbol{x}_t] = \mathbb{E}_{\boldsymbol{x}_0, \boldsymbol{\varepsilon}}[\bar{\alpha}_t \boldsymbol{x}_0 + \bar{\beta}_t \boldsymbol{\varepsilon}]
$$</p>
<p>$$
= \bar{\alpha}_t \mathbb{E}[\boldsymbol{x}_0] + \bar{\beta}_t \mathbb{E}[\boldsymbol{\varepsilon}] = \bar{\alpha}_t \mathbb{E}[\boldsymbol{x}_0]
$$</p>
<p>å‡è®¾æ•°æ®å·²ä¸­å¿ƒåŒ–ï¼ˆ$\mathbb{E}[\boldsymbol{x}_0] = 0$ï¼‰ï¼Œåˆ™ $\mathbb{E}[\boldsymbol{x}_t] = 0$ã€‚</p>
<p>æ— æ¡ä»¶æ–¹å·®ï¼š
$$
\text{Var}[\boldsymbol{x}_t] = \mathbb{E}[\boldsymbol{x}_t^2] = \mathbb{E}_{\boldsymbol{x}_0, \boldsymbol{\varepsilon}}[(\bar{\alpha}_t \boldsymbol{x}_0 + \bar{\beta}_t \boldsymbol{\varepsilon})^2]
$$</p>
<p>å±•å¼€ï¼š
$$
= \mathbb{E}[\bar{\alpha}_t^2 \boldsymbol{x}_0^2 + 2\bar{\alpha}_t \bar{\beta}_t \boldsymbol{x}_0 \boldsymbol{\varepsilon} + \bar{\beta}_t^2 \boldsymbol{\varepsilon}^2]
$$</p>
<p>$$
= \bar{\alpha}_t^2 \mathbb{E}[\boldsymbol{x}_0^2] + 2\bar{\alpha}_t \bar{\beta}_t \mathbb{E}[\boldsymbol{x}_0] \mathbb{E}[\boldsymbol{\varepsilon}] + \bar{\beta}_t^2 \mathbb{E}[\boldsymbol{\varepsilon}^2]
$$</p>
<p>$$
= \bar{\alpha}_t^2 \text{Var}[\boldsymbol{x}_0] + 0 + \bar{\beta}_t^2
$$</p>
<p>å¦‚æœ $\text{Var}[\boldsymbol{x}_0] = 1$ï¼ˆæ ‡å‡†åŒ–æ•°æ®ï¼‰ï¼Œåˆ™ï¼š</p>
<p>$$
\text{Var}[\boldsymbol{x}_t] = \bar{\alpha}_t^2 + \bar{\beta}_t^2
$$</p>
<p>è¦ä½¿æ–¹å·®ä¿æŒä¸º1ï¼Œéœ€è¦ $\bar{\alpha}_t^2 + \bar{\beta}_t^2 = 1$ã€‚</p>
<p><strong>å…¬å¼9.2 - æ–¹å·®çˆ†ç‚¸ä¸æ–¹å·®ä¿æŒçš„å¯¹æ¯”</strong></p>
<p>é™¤äº†æ–¹å·®ä¿æŒï¼ˆVP, Variance Preservingï¼‰ï¼Œè¿˜æœ‰æ–¹å·®çˆ†ç‚¸ï¼ˆVE, Variance Explodingï¼‰æ–¹æ¡ˆï¼š</p>
<p>VPæ–¹æ¡ˆï¼š
$$
\bar{\alpha}_t^2 + \bar{\beta}_t^2 = 1, \quad \boldsymbol{x}_t = \bar{\alpha}_t \boldsymbol{x}_0 + \bar{\beta}_t \boldsymbol{\varepsilon}
$$</p>
<p>$$
\text{Var}[\boldsymbol{x}_t] = 1 \text{ (å¸¸æ•°)}
$$</p>
<p>VEæ–¹æ¡ˆï¼š
$$
\bar{\alpha}_t = 1, \quad \boldsymbol{x}_t = \boldsymbol{x}_0 + \bar{\beta}_t \boldsymbol{\varepsilon}
$$</p>
<p>$$
\text{Var}[\boldsymbol{x}_t] = 1 + \bar{\beta}_t^2 \text{ (éš } t \text{ å¢é•¿)}
$$</p>
<p><strong>SNRçš„å¯¹æ¯”</strong>ï¼š</p>
<p>VPçš„SNRï¼š
$$
\text{SNR}_{\text{VP}}(t) = \frac{\bar{\alpha}_t^2}{\bar{\beta}_t^2} = \frac{\bar{\alpha}_t^2}{1 - \bar{\alpha}_t^2}
$$</p>
<p>VEçš„SNRï¼š
$$
\text{SNR}_{\text{VE}}(t) = \frac{1}{\bar{\beta}_t^2}
$$</p>
<p><strong>å…¬å¼9.3 - æ–¹å·®ä¿æŒæ¡ä»¶çš„æ”¾æ¾</strong></p>
<p>åœ¨æŸäº›åº”ç”¨ä¸­ï¼Œå¯ä»¥æ”¾æ¾æ–¹å·®ä¿æŒæ¡ä»¶ï¼Œå…è®¸ï¼š</p>
<p>$$
\bar{\alpha}_t^2 + \lambda_t \bar{\beta}_t^2 = 1
$$</p>
<p>å…¶ä¸­ $\lambda_t$ æ˜¯å¯è°ƒå‚æ•°ã€‚è¿™æä¾›äº†VPå’ŒVEä¹‹é—´çš„æ’å€¼ã€‚</p>
<h3 id="10-snr">10. å®é™…åº”ç”¨ä¸­çš„SNRè°ƒåº¦è®¾è®¡</h3>
<p><strong>å…¬å¼10.1 - ä½™å¼¦è°ƒåº¦ï¼ˆCosine Scheduleï¼‰</strong></p>
<p>ä½™å¼¦è°ƒåº¦æ˜¯å¸¸ç”¨çš„å™ªå£°è°ƒåº¦æ–¹æ¡ˆï¼š</p>
<p>$$
\bar{\alpha}_t = \cos\left(\frac{t/T + s}{1 + s} \cdot \frac{\pi}{2}\right)
$$</p>
<p>å…¶ä¸­ $s$ æ˜¯å°å¸¸æ•°ï¼ˆå¦‚ $s=0.008$ï¼‰ï¼Œç”¨äºé¿å…åœ¨ $t=0$ æ—¶æ¢¯åº¦è¿‡å°ã€‚</p>
<p>å¯¹åº”çš„SNRï¼š
$$
\text{SNR}(t) = \frac{\bar{\alpha}_t^2}{1 - \bar{\alpha}_t^2} = \frac{\cos^2\left(\frac{t/T + s}{1 + s} \cdot \frac{\pi}{2}\right)}{1 - \cos^2\left(\frac{t/T + s}{1 + s} \cdot \frac{\pi}{2}\right)}
$$</p>
<p>$$
= \frac{\cos^2\left(\frac{t/T + s}{1 + s} \cdot \frac{\pi}{2}\right)}{\sin^2\left(\frac{t/T + s}{1 + s} \cdot \frac{\pi}{2}\right)} = \cot^2\left(\frac{t/T + s}{1 + s} \cdot \frac{\pi}{2}\right)
$$</p>
<p><strong>å…¬å¼10.2 - çº¿æ€§è°ƒåº¦ï¼ˆLinear Scheduleï¼‰</strong></p>
<p>çº¿æ€§è°ƒåº¦ç›´æ¥çº¿æ€§æ’å€¼ $\beta_t$ï¼š</p>
<p>$$
\beta_t = \beta_{\min} + \frac{t}{T}(\beta_{\max} - \beta_{\min})
$$</p>
<p>ç´¯ç§¯å½¢å¼ï¼š
$$
\bar{\alpha}_t = \prod_{s=1}^t \sqrt{1 - \beta_s}
$$</p>
<p>è¿‘ä¼¼ä¸ºï¼ˆè¿ç»­æ—¶é—´ï¼‰ï¼š
$$
\bar{\alpha}_t \approx \exp\left(-\frac{1}{2}\int_0^t \beta_s ds\right) = \exp\left(-\frac{1}{2}\left[\beta_{\min} t + \frac{t^2}{2T}(\beta_{\max} - \beta_{\min})\right]\right)
$$</p>
<p><strong>å…¬å¼10.3 - åˆ†è¾¨ç‡è‡ªé€‚åº”çš„ä½™å¼¦è°ƒåº¦</strong></p>
<p>å¯¹äºåˆ†è¾¨ç‡ $w \times h$ï¼Œå‚è€ƒåˆ†è¾¨ç‡ä¸º $w_0 \times h_0$ï¼Œç¼©æ”¾å› å­ $s^2 = \frac{wh}{w_0 h_0}$ã€‚</p>
<p>è°ƒæ•´åçš„ä½™å¼¦è°ƒåº¦ï¼š</p>
<p>$$
\bar{\alpha}_t^{w \times h} = \frac{\bar{\alpha}_t^{w_0 \times h_0}}{\sqrt{1 + (s^2-1)(\bar{\beta}_t^{w_0 \times h_0})^2}}
$$</p>
<p>$$
\bar{\beta}_t^{w \times h} = \frac{s \bar{\beta}_t^{w_0 \times h_0}}{\sqrt{1 + (s^2-1)(\bar{\beta}_t^{w_0 \times h_0})^2}}
$$</p>
<p><strong>å…¬å¼10.4 - éªŒè¯è°ƒåº¦çš„åˆç†æ€§</strong></p>
<p>ä¸€ä¸ªå¥½çš„å™ªå£°è°ƒåº¦åº”è¯¥æ»¡è¶³ï¼š</p>
<ol>
<li>å•è°ƒæ€§ï¼š$\frac{d\text{SNR}(t)}{dt} &lt; 0$</li>
<li>å¹³æ»‘æ€§ï¼š$\frac{d^2\text{SNR}(t)}{dt^2}$ è¿ç»­ä¸”ä¸å‰§çƒˆå˜åŒ–</li>
<li>è¦†ç›–èŒƒå›´ï¼š$\text{SNR}(0)$ è¶³å¤Ÿå¤§ï¼Œ$\text{SNR}(T)$ è¶³å¤Ÿå°</li>
</ol>
<p><strong>æ£€æŸ¥ä½™å¼¦è°ƒåº¦çš„å•è°ƒæ€§</strong>ï¼š</p>
<p>$$
\frac{d\bar{\alpha}_t}{dt} = -\sin\left(\frac{t/T + s}{1 + s} \cdot \frac{\pi}{2}\right) \cdot \frac{1}{T(1+s)} \cdot \frac{\pi}{2} < 0 \quad \checkmark
$$</p>
<p>$$
\frac{d\text{SNR}(t)}{dt} = \frac{d}{dt}\left[\cot^2\left(\frac{t/T + s}{1 + s} \cdot \frac{\pi}{2}\right)\right] < 0 \quad \checkmark
$$</p>
<h3 id="11">11. æ€»ç»“ä¸å±•æœ›</h3>
<p><strong>å…³é”®å…¬å¼æ±‡æ€»</strong>ï¼š</p>
<ol>
<li>
<p><strong>æ‰©æ•£è¿‡ç¨‹</strong>ï¼š$\boldsymbol{x}_t = \bar{\alpha}_t \boldsymbol{x}_0 + \bar{\beta}_t \boldsymbol{\varepsilon}$</p>
</li>
<li>
<p><strong>ä¿¡å™ªæ¯”å®šä¹‰</strong>ï¼š$\text{SNR}(t) = \frac{\bar{\alpha}_t^2}{\bar{\beta}_t^2}$</p>
</li>
<li>
<p><strong>æ–¹å·®ä¿æŒ</strong>ï¼š$\bar{\alpha}_t^2 + \bar{\beta}_t^2 = 1$</p>
</li>
<li>
<p><strong>åˆ†è¾¨ç‡è‡ªé€‚åº”</strong>ï¼šé™é‡‡æ ·ä½¿SNRå¢åŠ  $s^2$ å€</p>
</li>
<li>
<p><strong>å™ªå£°è°ƒåº¦æ±‚è§£</strong>ï¼š
   $$\bar{\beta}_t^{\text{high}} = \frac{s \bar{\beta}_t^{\text{low}}}{\sqrt{1 + (s^2-1) (\bar{\beta}_t^{\text{low}})^2}}$$</p>
</li>
</ol>
<p>$$\bar{\alpha}_t^{\text{high}} = \frac{\bar{\alpha}_t^{\text{low}}}{\sqrt{1 + (s^2-1) (\bar{\beta}_t^{\text{low}})^2}}$$</p>
<ol>
<li>
<p><strong>å¤šå°ºåº¦æŸå¤±</strong>ï¼š$\mathcal{L}<em s="s">{\text{multi-scale}} = \sum</em>$} w_s \mathcal{L}_{s \times s</p>
</li>
<li>
<p><strong>æ—¶é—´é‡å‚æ•°åŒ–</strong>ï¼š$\bar{\alpha}_t = \sqrt{\text{sigmoid}(\tau)}, \quad \bar{\beta}_t = \sqrt{1-\text{sigmoid}(\tau)}$</p>
</li>
<li>
<p><strong>å»å™ªæ›´æ–°</strong>ï¼š$\boldsymbol{x}<em _boldsymbol_theta="\boldsymbol{\theta">{t-1} = \frac{1}{\sqrt{\alpha_t}} \left(\boldsymbol{x}_t - \frac{\beta_t}{\sqrt{1-\bar{\alpha}_t}} \boldsymbol{\epsilon}</em>$}}(\boldsymbol{x}_t, t)\right) + \sqrt{\tilde{\beta}_t} \boldsymbol{z</p>
</li>
</ol>
<p>è¿™äº›å…¬å¼æ„æˆäº†åŸºäºä¿¡å™ªæ¯”åˆ†æçš„æ‰©æ•£æ¨¡å‹ç†è®ºæ¡†æ¶ï¼Œä¸ºå¤§å›¾ç”Ÿæˆæä¾›äº†ç†è®ºæŒ‡å¯¼å’Œå®è·µæ–¹æ¡ˆã€‚é€šè¿‡SNRå¯¹é½ï¼Œå¯ä»¥å°†ä½åˆ†è¾¨ç‡æ¨¡å‹çš„ç»éªŒè¿ç§»åˆ°é«˜åˆ†è¾¨ç‡è®¾ç½®ï¼Œæ˜¾è‘—æå‡è®­ç»ƒæ•ˆç‡å’Œç”Ÿæˆè´¨é‡ã€‚</p>
        </div>
    </div>
</body>
</html>