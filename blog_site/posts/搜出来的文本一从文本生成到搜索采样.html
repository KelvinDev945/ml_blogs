<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€æœå‡ºæ¥çš„æ–‡æœ¬ã€‘â‹…ï¼ˆä¸€ï¼‰ä»æ–‡æœ¬ç”Ÿæˆåˆ°æœç´¢é‡‡æ ·</title>
    <style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    line-height: 1.6; color: #333; max-width: 900px; margin: 0 auto; padding: 20px; background: #f5f5f5;
}
.container { background: white; padding: 40px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
header { border-bottom: 2px solid #e0e0e0; padding-bottom: 20px; margin-bottom: 30px; }
h1 { color: #2c3e50; margin-bottom: 10px; font-size: 2em; }
.meta { color: #666; font-size: 0.9em; margin-bottom: 20px; }
.content { margin-top: 30px; overflow-wrap: break-word; }
.content h2 { color: #34495e; margin-top: 30px; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
.content p { margin-bottom: 15px; }
.content pre { background: #f8f8f8; padding: 15px; border-radius: 5px; overflow-x: auto; border-left: 3px solid #3498db; margin: 15px 0; }
.content code { background: #f8f8f8; padding: 2px 5px; border-radius: 3px; font-family: monospace; font-size: 0.9em; }
.content blockquote { border-left: 4px solid #3498db; padding-left: 20px; margin: 20px 0; color: #555; font-style: italic; }
.content table { border-collapse: collapse; width: 100%; margin: 20px 0; }
.content th, .content td { border: 1px solid #ddd; padding: 10px; text-align: left; }
.back-link { display: inline-block; margin-bottom: 20px; color: #3498db; text-decoration: none; font-weight: 500; }
</style>
    
<script>
    window.MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\(', '\)']],
            displayMath: [['$$', '$$'], ['\[', '\]']],
            processEscapes: true
        }
    };
</script>
<script id="MathJax-script" async src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
        <header>
            <h1>ã€æœå‡ºæ¥çš„æ–‡æœ¬ã€‘â‹…ï¼ˆä¸€ï¼‰ä»æ–‡æœ¬ç”Ÿæˆåˆ°æœç´¢é‡‡æ ·</h1>
            <div class="meta">ğŸ“… æœ€åæ›´æ–°: 2025-12-31 | ğŸ“„ å¤§å°: 15.3 KB</div>
        </header>
        <div class="content">
            <p><strong>åŸæ–‡é“¾æ¥</strong>: <a href="https://spaces.ac.cn/archives/8062">https://spaces.ac.cn/archives/8062</a></p>
<p><strong>å‘å¸ƒæ—¥æœŸ</strong>: </p>
<hr />
<p>æœ€è¿‘ï¼Œç¬”è€…å…¥äº†ä¸€ä¸ªæ–°å‘ï¼šåŸºäºç¦»æ•£ä¼˜åŒ–çš„æ€æƒ³åšä¸€äº›æ–‡æœ¬ç”Ÿæˆä»»åŠ¡ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æŠŠæˆ‘ä»¬è¦ç”Ÿæˆæ–‡æœ¬çš„ç›®æ ‡é‡åŒ–åœ°å†™ä¸‹æ¥ï¼Œæ„å»ºä¸€ä¸ªåˆ†å¸ƒï¼Œç„¶åæœç´¢è¿™ä¸ªåˆ†å¸ƒçš„æœ€å¤§å€¼ç‚¹æˆ–è€…ä»è¿™ä¸ªåˆ†å¸ƒä¸­è¿›è¡Œé‡‡æ ·ï¼Œè¿™ä¸ªè¿‡ç¨‹é€šå¸¸ <em>ä¸éœ€è¦æ ‡ç­¾æ•°æ®</em> çš„è®­ç»ƒã€‚ç”±äºè¯­è¨€æ˜¯ç¦»æ•£çš„ï¼Œå› æ­¤æ¢¯åº¦ä¸‹é™ä¹‹ç±»çš„è¿ç»­å‡½æ•°ä¼˜åŒ–æ–¹æ³•ä¸å¯ç”¨ï¼Œå¹¶ä¸”ç”±äºè¿™ä¸ªåˆ†å¸ƒé€šå¸¸æ²¡æœ‰å®¹æ˜“é‡‡æ ·çš„å½¢å¼ï¼Œç›´æ¥é‡‡æ ·ä¹Ÿä¸å¯è¡Œï¼Œå› æ­¤éœ€è¦ä¸€äº›ç‰¹åˆ«è®¾è®¡çš„é‡‡æ ·ç®—æ³•ï¼Œæ¯”å¦‚æ‹’ç»é‡‡æ ·ï¼ˆRejection Samplingï¼‰ã€MCMCï¼ˆMarkov Chain Monte Carloï¼‰ã€MHé‡‡æ ·ï¼ˆMetropolis-Hastings Samplingï¼‰ã€å‰å¸ƒæ–¯é‡‡æ ·ï¼ˆGibbs Samplingï¼‰ï¼Œç­‰ç­‰ã€‚</p>
<p>æœ‰äº›è¯»è€…å¯èƒ½ä¼šè§‰å¾—æœ‰äº›çœ¼ç†Ÿï¼Œä¼¼ä¹å›åˆ°äº†è®©äººå¤´å¤§çš„å­¦ä¹ LDAï¼ˆLatent Dirichlet Allocationï¼‰çš„é‚£äº›å¹´ï¼Ÿæ²¡é”™ï¼Œä¸Šè¿°é‡‡æ ·ç®—æ³•å…¶å®ä¹Ÿæ˜¯ç†è§£LDAæ¨¡å‹çš„å¿…å¤‡åŸºç¡€ã€‚æœ¬æ–‡æˆ‘ä»¬å°±æ¥å›é¡¾è¿™äº›å½¢å½¢è‰²è‰²çš„é‡‡æ ·ç®—æ³•ï¼Œå®ƒä»¬å°†ä¼šå‡ºç°åœ¨åé¢è¦ä»‹ç»çš„ä¸°å¯Œçš„æ–‡æœ¬ç”Ÿæˆåº”ç”¨ä¸­ã€‚</p>
<h2 id="_1">æ˜ç¡®ç›®æ ‡</h2>
<p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®ä¸€äº›ç‰¹å®šçš„ä¿¡æ¯$\boldsymbol{c}$æ¥ç”Ÿæˆç›®æ ‡æ–‡æœ¬$\boldsymbol{x}$ï¼Œç”¨æ•°å­¦çš„è¯è¯´å°±æ˜¯æ¡ä»¶è¯­è¨€æ¨¡å‹$p(\boldsymbol{x}|\boldsymbol{c})$ï¼Œä¸è¿‡æˆ‘ä»¬æ— æ³•å¾—åˆ°è¶³å¤Ÿå¤šçš„è¯­æ–™å¯¹$(\boldsymbol{x},\boldsymbol{c})$å»ç›´æ¥ç›‘ç£è®­ç»ƒä¸€ä¸ªæ¡ä»¶è¯­è¨€æ¨¡å‹ï¼Œè€Œæ˜¯åªèƒ½è®­ç»ƒä¸€ä¸ªæ— æ¡ä»¶çš„è¯­è¨€æ¨¡å‹$p(\boldsymbol{x})$ï¼Œä½†æˆ‘ä»¬åˆå¯ä»¥äººä¸ºåœ°è®¾è®¡ä¸€ä¸ªæŒ‡æ ‡æ¥å®šé‡æè¿°$\boldsymbol{x}$å’Œ$\boldsymbol{c}$ä¹‹é—´çš„è”ç³»ã€‚é‚£ä¹ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚ä½•æ ¹æ®æ— æ¡ä»¶çš„è¯­è¨€æ¨¡å‹$p(\boldsymbol{x})$å’Œ$\boldsymbol{x},\boldsymbol{c}$ä¹‹é—´çš„è”ç³»æ¥åšæœ‰æ¡ä»¶çš„æ–‡æœ¬ç”Ÿæˆï¼Œä¾¿æˆä¸ºäº†æˆ‘ä»¬çš„ç ”ç©¶å¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥ç§°ä¹‹ä¸ºâ€œå—é™æ–‡æœ¬ç”Ÿæˆï¼ˆConstrained Text Generationï¼‰â€</p>
<p>ä¸¾ä¾‹æ¥è¯´ï¼Œç”¨å…³é”®è¯é€ å¥ï¼Œé‚£ä¹ˆ$\boldsymbol{c}$å°±æ˜¯å…³é”®è¯çš„é›†åˆï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰ç¤ºæ€§å‡½æ•°ï¼š<br />
\begin{equation}\chi(\boldsymbol{x}, \boldsymbol{c})=\left\{\begin{aligned}&amp;1,\,\,\text{å¦‚æœ}\boldsymbol{x}\text{åŒ…å«å…³é”®è¯é›†}\boldsymbol{c} \\\<br />
&amp;0,\,\,\text{å¦‚æœ}\boldsymbol{x}\text{ä¸åŒ…å«å…³é”®è¯é›†}\boldsymbol{c}\end{aligned}\right.<br />
\end{equation}<br />
ç»§è€Œå®šä¹‰<br />
\begin{equation}\rho(\boldsymbol{x}, \boldsymbol{c}) = p(\boldsymbol{x})\chi(\boldsymbol{x}, \boldsymbol{c})\end{equation}<br />
$p(\boldsymbol{x})$ä¿è¯äº†ç”Ÿæˆå¥å­çš„æµç•…æ€§ï¼Œ$\chi(\boldsymbol{x}, \boldsymbol{c})$ä¿è¯äº†ç”Ÿæˆå¥å­åŒ…å«æ‰€è¦æ±‚çš„å…³é”®è¯ï¼Œé‚£ä¹ˆé—®é¢˜å°±å¯ä»¥å˜æˆæœ€å¤§åŒ–æ“ä½œ$\mathop{\text{argmax}}\limits_{\boldsymbol{x}} \rho(\boldsymbol{x}, \boldsymbol{c})$æˆ–é‡‡æ ·æ“ä½œ$\boldsymbol{x}\sim \rho(\boldsymbol{x}, \boldsymbol{c})$ã€‚å½“ç„¶ï¼Œè¿™é‡Œçš„$\rho(\boldsymbol{x}, \boldsymbol{c})$è¿˜ä¸æ˜¯æ¦‚ç‡åˆ†å¸ƒï¼Œè¦å®Œæˆå½’ä¸€åŒ–åæ‰æ˜¯çœŸæ­£çš„æ¦‚ç‡åˆ†å¸ƒï¼š<br />
\begin{equation}\frac{\rho(\boldsymbol{x}, \boldsymbol{c})}{\sum\limits_{\boldsymbol{x}}\rho(\boldsymbol{x}, \boldsymbol{c})} = \frac{p(\boldsymbol{x})\chi(\boldsymbol{x}, \boldsymbol{c})}{\sum\limits_{\boldsymbol{x}}p(\boldsymbol{x})\chi(\boldsymbol{x}, \boldsymbol{c})}\end{equation}<br />
ä½†åˆ†æ¯é€šå¸¸æ˜¯éš¾ä»¥æ˜¾å¼è®¡ç®—å‡ºæ¥çš„ã€‚é‚£ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯¹å¾…é‡‡æ ·åˆ†å¸ƒä¹Ÿåªäº†è§£åˆ°å®ƒæ­£æ¯”äºæŸä¸ªå‡½æ•°$\rho(\boldsymbol{x}, \boldsymbol{c})$ï¼Œè€Œä¸çŸ¥é“ç²¾ç¡®çš„åˆ†å¸ƒè¡¨è¾¾å¼ã€‚</p>
<p>ç±»ä¼¼çš„ä¾‹å­å¹¶ä¸å°‘ï¼Œæ¯”å¦‚è¯´æ–‡æœ¬æ‘˜è¦ã€‚ä»€ä¹ˆæ˜¯æ–‡æœ¬æ‘˜è¦å‘¢ï¼Ÿå…¶å®å°±æ˜¯ç”¨æ›´å°‘çš„æ–‡å­—$\boldsymbol{x}$å°½å¯èƒ½è¡¨è¾¾å‡ºè·ŸåŸæ–‡$\boldsymbol{c}$ä¸€æ ·çš„æ„æ€ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥å®šä¹‰ï¼š<br />
\begin{equation}\rho(\boldsymbol{x}, \boldsymbol{c}) = p(\boldsymbol{x})\cdot \text{sim}(\boldsymbol{x}, \boldsymbol{c})\cdot \chi(\boldsymbol{x}, \boldsymbol{c})\end{equation}<br />
è¿™é‡Œçš„$\text{sim}(\boldsymbol{x}, \boldsymbol{c})$æ˜¯æŸä¸ªæ–‡æœ¬ç›¸ä¼¼åº¦å‡½æ•°ï¼Œè€Œ$\chi(\boldsymbol{x}, \boldsymbol{c})$æ˜¯é•¿åº¦çš„ç¤ºæ€§å‡½æ•°ï¼Œå³$\boldsymbol{x}$çš„é•¿åº¦åœ¨æŸä¸ªèŒƒå›´ï¼ˆå¯èƒ½ä¾èµ–äº$\boldsymbol{c}$ï¼‰å†…ï¼Œå®ƒå°±ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚æ­¤æ—¶æˆ‘ä»¬åŒæ ·å¾—åˆ°äº†ä¸€ä¸ªæœªå½’ä¸€åŒ–çš„æ¦‚ç‡åˆ†å¸ƒ$\rho(\boldsymbol{x}, \boldsymbol{c})$ï¼Œéœ€è¦æœ€å¤§åŒ–å®ƒæˆ–è€…ä»å®ƒé‡Œè¾¹é‡‡æ ·ã€‚å¾ˆæ˜æ˜¾ï¼Œè¿™ä¸ªç›®æ ‡å°±æ„å‘³ç€æˆ‘ä»¬è¦å¾—åˆ°ä¸€æ®µè·ŸåŸæ–‡è¯­ä¹‰å°½å¯èƒ½ç›¸ä¼¼çš„ã€é•¿åº¦æ»¡è¶³ä¸€å®šçº¦æŸçš„æ–‡å­—ï¼Œè¿™ä¸å°±æ˜¯æ‘˜è¦çš„å­˜åœ¨æ„ä¹‰å—ï¼Ÿæ‰€ä»¥ï¼Œè¿™å¥—æ€è·¯çš„æ ¸å¿ƒå‡ºå‘ç‚¹å°±åœ¨äºï¼šæˆ‘ä»¬è¦æŠŠè‡ªå·±è¦ç”Ÿæˆçš„ç›®æ ‡å®šé‡åœ°æ‹æ¸…æ¥šï¼Œç„¶åå†å»æ‰§è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚</p>
<h2 id="_2">å›°éš¾åˆ†æ</h2>
<p>æ‰€ä»¥ï¼ŒæŠ›å¼€å‰é¢çš„èƒŒæ™¯ä¸è¯´ï¼Œç°åœ¨æˆ‘ä»¬é¢ä¸´çš„é—®é¢˜å°±æ˜¯æœ‰ä¸€ä¸ªåˆ†å¸ƒ$p(\boldsymbol{x})$ï¼Œæˆ‘ä»¬åªçŸ¥é“$p(\boldsymbol{x})\propto \rho(\boldsymbol{x})$ï¼Œå³<br />
\begin{equation}p(\boldsymbol{x}) = \frac{\rho(\boldsymbol{x})}{\sum\limits_{\boldsymbol{x}} \rho(\boldsymbol{x})}\end{equation}<br />
ä¸­çš„åˆ†æ¯æˆ‘ä»¬æ— æ³•æ˜¾å¼è®¡ç®—å‡ºæ¥ã€‚åœ¨æœ¬ç³»åˆ—æ–‡ç« ä¸­ï¼Œ$\boldsymbol{x}$ä»£è¡¨æ–‡æœ¬ï¼Œå³ä¸€ä¸ªç¦»æ•£å…ƒç´ çš„åºåˆ—ï¼Œä½†åé¢çš„æ¨è®ºåŒæ ·ä¹Ÿé€‚ç”¨äº$\boldsymbol{x}$æ˜¯è¿ç»­å‹å‘é‡çš„åœºæ™¯ã€‚ç°åœ¨æˆ‘ä»¬è¦æœç´¢æœ€å¤§ä½ç½®$\mathop{\text{argmax}}\limits_{\boldsymbol{x}} p(\boldsymbol{x})$æˆ–è¿›è¡Œé‡‡æ ·$\boldsymbol{x}\sim p(\boldsymbol{x})$ï¼Œåé¢æˆ‘ä»¬å°†ä¼šçœ‹åˆ°ï¼Œæœç´¢æœ€å¤§å€¼å…¶å®ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯é‡‡æ ·çš„ç‰¹ä¾‹ï¼Œå› æ­¤æˆ‘ä»¬ä¸»è¦å…³å¿ƒé‡‡æ ·æ–¹å¼ã€‚</p>
<p>å‰é¢è¯´äº†ï¼Œä¹‹æ‰€ä»¥éœ€è¦è®¾è®¡ä¸€äº›ç‰¹åˆ«çš„ç®—æ³•æ¥å®Œæˆé‡‡æ ·ï¼Œæ˜¯å› ä¸ºç›´æ¥ä»$p(\boldsymbol{x})$ä¸­é‡‡æ ·æ˜¯å›°éš¾çš„ï¼Œè€Œæˆ‘ä»¬éœ€è¦ç†è§£é‡‡æ ·çš„å›°éš¾æ‰€åœ¨ï¼Œæ‰èƒ½çœŸæ­£ç†è§£åé¢æ‰€è®¾è®¡çš„é‡‡æ ·ç®—æ³•çš„å…³é”®ä¹‹å¤„ã€‚å›°éš¾åœ¨å“ªï¼Ÿå¦‚æœ$\boldsymbol{x}$çš„å€™é€‰å€¼ç©ºé—´ä¸å¤§ï¼Œå“ªæ€•æœ‰100ä¸‡ä¸ªå€™é€‰å€¼ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥æŠŠæ¯ä¸ª$p(\boldsymbol{x})$éƒ½ç®—å‡ºæ¥ï¼Œç„¶åæŒ‰ç…§æ™®é€šçš„ç±»åˆ«é‡‡æ ·æ¥è¿›è¡Œã€‚ç„¶è€Œï¼Œä¸€èˆ¬$\boldsymbol{x}$çš„å€™é€‰å€¼ç©ºé—´è¿œè¿œä¸æ­¢100ä¸‡ï¼Œå‡å¦‚$\boldsymbol{x}$æœ‰10ä¸ªåˆ†é‡ï¼Œæ¯ä¸ªåˆ†é‡æœ‰1ä¸‡ä¸ªé€‰æ‹©ï¼ˆå¯¹åº”äºè¯è¡¨å¤§å°ï¼‰ï¼Œé‚£ä¹ˆæ€»çš„æ’åˆ—å°±æœ‰$10^{40}$ç§äº†ï¼Œä¸å¯èƒ½äº‹å…ˆç®—å¥½æ¯ä¸€ç§æ’åˆ—çš„æ¦‚ç‡ç„¶åä¾æ¦‚ç‡é‡‡æ ·ã€‚</p>
<p>é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿæ‰€è°“â€œä¸ç§¯ç¡…æ­¥ï¼Œæ— ä»¥è‡³åƒé‡Œâ€ï¼Œé‚£å°±åªèƒ½ä¸€æ­¥æ­¥æ¥äº†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘æ²¡æ³•ç›´æ¥å®ç°$10^{40}$é€‰1ï¼Œé‚£æˆ‘åš10æ¬¡â€œ$10^4$é€‰1â€å¯ä»¥å—ï¼Ÿè¿™å°±å¯¹åº”ç€æ‰€è°“çš„â€œè‡ªå›å½’ç”Ÿæˆâ€ï¼š<br />
\begin{equation}p(\boldsymbol{x})=p(x_1) p(x_2|x_1) p(x_3|x_1, x_2) \cdots p(x_n|x_1,\cdots,x_{n-1}) = \prod_{t=1}^n p(x_t|\boldsymbol{x}_{&lt; t})\end{equation}<br />
è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å…ˆä»$p(x_1)$é‡‡æ ·ä¸€ä¸ª$x_1$ï¼Œç„¶åä»$p(x_2|x_1)$ä¸­é‡‡æ ·ä¸€ä¸ª$x_2$ï¼Œä¾æ­¤é€’å½’äº†ã€‚ä½†æ˜¯ï¼Œè‡ªå›å½’ç”Ÿæˆåªæ˜¯å¯¹åº”äºæ— æ¡ä»¶çš„è¯­è¨€æ¨¡å‹æˆ–è€…æ˜¯æœ‰ç›‘ç£è®­ç»ƒçš„Seq2Seqæ¨¡å‹ï¼Œè€Œå¦‚æœå¸Œæœ›åƒå‰é¢ä¸¾çš„ä¾‹å­é‚£æ ·ï¼Œå¾€æ— æ¡ä»¶è¯­è¨€æ¨¡å‹çš„ç”Ÿæˆè¿‡ç¨‹ä¸­åŠ ç‚¹çº¦æŸï¼Œé‚£ä¹ˆå¯¹åº”å‡ºæ¥çš„æ¨¡å‹å°±ä¸å†æ˜¯è‡ªå›å½’çš„äº†ï¼Œä¹Ÿå°±æ— æ³•æŒ‰ç…§è¿™æ ·çš„é€’å½’é‡‡æ ·äº†ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±ä¸å¾—ä¸éœ€è¦åé¢ä»‹ç»çš„å„ç§é‡‡æ ·ç®—æ³•äº†ï¼Œå®ƒä¹Ÿæ˜¯â€œä¸€æ­¥æ­¥æ¥â€çš„æ€æƒ³ï¼Œä½†æ‰€ä½¿ç”¨çš„åˆ†å¸ƒå½¢å¼æ›´åŠ å¹¿æ³›ä¸€äº›ã€‚</p>
<h2 id="_3">é‡è¦é‡‡æ ·</h2>
<p>åœ¨<a href="/archives/7521">ã€Šä»é‡‡æ ·çœ‹ä¼˜åŒ–ï¼šå¯å¯¼ä¼˜åŒ–ä¸ä¸å¯å¯¼ä¼˜åŒ–çš„ç»Ÿä¸€è§†è§’ã€‹</a>ã€<a href="/archives/7805">ã€Šå¦‚ä½•åˆ’åˆ†ä¸€ä¸ªè·Ÿæµ‹è¯•é›†æ›´æ¥è¿‘çš„éªŒè¯é›†ï¼Ÿã€‹</a>ç­‰æ–‡ç« é‡Œï¼Œæˆ‘ä»¬ä»‹ç»è¿‡â€œé‡è¦æ€§é‡‡æ ·â€çš„æ¦‚å¿µï¼Œå³å¦‚æœæˆ‘ä»¬æƒ³ä¼°è®¡æœŸæœ›$\mathbb{E}<em _boldsymbol_x="\boldsymbol{x">{\boldsymbol{x}\sim p(\boldsymbol{x})}[f(\boldsymbol{x})]$ï¼Œä½†æ˜¯$p(\boldsymbol{x})$åˆä¸æ˜¯æ˜“äºé‡‡æ ·çš„åˆ†å¸ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ‰¾ä¸€ä¸ªè·Ÿ$p(\boldsymbol{x})$ç›¸è¿‘çš„ã€æ˜“äºé‡‡æ ·çš„åˆ†å¸ƒ$q(\boldsymbol{x})$ï¼Œç„¶åæ ¹æ®ä¸‹è¿°å˜æ¢<br />
\begin{equation}<br />
\mathbb{E}</em>}\sim p(\boldsymbol{x})}[f(\boldsymbol{x})] = \sum_{\boldsymbol{x}} p(\boldsymbol{x}) f(\boldsymbol{x}) = \sum_{\boldsymbol{x}} q(\boldsymbol{x})\frac{p(\boldsymbol{x})}{q(\boldsymbol{x})}f(\boldsymbol{x}) = \mathbb{E<em _boldsymbol_x="\boldsymbol{x">{\boldsymbol{x}\sim q(\boldsymbol{x})}\left[\frac{p(\boldsymbol{x})}{q(\boldsymbol{x})}f(\boldsymbol{x})\right]<br />
\end{equation}<br />
è½¬åŒ–ä¸ºä»$q(\boldsymbol{x})$é‡‡æ ·æ¥ç®—$\frac{p(\boldsymbol{x})}{q(\boldsymbol{x})}f(\boldsymbol{x})$çš„æœŸæœ›äº†ï¼Œä¹Ÿå°±æ˜¯ç”¨$\frac{p(\boldsymbol{x})}{q(\boldsymbol{x})}$å¯¹æ¯ä¸ªæ ·æœ¬è¿›è¡ŒåŠ æƒï¼Œæ‰€ä»¥å®ƒè¢«ç§°ä¸ºâ€œé‡è¦æ€§é‡‡æ ·ï¼ˆImportance Samplingï¼‰â€ã€‚å¦‚æœåªçŸ¥é“$p(\boldsymbol{x})\propto \rho(\boldsymbol{x})$ï¼Œé‚£ä¹ˆé‡è¦æ€§é‡‡æ ·ä¹Ÿæ˜¯å¯ä»¥è¿›è¡Œçš„ï¼Œè¿™æ˜¯å› ä¸º<br />
\begin{equation}1 = \sum</em>}} p(\boldsymbol{x}) = \sum_{\boldsymbol{x}} q(\boldsymbol{x})\frac{p(\boldsymbol{x})}{q(\boldsymbol{x})} = \mathbb{E<em _boldsymbol_x="\boldsymbol{x">{\boldsymbol{x}\sim q(\boldsymbol{x})}\left[\frac{p(\boldsymbol{x})}{q(\boldsymbol{x})}\right]\end{equation}<br />
æ‰€ä»¥<br />
\begin{equation}<br />
\mathbb{E}</em>}\sim q(\boldsymbol{x})}\left[\frac{p(\boldsymbol{x})}{q(\boldsymbol{x})}f(\boldsymbol{x})\right] = \mathbb{E<em _boldsymbol_x="\boldsymbol{x">{\boldsymbol{x}\sim q(\boldsymbol{x})}\left[\frac{p(\boldsymbol{x}) / q(\boldsymbol{x})}{\mathbb{E}</em>)\right]}\sim q(\boldsymbol{x})}[p(\boldsymbol{x}) / q(\boldsymbol{x})]}f(\boldsymbol{x<br />
\end{equation}<br />
è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å‘ç°ä¸Šå¼åªä¾èµ–äº$p(\boldsymbol{x})$çš„ç›¸å¯¹å€¼ï¼Œä¸ä¾èµ–äºå®ƒçš„ç»å¯¹å€¼ï¼Œæ‰€ä»¥æŠŠ$p(\boldsymbol{x})$æ¢æˆè·Ÿå®ƒæˆæ­£æ¯”çš„$\rho(\boldsymbol{x})$ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæœ€ç»ˆç®€åŒ–æˆï¼š<br />
\begin{equation}<br />
\mathbb{E}<em i="1">{\boldsymbol{x}\sim p(\boldsymbol{x})}[f(\boldsymbol{x})] \approx \frac{\sum\limits</em>}^N \rho(\boldsymbol{x<em i="1">i) / q(\boldsymbol{x}_i) \cdot f(\boldsymbol{x}_i)}{\sum\limits</em>^N<br />
\rho(\boldsymbol{x}_i) / q(\boldsymbol{x}_i)},\quad \boldsymbol{x}_1,\cdots,\boldsymbol{x}_N\sim q(\boldsymbol{x})\end{equation}</p>
<h2 id="_4">æ‹’ç»é‡‡æ ·</h2>
<p>ä¸Šä¸€èŠ‚çš„é‡è¦æ€§é‡‡æ ·å®ç°äº†å°†å¤æ‚åˆ†å¸ƒæœŸæœ›è½¬åŒ–ä¸ºç®€å•åˆ†å¸ƒæœŸæœ›ï¼Œä½†è¿™è¿˜ä¸æ˜¯æˆ‘ä»¬çš„çœŸæ­£ç›®çš„ï¼Œæˆ‘ä»¬è¦å®ç°çš„æ˜¯æŠŠæ ·æœ¬ä»åˆ†å¸ƒ$p(\boldsymbol{x})$ä¸­é‡‡æ ·å‡ºæ¥ï¼Œè€Œä¸æ˜¯ä¼°ç®—å®ƒçš„æŸä¸ªæœŸæœ›ã€‚æ€æƒ³ä¾ç„¶è·Ÿé‡è¦æ€§é‡‡æ ·ä¸€æ ·ï¼Œå¼•å…¥æ˜“äºé‡‡æ ·çš„åˆ†å¸ƒ$q(\boldsymbol{x})$ï¼Œç„¶åä»ä¸­éšæœºåœ°ç­›æ‰æŸäº›æ ·æœ¬ï¼Œä½¿å¾—å‰©ä¸‹çš„æ ·æœ¬æœä»åˆ†å¸ƒ$p(\boldsymbol{x})$ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œå‡è®¾æœ‰å‡½æ•°$\alpha(\boldsymbol{x})\in [0, 1]$ï¼Œæˆ‘ä»¬æŒ‰ç…§å¦‚ä¸‹æµç¨‹è¿›è¡Œé‡‡æ ·ï¼Œå³â€œæ‹’ç»é‡‡æ ·ï¼ˆRejection Samplingï¼‰â€ï¼š</p>
<blockquote>
<p><strong>æ‹’ç»é‡‡æ ·</strong> ä»$q(\boldsymbol{x})$é‡‡æ ·ä¸€ä¸ªæ ·æœ¬$\boldsymbol{x}$ï¼Œä»$U[0,1]$ä¸­é‡‡æ ·ä¸€ä¸ªéšæœºæ•°$\varepsilon$ï¼Œè‹¥$\varepsilon \leq \alpha(\boldsymbol{x})$åˆ™æ¥å—è¯¥æ ·æœ¬ï¼Œå¦åˆ™æ‹’ç»å¹¶é‡æ–°æŒ‰ç…§æ­¤æµç¨‹é‡‡æ ·ã€‚</p>
</blockquote>
<p>é‚£ä¹ˆï¼Œæ­¤æ—¶é‡‡æ ·å‡ºæ¥çš„$\boldsymbol{x}$çœŸæ­£çš„æ¦‚ç‡åˆ†å¸ƒæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®ä¹Ÿä¸éš¾ï¼Œç”±äºæ ·æœ¬$\boldsymbol{x}$è¢«ä¿ç•™ä¸‹æ¥çš„æ¦‚ç‡æ˜¯$\alpha(\boldsymbol{x})$ï¼Œå› æ­¤å®ƒçš„ç›¸å¯¹æ¦‚ç‡å°±æ˜¯$q(\boldsymbol{x})\alpha(\boldsymbol{x})$ï¼Œæˆ‘ä»¬åªéœ€è¦å°†å®ƒé‡æ–°å½’ä¸€åŒ–<br />
\begin{equation}\frac{q(\boldsymbol{x})\alpha(\boldsymbol{x})}{\sum\limits_{\boldsymbol{x}} q(\boldsymbol{x})\alpha(\boldsymbol{x})}\end{equation}<br />
å°±å¾—åˆ°æ‹’ç»é‡‡æ ·å¯¹åº”çš„çœŸæ­£çš„æ¦‚ç‡åˆ†å¸ƒäº†ï¼Œä»è¿™ä¸ªå½¢å¼ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œ <em>å°†æ¥å—ç‡ä¹˜ä»¥ä¸€ä¸ª0åˆ°1ä¹‹é—´çš„æ•°ï¼Œç†è®ºä¸Šæ‹’ç»é‡‡æ ·å¯¹åº”çš„åˆ†å¸ƒæ˜¯ä¸å˜çš„</em> ã€‚</p>
<p>è¿™ä¸ªè¿‡ç¨‹å¯ç¤ºæˆ‘ä»¬ï¼Œæ‹’ç»é‡‡æ ·å¯ä»¥è®©æˆ‘ä»¬å®ç°ä»æ­£æ¯”äº$q(\boldsymbol{x})\alpha(\boldsymbol{x})$çš„åˆ†å¸ƒä¸­é‡‡æ ·ï¼Œé‚£ä¹ˆæ ¹æ®$p(\boldsymbol{x})=q(\boldsymbol{x})\frac{p(\boldsymbol{x})}{q(\boldsymbol{x})}$ï¼Œæˆ‘ä»¬å¯ä»¥è®©$\alpha(\boldsymbol{x})=\frac{p(\boldsymbol{x})}{q(\boldsymbol{x})}$ä½œä¸ºæ¥å—æ¦‚ç‡ï¼Œæ¥è¿›è¡Œä»$q(\boldsymbol{x})$å‡ºå‘çš„æ‹’ç»é‡‡æ ·ï¼Œç»“æœå°±ç›¸å½“äºä»$p(\boldsymbol{x})$é‡‡æ ·äº†ã€‚å½“ç„¶ï¼Œè¿˜æ²¡é‚£ä¹ˆç®€å•ï¼Œæ ¹æ®æ¦‚ç‡çš„å½’ä¸€åŒ–æ€§è´¨ï¼Œé™¤é$q(\boldsymbol{x})$æ’ç­‰äº$p(\boldsymbol{x})$ï¼Œå¦åˆ™$\frac{p(\boldsymbol{x})}{q(\boldsymbol{x})}$ä¸å¯èƒ½ä¸€ç›´éƒ½åœ¨$[0, 1]$å†…ã€‚ä½†è¿™ä¸è¦ç´§ï¼Œåªè¦$\frac{p(\boldsymbol{x})}{q(\boldsymbol{x})}$æœ‰ä¸Šç•Œï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é€‰æ‹©ä¸€ä¸ªè¶³å¤Ÿå¤§çš„å¸¸æ•°$M$ï¼Œä½¿å¾—$\frac{p(\boldsymbol{x})}{q(\boldsymbol{x})\cdot M}\in [0, 1]$ï¼Œæ­¤æ—¶ä»¥$\alpha(\boldsymbol{x})=\frac{p(\boldsymbol{x})}{q(\boldsymbol{x})\cdot M}$ä¸ºæ¥å—æ¦‚ç‡å³å¯ï¼Œåˆšæ‰æˆ‘ä»¬è¯´äº†ï¼Œä¹˜ä»¥ä¸€ä¸ªå¸¸æ•°ä¸ä¼šå½±å“æ‹’ç»é‡‡æ ·å¯¹åº”çš„åˆ†å¸ƒã€‚æ¢å¥è¯è¯´ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªè¿‡ç¨‹åŒæ ·ä¸ä¾èµ–äºå®Œå…¨ç²¾ç¡®çš„$p(\boldsymbol{x})$ï¼Œå¯ä»¥å°†$p(\boldsymbol{x})$æ¢æˆè·Ÿå®ƒæˆæ­£æ¯”çš„$\rho(\boldsymbol{x})$ã€‚</p>
<p>å…³äºæ¥å—ç‡$\alpha(\boldsymbol{x})$ï¼Œå°½ç®¡ç†è®ºä¸Šåªè¦æ±‚å®ƒ$\alpha(\boldsymbol{x})\in[0, 1]$å°±è¡Œäº†ï¼Œä½†å®é™…ä¸Šè¿˜æ˜¯ä»¥$\max\limits_{\boldsymbol{x}}\alpha(\boldsymbol{x}) = 1$ä¸ºå¥½ï¼Œè¿™æ˜¯å› ä¸ºè¿‡å°çš„æ¥å—ç‡ä¼šå¯¼è‡´æ‹’ç»å¤ªå¤šï¼ˆå‡ ä¹æ¥ä¸€ä¸ªæ‹’ç»ä¸€ä¸ªï¼‰ï¼Œé‡‡æ ·æ•ˆç‡å¤ªä½ï¼Œç”Ÿæˆä¸€ä¸ªåˆç†çš„æ ·æœ¬çš„æˆæœ¬è¿‡å¤§äº†ã€‚ç±»ä¼¼åœ°ï¼Œå°½ç®¡ç†è®ºä¸Šå¯¹$q(\boldsymbol{x})$çš„è¦æ±‚åªæ˜¯æ˜“äºé‡‡æ ·å¹¶ä¸”$\frac{p(\boldsymbol{x})}{q(\boldsymbol{x})}$æœ‰ä¸Šç•Œï¼Œä½†å®é™…ä¸Š$q(\boldsymbol{x})$ä¸$p(\boldsymbol{x})$ä»ç„¶æ˜¯è¶Šç›¸è¿‘è¶Šå¥½ï¼Œå¦åˆ™ä¾ç„¶å¯èƒ½é€ æˆæ¥å—ç‡è¿‡ä½è€Œå¯¼è‡´é‡‡æ ·æˆæœ¬å¤§åˆ°éš¾ä»¥æ¥å—ã€‚æ‰€ä»¥ï¼Œå°½ç®¡æ‹’ç»é‡‡æ ·çœ‹ä¸Šå»æä¾›äº†ä¸€ç§å‡ ä¹èƒ½ä»ä»»æ„åˆ†å¸ƒ$p(\boldsymbol{x})$ä¸­è¿›è¡Œé‡‡æ ·çš„æ–¹æ¡ˆï¼Œä½†å®é™…åº”ç”¨æ—¶è¿‘ä¼¼åˆ†å¸ƒ$q(\boldsymbol{x})$çš„è®¾è®¡ä¾ç„¶æ˜¯ä¸€ä¸ªä¸å°çš„éš¾é¢˜ã€‚</p>
<h2 id="_5">æœ¬æ–‡å°ç»“</h2>
<p>ä»æœ¬æ–‡å¼€å§‹ï¼Œæˆ‘ä»¬å¼€äº†ä¸ªæ–°å‘ï¼Œè¯•å›¾ä»ç¦»æ•£ä¼˜åŒ–çš„è§’åº¦æ¥å®ŒæˆæŸäº›æ–‡æœ¬ç”Ÿæˆä»»åŠ¡ï¼ˆå—é™æ–‡æœ¬ç”Ÿæˆï¼‰ã€‚å®ƒé€šè¿‡ç¡®å®šä¸€ä¸ªå®šé‡çš„è¯„ä¼°ç›®æ ‡ï¼Œç„¶åé€šè¿‡æœ€å¤§åŒ–è¿™ä¸ªç›®æ ‡æˆ–è€…ä»ä¸­é‡‡æ ·å°±å¯ä»¥å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„è¾“å‡ºï¼Œè€Œä¸éœ€è¦æ ‡ç­¾æ•°æ®ç›‘ç£è®­ç»ƒæ–°æ¨¡å‹ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ‰€è¦ç”¨åˆ°çš„å·¥å…·æ˜¯ä¸€äº›ä¸»è¦æ˜¯é‡‡æ ·ç®—æ³•ï¼Œæœ¬æ–‡å…ˆä»‹ç»äº†å…¶ä¸­å¾ˆåŸºæœ¬çš„é‡è¦æ€§é‡‡æ ·å’Œæ‹’ç»é‡‡æ ·ï¼Œåé¢å°†ä¼šç»§ç»­å®Œå–„è¯¥ç³»åˆ—æ–‡ç« ï¼Œæ•¬è¯·å¤§å®¶æœŸå¾…ã€‚</p>
<p><em><strong>è½¬è½½åˆ°è¯·åŒ…æ‹¬æœ¬æ–‡åœ°å€ï¼š</strong><a href="https://spaces.ac.cn/archives/8062">https://spaces.ac.cn/archives/8062</a></em></p>
<p><em><strong>æ›´è¯¦ç»†çš„è½¬è½½äº‹å®œè¯·å‚è€ƒï¼š</strong></em><a href="https://spaces.ac.cn/archives/6508#%E6%96%87%E7%AB%A0%E5%A6%82%E4%BD%95%E8%BD%AC%E8%BD%BD/%E5%BC%95%E7%94%A8" title="ã€Šç§‘å­¦ç©ºé—´FAQã€‹">ã€Šç§‘å­¦ç©ºé—´FAQã€‹</a></p>
<p><strong>å¦‚æœæ‚¨è¿˜æœ‰ä»€ä¹ˆç–‘æƒ‘æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹è¯„è®ºåŒºç»§ç»­è®¨è®ºã€‚</strong></p>
<p><strong>å¦‚æœæ‚¨è§‰å¾—æœ¬æ–‡è¿˜ä¸é”™ï¼Œæ¬¢è¿åˆ†äº«/æ‰“èµæœ¬æ–‡ã€‚æ‰“èµå¹¶éè¦ä»ä¸­è·å¾—æ”¶ç›Šï¼Œè€Œæ˜¯å¸Œæœ›çŸ¥é“ç§‘å­¦ç©ºé—´è·å¾—äº†å¤šå°‘è¯»è€…çš„çœŸå¿ƒå…³æ³¨ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æ— è§†å®ƒï¼Œä¹Ÿä¸ä¼šå½±å“ä½ çš„é˜…è¯»ã€‚å†æ¬¡è¡¨ç¤ºæ¬¢è¿å’Œæ„Ÿè°¢ï¼</strong></p>
<p>æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/wx.png" /></p>
<p>å¾®ä¿¡æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/zfb.png" /></p>
<p>æ”¯ä»˜å®æ‰“èµ</p>
<p>å› ä¸ºç½‘ç«™åå°å¯¹æ‰“èµå¹¶æ— è®°å½•ï¼Œå› æ­¤æ¬¢è¿åœ¨æ‰“èµæ—¶å€™å¤‡æ³¨ç•™è¨€ã€‚ä½ è¿˜å¯ä»¥<a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=tN7d1drY3drrx8H0xcWa19vZ"><strong>ç‚¹å‡»è¿™é‡Œ</strong></a>æˆ–åœ¨ä¸‹æ–¹è¯„è®ºåŒºç•™è¨€æ¥å‘ŠçŸ¥ä½ çš„å»ºè®®æˆ–éœ€æ±‚ã€‚</p>
<p><strong>å¦‚æœæ‚¨éœ€è¦å¼•ç”¨æœ¬æ–‡ï¼Œè¯·å‚è€ƒï¼š</strong></p>
<p>è‹å‰‘æ—. (Jan. 07, 2021). ã€Šã€æœå‡ºæ¥çš„æ–‡æœ¬ã€‘â‹…ï¼ˆä¸€ï¼‰ä»æ–‡æœ¬ç”Ÿæˆåˆ°æœç´¢é‡‡æ · ã€‹[Blog post]. Retrieved from <a href="https://spaces.ac.cn/archives/8062">https://spaces.ac.cn/archives/8062</a></p>
<p>@online{kexuefm-8062,<br />
title={ã€æœå‡ºæ¥çš„æ–‡æœ¬ã€‘â‹…ï¼ˆä¸€ï¼‰ä»æ–‡æœ¬ç”Ÿæˆåˆ°æœç´¢é‡‡æ ·},<br />
author={è‹å‰‘æ—},<br />
year={2021},<br />
month={Jan},<br />
url={\url{https://spaces.ac.cn/archives/8062}},<br />
} </p>
<hr />
<h2 id="_6">å…¬å¼æ¨å¯¼ä¸æ³¨é‡Š</h2>
<p>TODO: æ·»åŠ è¯¦ç»†çš„æ•°å­¦å…¬å¼æ¨å¯¼å’Œæ³¨é‡Š</p>
        </div>
    </div>
</body>
</html>