<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤šä»»åŠ¡å­¦ä¹ æ¼«è°ˆï¼ˆä¸€ï¼‰ï¼šä»¥æŸå¤±ä¹‹å</title>
    <style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    line-height: 1.6; color: #333; max-width: 900px; margin: 0 auto; padding: 20px; background: #f5f5f5;
}
.container { background: white; padding: 40px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
header { border-bottom: 2px solid #e0e0e0; padding-bottom: 20px; margin-bottom: 30px; }
h1 { color: #2c3e50; margin-bottom: 10px; font-size: 2em; }
.meta { color: #666; font-size: 0.9em; margin-bottom: 20px; }
.content { margin-top: 30px; overflow-wrap: break-word; }
.content h2 { color: #34495e; margin-top: 30px; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
.content p { margin-bottom: 15px; }
.content pre { background: #f8f8f8; padding: 15px; border-radius: 5px; overflow-x: auto; border-left: 3px solid #3498db; margin: 15px 0; }
.content code { background: #f8f8f8; padding: 2px 5px; border-radius: 3px; font-family: monospace; font-size: 0.9em; }
.content blockquote { border-left: 4px solid #3498db; padding-left: 20px; margin: 20px 0; color: #555; font-style: italic; }
.content table { border-collapse: collapse; width: 100%; margin: 20px 0; }
.content th, .content td { border: 1px solid #ddd; padding: 10px; text-align: left; }
.back-link { display: inline-block; margin-bottom: 20px; color: #3498db; text-decoration: none; font-weight: 500; }
</style>
    
<script>
    window.MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\(', '\)']],
            displayMath: [['$$', '$$'], ['\[', '\]']],
            processEscapes: true
        }
    };
</script>
<script id="MathJax-script" async src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
        <header>
            <h1>å¤šä»»åŠ¡å­¦ä¹ æ¼«è°ˆï¼ˆä¸€ï¼‰ï¼šä»¥æŸå¤±ä¹‹å</h1>
            <div class="meta">ğŸ“… æœ€åæ›´æ–°: 2026-01-05 | ğŸ“„ å¤§å°: 47.2 KB</div>
        </header>
        <div class="content">
            <p><strong>åŸæ–‡é“¾æ¥</strong>: <a href="https://spaces.ac.cn/archives/8870">https://spaces.ac.cn/archives/8870</a></p>
<p><strong>å‘å¸ƒæ—¥æœŸ</strong>: </p>
<hr />
<p>èƒ½æå‡æ¨¡å‹æ€§èƒ½çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå¤šä»»åŠ¡å­¦ä¹ ï¼ˆMulti-Task Learningï¼‰ä¹Ÿæ˜¯å…¶ä¸­ä¸€ç§ã€‚ç®€å•æ¥è¯´ï¼Œå¤šä»»åŠ¡å­¦ä¹ æ˜¯å¸Œæœ›å°†å¤šä¸ªç›¸å…³çš„ä»»åŠ¡å…±åŒè®­ç»ƒï¼Œå¸Œæœ›ä¸åŒä»»åŠ¡ä¹‹é—´èƒ½å¤Ÿç›¸äº’è¡¥å……å’Œä¿ƒè¿›ï¼Œä»è€Œè·å¾—å•ä»»åŠ¡ä¸Šæ›´å¥½çš„æ•ˆæœï¼ˆå‡†ç¡®ç‡ã€é²æ£’æ€§ç­‰ï¼‰ã€‚ç„¶è€Œï¼Œå¤šä»»åŠ¡å­¦ä¹ å¹¶ä¸æ˜¯æ‰€æœ‰ä»»åŠ¡å †èµ·æ¥å°±èƒ½ç”Ÿæ•ˆé‚£ä¹ˆç®€å•ï¼Œå¦‚ä½•å¹³è¡¡æ¯ä¸ªä»»åŠ¡çš„è®­ç»ƒï¼Œä½¿å¾—å„ä¸ªä»»åŠ¡éƒ½å°½é‡è·å¾—æœ‰ç›Šçš„æå‡ï¼Œä¾ç„¶æ˜¯å€¼å¾—ç ”ç©¶çš„è¯¾é¢˜ã€‚</p>
<p>æœ€è¿‘ï¼Œç¬”è€…æœºç¼˜å·§åˆä¹‹ä¸‹ï¼Œä¹Ÿè¿›è¡Œäº†ä¸€äº›å¤šä»»åŠ¡å­¦ä¹ çš„å°è¯•ï¼Œå€Ÿæœºä¹Ÿå­¦ä¹ äº†ç›¸å…³å†…å®¹ï¼Œåœ¨æ­¤æŒ‘éƒ¨åˆ†ç»“æœä¸å¤§å®¶äº¤æµå’Œè®¨è®ºã€‚</p>
<h2 id="_1">åŠ æƒæ±‚å’Œ</h2>
<p>ä»æŸå¤±å‡½æ•°çš„å±‚é¢çœ‹ï¼Œå¤šä»»åŠ¡å­¦ä¹ å°±æ˜¯æœ‰å¤šä¸ªæŸå¤±å‡½æ•°$\mathcal{L}<em i="1">1,\mathcal{L}_2,\cdots,\mathcal{L}_n$ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å®ƒä»¬æœ‰å¤§é‡çš„å…±äº«å‚æ•°ã€å°‘é‡çš„ç‹¬ç«‹å‚æ•°ï¼Œè€Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®©æ¯ä¸ªæŸå¤±å‡½æ•°éƒ½å°½å¯èƒ½åœ°å°ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¼•å…¥æƒé‡$\alpha_1,\alpha_2,\cdots,\alpha_n\geq 0$ï¼Œé€šè¿‡åŠ æƒæ±‚å’Œçš„æ–¹å¼å°†å®ƒè½¬åŒ–ä¸ºå¦‚ä¸‹æŸå¤±å‡½æ•°çš„å•ä»»åŠ¡å­¦ä¹ <br />
\begin{equation}\mathcal{L} = \sum</em>}^n \alpha_i \mathcal{L}_i\label{eq:w-loss}\end{equation<br />
åœ¨è¿™ä¸ªè§†è§’ä¸‹ï¼Œå¤šä»»åŠ¡å­¦ä¹ çš„ä¸»è¦éš¾ç‚¹å°±æ˜¯å¦‚ä½•ç¡®å®šå„ä¸ª$\alpha_i$äº†ã€‚</p>
<h3 id="_2">åˆå§‹çŠ¶æ€</h3>
<p>æŒ‰é“ç†ï¼Œåœ¨æ²¡æœ‰ä»»åŠ¡å…ˆéªŒå’Œåè§çš„æƒ…å†µä¸‹ï¼Œæœ€è‡ªç„¶çš„é€‰æ‹©å°±æ˜¯å¹³ç­‰å¯¹å¾…æ¯ä¸ªä»»åŠ¡ï¼Œå³$a_i=1/n$ã€‚ç„¶è€Œï¼Œäº‹å®ä¸Šæ¯ä¸ªä»»åŠ¡å¯èƒ½æœ‰å¾ˆå¤§å·®åˆ«ï¼Œæ¯”å¦‚ä¸åŒç±»åˆ«æ•°çš„åˆ†ç±»ä»»åŠ¡æ··åˆã€åˆ†ç±»ä¸å›å½’ä»»åŠ¡æ··åˆã€åˆ†ç±»ä¸ç”Ÿæˆä»»åŠ¡æ··åˆç­‰ç­‰ï¼Œä»ç‰©ç†çš„è§’åº¦çœ‹ï¼Œæ¯ä¸ªæŸå¤±å‡½æ•°çš„é‡çº²å’Œé‡çº§éƒ½ä¸ä¸€æ ·ï¼Œç›´æ¥ç›¸åŠ æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬å°†æ¯ä¸ªæŸå¤±å‡½æ•°çœ‹æˆå…·æœ‰ä¸åŒé‡çº²çš„ç‰©ç†é‡ï¼Œé‚£ä¹ˆä»â€œæ— é‡çº²åŒ–â€çš„æ€æƒ³å‡ºå‘ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨æŸå¤±å‡½æ•°çš„åˆå§‹å€¼å€’æ•°ä½œä¸ºæƒé‡ï¼Œå³<br />
\begin{equation}\mathcal{L} = \sum_{i=1}^n \frac{\mathcal{L}_i}{\mathcal{L}_i^{(\text{init})}}\label{eq:init}\end{equation}<br />
å…¶ä¸­$\mathcal{L}_i^{(\text{init})}$è¡¨ç¤ºä»»åŠ¡$i$çš„åˆå§‹æŸå¤±å€¼ã€‚è¯¥å¼å…³äºæ¯ä¸ª$\mathcal{L}_i$æ˜¯â€œé½æ¬¡â€çš„ï¼Œæ‰€ä»¥å®ƒçš„ä¸€ä¸ªæ˜æ˜¾ä¼˜ç‚¹æ˜¯ç¼©æ”¾ä¸å˜æ€§ï¼Œå³å¦‚æœè®©ä»»åŠ¡$i$çš„æŸå¤±ä¹˜ä¸Šä¸€ä¸ªå¸¸æ•°ï¼Œé‚£ä¹ˆç»“æœä¸ä¼šå˜åŒ–ã€‚æ­¤å¤–ï¼Œç”±äºæ¯ä¸ªæŸå¤±éƒ½é™¤ä»¥äº†è‡ªèº«çš„åˆå§‹å€¼ï¼Œè¾ƒå¤§çš„æŸå¤±ä¼šç¼©å°ï¼Œè¾ƒå°çš„æŸå¤±ä¼šæ”¾å¤§ï¼Œä»è€Œä½¿å¾—æ¯ä¸ªæŸå¤±èƒ½å¤Ÿå¤§è‡´å¾—åˆ°å¹³è¡¡ã€‚</p>
<p>é‚£ä¹ˆï¼Œæ€ä¹ˆä¼°è®¡$\mathcal{L}<em _mathcal_D="\mathcal{D" y_sim="y\sim">i^{(\text{init})}$å‘¢ï¼Ÿæœ€ç›´æ¥çš„æ–¹æ³•å½“ç„¶æ˜¯ç›´æ¥æ‹¿å‡ ä¸ªbatchçš„æ•°æ®æ¥ä¼°ç®—ä¸€ä¸‹ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºä¸€äº›å‡è®¾å¾—åˆ°ä¸€ä¸ªç†è®ºå€¼ã€‚æ¯”å¦‚ï¼Œåœ¨ä¸»æµçš„åˆå§‹åŒ–ä¹‹ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºåˆå§‹æ¨¡å‹ï¼ˆåŠ æ¿€æ´»å‡½æ•°ä¹‹å‰ï¼‰çš„è¾“å‡ºæ˜¯ä¸€ä¸ªé›¶å‘é‡ï¼Œå¦‚æœåŠ ä¸Šsoftmaxåˆ™æ˜¯å‡åŒ€åˆ†å¸ƒï¼Œé‚£ä¹ˆå¯¹äºä¸€ä¸ªâ€œ$K$åˆ†ç±»+äº¤å‰ç†µâ€é—®é¢˜ï¼Œå®ƒçš„åˆå§‹æŸå¤±å°±æ˜¯$\log K$ï¼›å¯¹äºâ€œå›å½’+L2æŸå¤±â€é—®é¢˜ï¼Œåˆ™å¯ä»¥ç”¨é›¶å‘é‡æ¥ä¼°è®¡åˆå§‹æŸå¤±ï¼Œå³$\mathbb{E}</em>$æ˜¯è®­ç»ƒé›†çš„å…¨ä½“æ ‡ç­¾ã€‚}}[\Vert y-0\Vert^2] = \mathbb{E}_{y\sim \mathcal{D}}[\Vert y\Vert^2]$ï¼Œ$\mathcal{D</p>
<h3 id="_3">å…ˆéªŒçŠ¶æ€</h3>
<p>ç”¨åˆå§‹æŸå¤±çš„ä¸€ä¸ªé—®é¢˜æ˜¯åˆå§‹çŠ¶æ€ä¸ä¸€å®šèƒ½å¾ˆå¥½åœ°ååº”å½“å‰ä»»åŠ¡çš„å­¦ä¹ éš¾åº¦ï¼Œæ›´å¥½çš„æ–¹æ¡ˆåº”è¯¥æ˜¯å°†â€œåˆå§‹çŠ¶æ€â€æ”¹ä¸ºâ€œå…ˆéªŒçŠ¶æ€â€ï¼š<br />
\begin{equation}\mathcal{L} = \sum_{i=1}^n \frac{\mathcal{L}<em i="1">i}{\mathcal{L}_i^{(\text{prior})}}\label{eq:prior}\end{equation}<br />
æ¯”å¦‚ï¼Œå¦‚æœ$K$åˆ†ç±»ä¸­æ¯ä¸ªç±»çš„é¢‘ç‡åˆ†åˆ«æ˜¯$[p_1,p_2,\dots,p_K]$ï¼ˆå…ˆéªŒåˆ†å¸ƒï¼‰ï¼Œé‚£ä¹ˆè™½ç„¶åˆå§‹çŠ¶æ€çš„é¢„æµ‹åˆ†å¸ƒä¸ºå‡åŒ€åˆ†å¸ƒï¼Œä½†æˆ‘ä»¬å¯ä»¥åˆç†åœ°è®¤ä¸ºæ¨¡å‹å¯ä»¥å¾ˆå®¹æ˜“å­¦ä¼šå°†æ¯ä¸ªæ ·æœ¬çš„ç»“æœéƒ½é¢„æµ‹ä¸º$[p_1,p_2,\dots,p_K]$ï¼Œæ­¤æ—¶æ¨¡å‹çš„æŸå¤±ä¸ºç†µ<br />
\begin{equation}\mathcal{L}_i^{(\text{prior})}=\mathcal{H} = -\sum</em>}^K p_i\log p_i\end{equation<br />
æŸç§æ„ä¹‰ä¸Šæ¥è¯´ï¼Œâ€œå…ˆéªŒåˆ†å¸ƒâ€æ¯”â€œåˆå§‹åˆ†å¸ƒâ€æ›´èƒ½ä½“ç°å‡ºâ€œåˆå§‹â€çš„æœ¬è´¨ï¼Œå®ƒæ˜¯â€œå°±ç®—æ¨¡å‹å•¥éƒ½å­¦ä¸ä¼šï¼Œä¹ŸçŸ¥é“æŒ‰ç…§å…ˆéªŒåˆ†å¸ƒæ¥éšæœºå‡ºç»“æœâ€çš„ä½“ç°ï¼Œæ‰€ä»¥æ­¤æ—¶çš„æŸå¤±å€¼æ›´èƒ½ä»£è¡¨å½“å‰ä»»åŠ¡çš„åˆå§‹éš¾åº¦ï¼Œå› æ­¤ç”¨$\mathcal{L}<em _mathcal_D="\mathcal{D" y_sim="y\sim">i^{(\text{prior})}$ä»£æ›¿$\mathcal{L}_i^{(\text{init})}$åº”è¯¥æ›´åŠ åˆç†ï¼›ç±»ä¼¼åœ°ï¼Œå¯¹äºâ€œå›å½’+L2æŸå¤±â€é—®é¢˜ï¼Œå®ƒçš„å…ˆéªŒç»“æœåº”è¯¥æ˜¯å…¨ä½“æ ‡ç­¾çš„æœŸæœ›$\mu = \mathbb{E}</em>}}[y]$ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨$\mathcal{L<em _mathcal_D="\mathcal{D" y_sim="y\sim">i^{(\text{prior})}=\mathbb{E}</em>}}[\Vert y-\mu\Vert^2]$ä»£æ›¿$\mathcal{L<em _mathcal_D="\mathcal{D" y_sim="y\sim">i^{(\text{init})}=\mathbb{E}</em>[\Vert y\Vert^2]$ï¼Œæœ‰æœ›å–å¾—æ›´åˆç†çš„ç»“æœã€‚}</p>
<h2 id="_4">åŠ¨æ€è°ƒèŠ‚</h2>
<p>ä¸ç®¡æ˜¯ç”¨åˆå§‹çŠ¶æ€çš„å¼$\eqref{eq:init}$è¿˜æ˜¯å…ˆéªŒçŠ¶æ€çš„å¼$\eqref{eq:prior}$ï¼Œå®ƒä»¬çš„ä»»åŠ¡æƒé‡åœ¨ç¡®å®šä¹‹åå°±ä¿æŒä¸å˜äº†ï¼Œå¹¶ä¸”å®ƒä»¬ç¡®å®šæƒé‡çš„æ–¹æ³•ä¸ä¾èµ–äºå­¦ä¹ è¿‡ç¨‹ã€‚ç„¶è€Œï¼Œå°½ç®¡æˆ‘ä»¬å¯ä»¥é€šè¿‡å…ˆéªŒåˆ†å¸ƒç­‰ä¿¡æ¯ç®€å•æ„ŸçŸ¥ä¸€ä¸‹å­¦ä¹ éš¾åº¦ï¼Œä½†ç©¶ç«Ÿæœ‰å¤šéš¾å…¶å®è¦çœŸæ­£å»å­¦ä¹ æ‰çŸ¥é“ï¼Œæ‰€ä»¥æ›´åˆç†çš„æ–¹æ¡ˆåº”è¯¥æ˜¯æ ¹æ®è®­ç»ƒè¿›ç¨‹åŠ¨æ€åœ°è°ƒæ•´æƒé‡ã€‚</p>
<h3 id="_5">å®æ—¶çŠ¶æ€</h3>
<p>çºµè§‚å‰æ–‡ï¼Œå¼$\eqref{eq:init}$å’Œå¼$\eqref{eq:prior}$çš„æ ¸å¿ƒæ€æƒ³éƒ½æ˜¯ç”¨æŸå¤±å€¼çš„å€’æ•°æ¥ä½œä¸ºä»»åŠ¡æƒé‡ï¼Œé‚£ä¹ˆèƒ½ä¸èƒ½å¹²è„†ç”¨â€œå®æ—¶â€çš„æŸå¤±å€¼å€’æ•°æ¥å®ç°åŠ¨æ€è°ƒæ•´æƒé‡ï¼Ÿå³<br />
\begin{equation}\mathcal{L} = \sum_{i=1}^n \frac{\mathcal{L}<em _theta="\theta">i}{\mathcal{L}_i^{(\text{sg})}}\label{eq:sg}\end{equation}<br />
è¿™é‡Œçš„$\mathcal{L}_i^{(\text{sg})}$æ˜¯$\text{stop_gradient}(\mathcal{L}_i)$çš„ç®€å†™ã€‚åœ¨è¿™ä¸ªæ–¹æ¡ˆä¸­ï¼Œæ¯ä¸ªä»»åŠ¡çš„æŸå¤±å‡½æ•°éƒ½è¢«è°ƒæ•´æ’ä¸º1ï¼Œæ‰€ä»¥ä¸ç®¡æ˜¯é‡çº²è¿˜æ˜¯é‡çº§ä¸Šéƒ½æ˜¯ä¸€è‡´çš„ã€‚ç”±äº$\text{stop_gradient}$ç®—å­çš„å­˜åœ¨ï¼Œè™½ç„¶æŸå¤±æ’ä¸º1ï¼Œä½†æ¢¯åº¦å¹¶éæ’ä¸º0ï¼š<br />
\begin{equation}\nabla</em>}\left(\frac{\mathcal{L<em _theta="\theta">i}{\mathcal{L}_i^{(\text{sg})}}\right) = \frac{\nabla</em>}\mathcal{L<em _theta="\theta">i}{\mathcal{L}_i^{(\text{sg})}} = \frac{\nabla</em>}\mathcal{L}_i}{\mathcal{L}_i}\label{eq:sg-grad}\end{equation<br />
ç®€å•æ¥è¯´å°±æ˜¯æŸä¸ªå‡½æ•°è¢«$\text{stop_gradient}$ç®—å­åŒ…ä½åï¼Œå°±å˜æˆäº†ä¸€ä¸ªæ–°å‡½æ•°ï¼Œå…¶å€¼ä¸åŸæ¥çš„å‡½æ•°æ’ç­‰ï¼Œä½†æ˜¯å®ƒçš„å¯¼å‡½æ•°å¼ºåˆ¶è®¾ä¸ºäº†0ï¼Œæ‰€ä»¥æœ€ç»ˆç»“æœå°±æ˜¯ä»¥åŠ¨æ€æƒé‡$1/\mathcal{L}_i$æ¥å®æ—¶è°ƒæ•´äº†æ¢¯åº¦çš„æ¯”ä¾‹ã€‚å¾ˆå¤šâ€œæ°‘é—´å®éªŒâ€è¡¨æ˜ï¼Œå¼$\eqref{eq:sg}$ç¡®å®åœ¨å¤šæ•°æƒ…å†µä¸‹éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªç›¸å½“ä¸é”™çš„baselineã€‚</p>
<h3 id="_6">ç­‰ä»·æ¢¯åº¦</h3>
<p>æˆ‘ä»¬å¯ä»¥ä»å¦ä¸€ä¸ªè§’åº¦æ¥çœ‹è¯¥æ–¹æ¡ˆã€‚ä»å¼$\eqref{eq:sg-grad}$æˆ‘ä»¬å¯ä»¥å¾—åˆ°<br />
\begin{equation}\nabla_{\theta}\left(\frac{\mathcal{L}<em _theta="\theta">i}{\mathcal{L}_i^{(\text{sg})}}\right) = \frac{\nabla</em>}\mathcal{L<em _theta="\theta">i}{\mathcal{L}_i} = \nabla</em>} \log \mathcal{L<em i="1">i\end{equation}<br />
å› æ­¤ä»æ¢¯åº¦ä¸Šçœ‹ï¼Œå¼$\eqref{eq:sg}$ä¸$\mathcal{L} = \sum\limits</em>}^n \log \mathcal{L<em i="1">i$æ²¡æœ‰å®è´¨åŒºåˆ«ï¼Œè€Œæˆ‘ä»¬è¿›ä¸€æ­¥æœ‰<br />
\begin{equation}\mathcal{L} = \sum</em>}^n \log \mathcal{L<em i="1">i = n\log \sqrt[n]{\prod</em>}^n\mathcal{L<em i="1">i}\end{equation}<br />
ç”±äº$\log$æ˜¯å•è°ƒé€’å¢çš„ï¼Œæ‰€ä»¥å¼$\eqref{eq:sg}$ä¸ä¸‹å¼åœ¨æ¢¯åº¦æ–¹å‘ä¸Šæ˜¯ä¸€è‡´ï¼š<br />
\begin{equation}\mathcal{L} = \sqrt[n]{\prod</em>}^n\mathcal{L}_i}\end{equation</p>
<h3 id="_7">å¹¿ä¹‰å¹³å‡</h3>
<p>æ˜¾ç„¶ï¼Œä¸Šå¼æ­£æ˜¯$\mathcal{L}<em i="1">1,\mathcal{L}_2,\cdots,\mathcal{L}_n$çš„â€œå‡ ä½•å¹³å‡â€ï¼Œè€Œå¦‚æœæˆ‘ä»¬çº¦å®š$a_i$æ’ç­‰äº$1/n$ï¼Œé‚£ä¹ˆåŸå§‹çš„å¼$\eqref{eq:w-loss}$å°±æ˜¯$\mathcal{L}_1,\mathcal{L}_2,\cdots,\mathcal{L}_n$çš„â€œä»£æ•°å¹³å‡â€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å‘ç°è¿™ä¸€ç³»åˆ—çš„æ¨å¯¼å…¶å®éšè—äº†ä»ä»£æ•°å¹³å‡åˆ°å‡ ä½•å¹³å‡çš„è½¬å˜ï¼Œè¿™å¯å‘æˆ‘ä»¬æˆ–è®¸å¯ä»¥è€ƒè™‘â€œå¹¿ä¹‰å¹³å‡â€ï¼š<br />
\begin{equation}\mathcal{L}(\gamma) = \sqrt[\gamma]{\frac{1}{n}\sum</em>}^n\mathcal{L<em _gamma_to-_infty="\gamma\to-\infty">i^{\gamma}}\end{equation}<br />
ä¹Ÿå°±æ˜¯å°†æ¯ä¸ªæŸå¤±å‡½æ•°ç®—$\gamma$æ¬¡æ–¹åå†å¹³å‡æœ€åå†å¼€$\gamma$æ¬¡æ–¹ï¼Œè¿™é‡Œçš„$\gamma$å¯ä»¥æ˜¯ä»»æ„å®æ•°ï¼Œä»£æ•°å¹³å‡å¯¹åº”$\gamma=1$ï¼Œè€Œå‡ ä½•å¹³å‡å¯¹åº”$\gamma=0$ï¼ˆéœ€è¦å–æé™ï¼‰ã€‚å¯ä»¥è¯æ˜ï¼Œ$\mathcal{L}(\gamma)$æ˜¯å…³äº$\gamma$çš„å•è°ƒé€’å¢å‡½æ•°ï¼Œå¹¶ä¸”æœ‰<br />
\begin{equation}\min(\mathcal{L}_1,\cdots,\mathcal{L}_n)=\lim</em>} \mathcal{L}(\gamma) \leq\cdots\leq \mathcal{L}(\gamma) \leq\cdots\leq \lim_{\gamma\to+\infty} \mathcal{L}(\gamma)=\max(\mathcal{L}_1,\cdots,\mathcal{L}_n)\end{equation<br />
è¿™å°±æ„å‘³ç€ï¼Œå½“$\gamma$å¢å¤§æ—¶ï¼Œæ¨¡å‹æ„ˆå‘å…³å¿ƒæŸå¤±ä¸­çš„æœ€å¤§å€¼ï¼Œåä¹‹åˆ™æ›´å…³å¿ƒæŸå¤±ä¸­çš„æœ€å°å€¼ã€‚è¿™æ ·ä¸€æ¥ï¼Œè™½ç„¶ä¾ç„¶å­˜åœ¨è¶…å‚æ•°$\gamma$è¦è°ƒæ•´ï¼Œä½†æ˜¯ç›¸æ¯”äºåŸå§‹çš„å¼$\eqref{eq:w-loss}$ï¼Œè¶…å‚æ•°çš„ä¸ªæ•°å·²ç»ä»$n$ä¸ªå˜ä¸ºåªæœ‰1ä¸ªï¼Œç®€åŒ–äº†è°ƒå‚è¿‡ç¨‹ã€‚</p>
<h2 id="_8">å¹³ç§»ä¸å˜</h2>
<p>é‡æ–°å›é¡¾å¼$\eqref{eq:init}$ã€å¼$\eqref{eq:prior}$å’Œå¼$\eqref{eq:sg}$ï¼Œå®ƒä»¬éƒ½æ˜¯é€šè¿‡æ¯ä¸ªä»»åŠ¡æŸå¤±é™¤ä»¥è‡ªèº«çš„æŸä¸ªçŠ¶æ€æ¥è°ƒèŠ‚æƒé‡ï¼Œå¹¶ä¸”è·å¾—äº†ç¼©æ”¾ä¸å˜æ€§ã€‚ç„¶è€Œï¼Œå°½ç®¡å®ƒä»¬éƒ½å…·å¤‡äº†ç¼©æ”¾ä¸å˜æ€§ï¼Œä½†å´å¤±å»äº†æ›´åŸºæœ¬çš„â€œå¹³ç§»ä¸å˜æ€§â€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæ¯ä¸ªæŸå¤±éƒ½åŠ ä¸Šä¸€ä¸ªå¸¸æ•°ï¼Œ$\eqref{eq:init}$ã€å¼$\eqref{eq:prior}$å’Œå¼$\eqref{eq:sg}$çš„æ¢¯åº¦æ–¹å‘æ˜¯æœ‰å¯èƒ½æ”¹å˜çš„ï¼Œè¿™å¯¹äºä¼˜åŒ–æ¥è¯´å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½æ¶ˆæ¯ï¼Œå› ä¸ºåŸåˆ™ä¸Šæ¥è¯´å¸¸æ•°æ²¡æœ‰å¸¦æ¥ä»»ä½•æœ‰æ„ä¹‰çš„ä¿¡æ¯ï¼Œä¼˜åŒ–ç»“æœä¸åº”è¯¥éšä¹‹æ”¹å˜ã€‚</p>
<h3 id="_9">ç†æƒ³ç›®æ ‡</h3>
<p>ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬ç”¨æŸå¤±å‡½æ•°ï¼ˆçš„æŸä¸ªçŠ¶æ€ï¼‰çš„å€’æ•°ä½œä¸ºå½“å‰ä»»åŠ¡çš„æƒé‡ï¼Œä½†æŸå¤±å‡½æ•°çš„å¯¼æ•°ä¸å…·å¤‡å¹³ç§»ä¸å˜æ€§ï¼›å¦ä¸€æ–¹é¢ï¼ŒæŸå¤±å‡½æ•°å¯ä»¥ç†è§£ä¸ºå½“å‰æ¨¡å‹ä¸ç›®æ ‡çŠ¶æ€çš„è·ç¦»ï¼Œè€Œæ¢¯åº¦ä¸‹é™æœ¬è´¨ä¸Šæ˜¯åœ¨å¯»æ‰¾æ¢¯åº¦ä¸º0çš„ç‚¹ï¼Œæ‰€ä»¥æ¢¯åº¦çš„æ¨¡é•¿å…¶å®ä¹Ÿèƒ½èµ·åˆ°ç±»ä¼¼ä½œç”¨ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç”¨æ¢¯åº¦çš„æ¨¡é•¿æ¥æ›¿æ¢æ‰æŸå¤±å‡½æ•°ï¼Œä»è€Œå°†å¼$\eqref{eq:sg}$å˜æˆ<br />
\begin{equation}\mathcal{L} = \sum_{i=1}^n \frac{\mathcal{L}<em _theta="\theta">i}{\Vert\nabla</em>}\mathcal{L}_i\Vert^{(\text{sg})}}\label{eq:grad}\end{equation<br />
è·ŸæŸå¤±å‡½æ•°çš„ä¸€ä¸ªæ˜æ˜¾åŒºåˆ«æ˜¯ï¼Œæ¢¯åº¦æ¨¡é•¿æ˜¾ç„¶å…·å¤‡å¹³ç§»ä¸å˜æ€§ï¼Œå¹¶ä¸”åˆ†å­åˆ†æ¯å…³äº$\mathcal{L}_i$ä¾ç„¶æ˜¯é½æ¬¡çš„ï¼Œæ‰€ä»¥ä¸Šå¼è¿˜ä¿ç•™äº†ç¼©æ”¾ä¸å˜æ€§ã€‚å› æ­¤ï¼Œè¿™æ˜¯ä¸€ä¸ªèƒ½åŒæ—¶å…·å¤‡å¹³ç§»å’Œç¼©æ”¾ä¸å˜æ€§çš„ç†æƒ³ç›®æ ‡ã€‚</p>
<h3 id="_10">æ¢¯åº¦å½’ä¸€</h3>
<p>å¯¹å¼$\eqref{eq:grad}$æ±‚æ¢¯åº¦ï¼Œæˆ‘ä»¬å¾—åˆ°<br />
\begin{equation}\nabla_{\theta}\mathcal{L} = \sum_{i=1}^n \frac{\nabla_{\theta}\mathcal{L}<em _theta="\theta">i}{\Vert\nabla</em>}\mathcal{L}_i\Vert}\label{eq:grad-norm}\end{equation<br />
å¯ä»¥çœ‹åˆ°ï¼Œå¼$\eqref{eq:grad}$æœ¬è´¨ä¸Šæ˜¯å°†æ¯ä¸ªä»»åŠ¡æŸå¤±çš„æ¢¯åº¦è¿›è¡Œå½’ä¸€åŒ–åå†æŠŠæ¢¯åº¦ç´¯åŠ èµ·æ¥ã€‚å®ƒåŒæ—¶ä¹Ÿå‘Šè¯‰äº†æˆ‘ä»¬ä¸€ç§å®ç°æ–¹æ¡ˆï¼Œå³å¯ä»¥è®©æ¯ä¸ªä»»åŠ¡ä¾æ¬¡è®­ç»ƒï¼Œæ¯æ¬¡åªè®­ç»ƒä¸€ä¸ªä»»åŠ¡ï¼Œç„¶åå°†æ¯ä¸ªä»»åŠ¡çš„æ¢¯åº¦å½’ä¸€åŒ–åç´¯ç§¯èµ·æ¥å†æ›´æ–°ï¼Œè¿™æ ·å°±å…é™¤äº†åœ¨å®šä¹‰æŸå¤±å‡½æ•°çš„æ—¶å€™å°±è¦ç®—æ¢¯åº¦çš„éº»çƒ¦äº†ã€‚</p>
<p>å…³äºæ¢¯åº¦å½’ä¸€åŒ–ï¼Œç¬”è€…èƒ½æ‰¾åˆ°ç›¸å…³å·¥ä½œæ˜¯<a href="https://papers.cool/arxiv/1711.02257">ã€ŠGradNorm: Gradient Normalization for Adaptive Loss Balancing in Deep Multitask Networksã€‹</a>ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯å¼$\eqref{eq:init}$å’Œå¼$\eqref{eq:grad-norm}$çš„æ··åˆï¼Œé‡Œè¾¹ä¹ŸåŒ…å«äº†å¯¹æ¢¯åº¦æ¨¡é•¿é‡æ–°æ ‡å®šçš„æ€æƒ³ï¼Œä½†å´è¦é€šè¿‡é¢å¤–çš„ä¼˜åŒ–æ¥ç¡®å®šä»»åŠ¡æƒé‡ï¼Œä¸ªäººè®¤ä¸ºæ˜¾å¾—ç¹çå’Œå†—ä½™äº†ã€‚</p>
<h2 id="_11">æœ¬æ–‡å°ç»“</h2>
<p>åœ¨æŸå¤±å‡½æ•°çš„è§†è§’ä¸‹ï¼Œå¤šä»»åŠ¡å­¦ä¹ çš„å…³é”®é—®é¢˜æ˜¯å¦‚ä½•è°ƒèŠ‚æ¯ä¸ªä»»åŠ¡çš„æƒé‡æ¥å¹³è¡¡å„è‡ªçš„æŸå¤±ï¼Œæœ¬æ–‡ä»ç¼©æ”¾ä¸å˜å’Œå¹³ç§»ä¸å˜ä¸¤ä¸ªè§’åº¦ä»‹ç»äº†ä¸€äº›å‚è€ƒåšæ³•ï¼Œå¹¶è¡¥å……äº†â€œå¹¿ä¹‰å¹³å‡â€çš„æ¦‚å¿µï¼Œå°†å¤šä¸ªä»»åŠ¡çš„æƒé‡è°ƒèŠ‚è½¬åŒ–ä¸ºå•ä¸ªå‚æ•°çš„è°ƒèŠ‚é—®é¢˜ï¼Œå¯ä»¥ç®€åŒ–è°ƒå‚éš¾åº¦ã€‚</p>
<p><em><strong>è½¬è½½åˆ°è¯·åŒ…æ‹¬æœ¬æ–‡åœ°å€ï¼š</strong><a href="https://spaces.ac.cn/archives/8870">https://spaces.ac.cn/archives/8870</a></em></p>
<p><em><strong>æ›´è¯¦ç»†çš„è½¬è½½äº‹å®œè¯·å‚è€ƒï¼š</strong></em><a href="https://spaces.ac.cn/archives/6508#%E6%96%87%E7%AB%A0%E5%A6%82%E4%BD%95%E8%BD%AC%E8%BD%BD/%E5%BC%95%E7%94%A8" title="ã€Šç§‘å­¦ç©ºé—´FAQã€‹">ã€Šç§‘å­¦ç©ºé—´FAQã€‹</a></p>
<p><strong>å¦‚æœæ‚¨è¿˜æœ‰ä»€ä¹ˆç–‘æƒ‘æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹è¯„è®ºåŒºç»§ç»­è®¨è®ºã€‚</strong></p>
<p><strong>å¦‚æœæ‚¨è§‰å¾—æœ¬æ–‡è¿˜ä¸é”™ï¼Œæ¬¢è¿åˆ†äº«/æ‰“èµæœ¬æ–‡ã€‚æ‰“èµå¹¶éè¦ä»ä¸­è·å¾—æ”¶ç›Šï¼Œè€Œæ˜¯å¸Œæœ›çŸ¥é“ç§‘å­¦ç©ºé—´è·å¾—äº†å¤šå°‘è¯»è€…çš„çœŸå¿ƒå…³æ³¨ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æ— è§†å®ƒï¼Œä¹Ÿä¸ä¼šå½±å“ä½ çš„é˜…è¯»ã€‚å†æ¬¡è¡¨ç¤ºæ¬¢è¿å’Œæ„Ÿè°¢ï¼</strong></p>
<p>æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/wx.png" /></p>
<p>å¾®ä¿¡æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/zfb.png" /></p>
<p>æ”¯ä»˜å®æ‰“èµ</p>
<p>å› ä¸ºç½‘ç«™åå°å¯¹æ‰“èµå¹¶æ— è®°å½•ï¼Œå› æ­¤æ¬¢è¿åœ¨æ‰“èµæ—¶å€™å¤‡æ³¨ç•™è¨€ã€‚ä½ è¿˜å¯ä»¥<a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=tN7d1drY3drrx8H0xcWa19vZ"><strong>ç‚¹å‡»è¿™é‡Œ</strong></a>æˆ–åœ¨ä¸‹æ–¹è¯„è®ºåŒºç•™è¨€æ¥å‘ŠçŸ¥ä½ çš„å»ºè®®æˆ–éœ€æ±‚ã€‚</p>
<p><strong>å¦‚æœæ‚¨éœ€è¦å¼•ç”¨æœ¬æ–‡ï¼Œè¯·å‚è€ƒï¼š</strong></p>
<p>è‹å‰‘æ—. (Jan. 18, 2022). ã€Šå¤šä»»åŠ¡å­¦ä¹ æ¼«è°ˆï¼ˆä¸€ï¼‰ï¼šä»¥æŸå¤±ä¹‹å ã€‹[Blog post]. Retrieved from <a href="https://spaces.ac.cn/archives/8870">https://spaces.ac.cn/archives/8870</a></p>
<p>@online{kexuefm-8870,<br />
title={å¤šä»»åŠ¡å­¦ä¹ æ¼«è°ˆï¼ˆä¸€ï¼‰ï¼šä»¥æŸå¤±ä¹‹å},<br />
author={è‹å‰‘æ—},<br />
year={2022},<br />
month={Jan},<br />
url={\url{https://spaces.ac.cn/archives/8870}},<br />
} </p>
<hr />
<h2 id="_12">å…¬å¼æ¨å¯¼ä¸æ³¨é‡Š</h2>
<h3 id="1">1. å¤šç›®æ ‡ä¼˜åŒ–åŸºç¡€</h3>
<p><strong>å®šä¹‰1.1 (Paretoæœ€ä¼˜)</strong></p>
<p>å¯¹äºå¤šç›®æ ‡é—®é¢˜$\min_\theta (\mathcal{L}_1(\theta), \ldots, \mathcal{L}_n(\theta))$ï¼Œè§£$\theta^*$æ˜¯Paretoæœ€ä¼˜çš„å½“ä¸”ä»…å½“ä¸å­˜åœ¨$\theta$ä½¿å¾—æ‰€æœ‰ç›®æ ‡éƒ½ä¸worseä¸”è‡³å°‘ä¸€ä¸ªbetterã€‚</p>
<p>\begin{equation}
\mathcal{P} = {\theta^<em> : \not\exists \theta, \mathcal{L}_i(\theta) \leq \mathcal{L}_i(\theta^</em>) \ \forall i \wedge \exists j, \mathcal{L}_j(\theta) &lt; \mathcal{L}_j(\theta^*)}
\tag{1}
\end{equation}</p>
<p><strong>å®šç†1.1</strong>: åŠ æƒæ±‚å’Œæ–¹æ³•$\theta^* \in \arg\min_\theta \sum_i \alpha_i \mathcal{L}_i(\theta)$çš„è§£å¿…åœ¨Paretoå‰æ²¿ä¸Šï¼ˆå½“$\alpha_i &gt; 0$ï¼‰ã€‚</p>
<p><strong>è¯æ˜</strong>: åè¯æ³•ã€‚è‹¥$\theta^<em>$ä¸Paretoæœ€ä¼˜ï¼Œå­˜åœ¨$\theta'$ä½¿æ‰€æœ‰ä»»åŠ¡ä¸worseä¸”è‡³å°‘ä¸€ä¸ªbetterï¼Œåˆ™$\sum \alpha_i \mathcal{L}_i(\theta') &lt; \sum \alpha_i \mathcal{L}_i(\theta^</em>)$ï¼ŒçŸ›ç›¾ã€‚</p>
<h3 id="2">2. åˆå§‹çŠ¶æ€å½’ä¸€åŒ–è¯¦è§£</h3>
<p><strong>åŠ¨æœº</strong>: ä¸åŒä»»åŠ¡çš„æŸå¤±é‡çº²å’Œé‡çº§å¯èƒ½å·®å¼‚å·¨å¤§ï¼š
- åˆ†ç±»ä»»åŠ¡: $\mathcal{L} \in [0, \log K]$
- å›å½’ä»»åŠ¡: $\mathcal{L} \in [0, +\infty)$</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>:
\begin{equation}
\tilde{\mathcal{L}}_i = \frac{\mathcal{L}_i}{\mathcal{L}_i^{(init)}}
\tag{2}
\end{equation}</p>
<p><strong>æ€§è´¨2.1 (ç¼©æ”¾ä¸å˜æ€§)</strong>:
\begin{equation}
\frac{c\mathcal{L}_i}{c\mathcal{L}_i^{(init)}} = \frac{\mathcal{L}_i}{\mathcal{L}_i^{(init)}}
\tag{3}
\end{equation}</p>
<p><strong>åˆå§‹æŸå¤±ç†è®ºå€¼</strong>:
- Kåˆ†ç±»+äº¤å‰ç†µ+å‡åŒ€åˆå§‹åŒ–: $-\log(1/K) = \log K$
- å›å½’+MSE+é›¶åˆå§‹åŒ–: $\mathbb{E}[|y|^2]$
- äºŒåˆ†ç±»+BCE: $\log 2$</p>
<h3 id="3">3. å…ˆéªŒåˆ†å¸ƒæ–¹æ³•</h3>
<p><strong>æ”¹è¿›</strong>: ç”¨å…ˆéªŒæŸå¤±ä»£æ›¿åˆå§‹æŸå¤±
\begin{equation}
\mathcal{L}<em _mathcal_D="\mathcal{D" _sim="\sim" y="y">i^{(prior)} = \mathbb{E}</em><em prior="prior">i}[\ell(f</em>(x), y)]
\tag{4}
\end{equation}</p>
<p><strong>Kåˆ†ç±»çš„å…ˆéªŒæŸå¤±</strong>: è®¾ç±»åˆ«åˆ†å¸ƒä¸º$p = [p_1, \ldots, p_K]$ï¼Œæ¨¡å‹é¢„æµ‹ä¸º$p$ï¼š
\begin{equation}
\mathcal{L}^{(prior)} = \mathbb{E}_y[-\log p_y] = -\sum_k p_k \log p_k = H(p)
\tag{5}
\end{equation}</p>
<p><strong>æ•°å€¼ç¤ºä¾‹</strong>:
- å‡åŒ€(K=10): $H = \log 10 \approx 2.303$
- [0.8, 0.2]: $H \approx 0.722$
- [0.99, 0.01]: $H \approx 0.081$</p>
<p><strong>å›å½’çš„å…ˆéªŒæŸå¤±</strong>: é¢„æµ‹å‡å€¼$\mu = \mathbb{E}[y]$ï¼š
\begin{equation}
\mathcal{L}^{(prior)} = \mathbb{E}[|y - \mu|^2] = \text{Var}(y)
\tag{6}
\end{equation}</p>
<h3 id="4">4. å®æ—¶åŠ¨æ€è°ƒæ•´</h3>
<p><strong>æ–¹æ³•</strong>:
\begin{equation}
\mathcal{L} = \sum_i \frac{\mathcal{L}_i}{\text{sg}(\mathcal{L}_i)}
\tag{7}
\end{equation}</p>
<p>å…¶ä¸­$\text{sg}$è¡¨ç¤ºstop_gradientç®—å­ã€‚</p>
<p><strong>æ¢¯åº¦è®¡ç®—</strong>:
\begin{equation}
\nabla_\theta \frac{\mathcal{L}<em>i}{\text{sg}(\mathcal{L}_i)} = \frac{\nabla</em>\theta \mathcal{L}_i}{\mathcal{L}_i}
\tag{8}
\end{equation}</p>
<p><strong>ç­‰ä»·æ€§</strong>:
\begin{equation}
\frac{\nabla_\theta \mathcal{L}<em>i}{\mathcal{L}_i} = \nabla</em>\theta \log \mathcal{L}_i
\tag{9}
\end{equation}</p>
<p>å› æ­¤ä¼˜åŒ–å¼(7)ç­‰ä»·äºä¼˜åŒ–$\sum_i \log \mathcal{L}_i$ã€‚</p>
<h3 id="5">5. å‡ ä½•å¹³å‡æ¨å¯¼</h3>
<p><strong>å®šç†5.1</strong>:
\begin{equation}
\sum_i \log \mathcal{L}_i = \log \prod_i \mathcal{L}_i = n \log \left(\prod_i \mathcal{L}_i\right)^{1/n}
\tag{10}
\end{equation}</p>
<p><strong>å®šä¹‰</strong>: å‡ ä½•å¹³å‡$GM = \left(\prod_i \mathcal{L}_i\right)^{1/n}$</p>
<p><strong>æ€§è´¨</strong>: å¯¹å¼‚å¸¸å€¼æ›´é²æ£’
\begin{equation}
GM(1, 100) = 10 \ll AM(1, 100) = 50.5
\tag{11}
\end{equation}</p>
<h3 id="6">6. å¹¿ä¹‰å¹³å‡ç†è®º</h3>
<p><strong>å®šä¹‰6.1 (å¹‚å¹³å‡)</strong>:
\begin{equation}
M_\gamma(\mathcal{L}) = \left(\frac{1}{n}\sum_i \mathcal{L}_i^\gamma\right)^{1/\gamma}
\tag{12}
\end{equation}</p>
<p><strong>ç‰¹æ®Šå€¼</strong>:
- $\gamma = -\infty$: $\min$
- $\gamma = -1$: è°ƒå’Œå¹³å‡
- $\gamma = 0$: å‡ ä½•å¹³å‡
- $\gamma = 1$: ç®—æœ¯å¹³å‡
- $\gamma = 2$: å¹³æ–¹å¹³å‡
- $\gamma = +\infty$: $\max$</p>
<p><strong>å•è°ƒæ€§</strong>:
\begin{equation}
\gamma_1 &lt; \gamma_2 \implies M_{\gamma_1} \leq M_{\gamma_2}
\tag{13}
\end{equation}</p>
<p><strong>ç›´è§‰</strong>: $\gamma$è¶Šå¤§ï¼Œè¶Šå…³æ³¨æœ€å¤§çš„æŸå¤±ï¼›$\gamma$è¶Šå°ï¼Œè¶Šå…³æ³¨æœ€å°çš„æŸå¤±ã€‚</p>
<h3 id="7">7. æ¢¯åº¦å½’ä¸€åŒ–æ·±å…¥åˆ†æ</h3>
<p><strong>å…¬å¼</strong>:
\begin{equation}
\mathcal{L} = \sum_i \frac{\mathcal{L}<em>i}{|\nabla</em>\theta \mathcal{L}_i|^{(\text{sg})}}
\tag{14}
\end{equation}</p>
<p><strong>æ¢¯åº¦</strong>:
\begin{equation}
\nabla_\theta \mathcal{L} = \sum_i \frac{\nabla_\theta \mathcal{L}<em>i}{|\nabla</em>\theta \mathcal{L}_i|} = \sum_i \hat{g}_i
\tag{15}
\end{equation}</p>
<p><strong>å‡ ä½•æ„ä¹‰</strong>: æ¯ä¸ªä»»åŠ¡è´¡çŒ®å•ä½é•¿åº¦çš„æ¢¯åº¦å‘é‡ï¼Œæœ€ç»ˆæ¢¯åº¦æ˜¯è¿™äº›å•ä½å‘é‡çš„å’Œã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>:
1. è‡ªåŠ¨å¹³è¡¡ä¸åŒå°ºåº¦çš„æ¢¯åº¦
2. å¹³ç§»ä¸å˜æ€§
3. ç¼©æ”¾ä¸å˜æ€§</p>
<p><strong>ç¼ºç‚¹</strong>:
1. å¯èƒ½ä¸ç¨³å®šï¼ˆæ¢¯åº¦æ¥è¿‘0æ—¶ï¼‰
2. è®¡ç®—å¼€é”€è¾ƒå¤§</p>
<h3 id="8">8. å¹³ç§»ä¸å˜æ€§è¯æ˜</h3>
<p><strong>å®šä¹‰</strong>: å‡½æ•°$F$æ¢¯åº¦å¹³ç§»ä¸å˜ï¼š
\begin{equation}
\nabla_\theta F(\mathcal{L}<em>1+c, \ldots, \mathcal{L}_n+c) = \nabla</em>\theta F(\mathcal{L}_1, \ldots, \mathcal{L}_n)
\tag{16}
\end{equation}</p>
<p><strong>å®šç†8.1</strong>: æ¢¯åº¦å½’ä¸€åŒ–æ»¡è¶³æ¢¯åº¦å¹³ç§»ä¸å˜æ€§ã€‚</p>
<p><strong>è¯æ˜</strong>: å¯¹ä»»æ„å¸¸æ•°$c$ï¼š
\begin{equation}
\begin{aligned}
\nabla(\mathcal{L}_i + c) &amp;= \nabla \mathcal{L}_i \
|\nabla(\mathcal{L}_i + c)| &amp;= |\nabla \mathcal{L}_i|
\end{aligned}
\tag{17}
\end{equation}</p>
<p>å› æ­¤æ¢¯åº¦æ–¹å‘å’Œå½’ä¸€åŒ–åçš„æ¢¯åº¦ä¸å˜ã€‚</p>
<h3 id="9">9. ä¸ç¡®å®šæ€§åŠ æƒï¼ˆè´å¶æ–¯è§†è§’ï¼‰</h3>
<p><strong>æ¨¡å‹</strong>: ä»»åŠ¡$i$çš„è§‚æµ‹å™ªå£°$\sigma_i$ï¼š
\begin{equation}
p(y_i|\theta, \sigma_i) = \mathcal{N}(f_i(\theta), \sigma_i^2)
\tag{18}
\end{equation}</p>
<p><strong>è´Ÿå¯¹æ•°ä¼¼ç„¶</strong>:
\begin{equation}
-\log p(y_i|\theta, \sigma_i) = \frac{|y_i - f_i(\theta)|^2}{2\sigma_i^2} + \log \sigma_i + \text{const}
\tag{19}
\end{equation}</p>
<p><strong>å¤šä»»åŠ¡ç›®æ ‡</strong>:
\begin{equation}
\mathcal{L}_{total} = \sum_i \left(\frac{\mathcal{L}_i}{2\sigma_i^2} + \log \sigma_i\right)
\tag{20}
\end{equation}</p>
<p><strong>å­¦ä¹ $\sigma_i$</strong>: å¯¹$\sigma_i$æ±‚å¯¼ï¼š
\begin{equation}
\frac{\partial \mathcal{L}}{\partial \sigma_i} = -\frac{\mathcal{L}_i}{\sigma_i^3} + \frac{1}{\sigma_i} = 0 \implies \sigma_i^2 = \mathcal{L}_i
\tag{21}
\end{equation}</p>
<p><strong>è§£é‡Š</strong>: ä¸ç¡®å®šæ€§å¤§çš„ä»»åŠ¡æƒé‡å°ã€‚</p>
<h3 id="10-gradnorm">10. GradNormæ–¹æ³•</h3>
<p><strong>ç›®æ ‡</strong>: åŠ¨æ€è°ƒæ•´æƒé‡$w_i$ä½¿æ¢¯åº¦å¹³è¡¡ï¼š
\begin{equation}
|\nabla_\theta(w_i \mathcal{L}_i)| \approx \bar{G} \cdot r_i^\alpha
\tag{22}
\end{equation}</p>
<p>å…¶ä¸­ï¼š
- $\bar{G} = \frac{1}{n}\sum_j |\nabla_\theta(w_j \mathcal{L}_j)|$: å¹³å‡æ¢¯åº¦æ¨¡
- $r_i(t) = \mathcal{L}_i(t) / \mathcal{L}_i(0)$: ç›¸å¯¹è®­ç»ƒé€Ÿåº¦
- $\alpha$: æ§åˆ¶å‚æ•°</p>
<p><strong>æƒé‡æ›´æ–°</strong>:
\begin{equation}
L_{grad} = \sum_i \left||\nabla_\theta(w_i \mathcal{L}_i)| - \bar{G} \cdot r_i^\alpha\right|
\tag{23}
\end{equation}</p>
<p>å¯¹$w_i$æ¢¯åº¦ä¸‹é™æ›´æ–°ã€‚</p>
<h3 id="11-pcgrad">11. PCGrad: å¤„ç†æ¢¯åº¦å†²çª</h3>
<p><strong>æ£€æµ‹å†²çª</strong>: å½“$\langle g_i, g_j \rangle &lt; 0$æ—¶ï¼Œä»»åŠ¡$i$å’Œ$j$å†²çªã€‚</p>
<p><strong>æŠ•å½±ä¿®æ­£</strong>:
\begin{equation}
\tilde{g}_i = g_i - \frac{\langle g_i, g_j \rangle}{|g_j|^2} g_j
\tag{24}
\end{equation}</p>
<p><strong>å‡ ä½•æ„ä¹‰</strong>: å°†$g_i$åœ¨$g_j$æ–¹å‘çš„è´Ÿåˆ†é‡æŠ•å½±æ‰ã€‚</p>
<p><strong>ç®—æ³•</strong>:</p>
<div class="codehilite"><pre><span></span><code>for each task i:
    compute g_i
    for each task j != i:
        if &lt;g_i, g_j&gt; &lt; 0:
            g_i = g_i - proj_g_j(g_i)
update with g_i
</code></pre></div>

<h3 id="12">12. æ•°å€¼ç¤ºä¾‹</h3>
<p><strong>åœºæ™¯</strong>: 2ä»»åŠ¡
- ä»»åŠ¡1: $\mathcal{L}_1 = (\theta - 2)^2$
- ä»»åŠ¡2: $\mathcal{L}_2 = (\theta + 1)^2$</p>
<p><strong>æ¢¯åº¦</strong>:
- $\nabla \mathcal{L}_1 = 2(\theta - 2)$
- $\nabla \mathcal{L}_2 = 2(\theta + 1)$</p>
<p><strong>æ–¹æ³•å¯¹æ¯”</strong>:</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æ¢¯åº¦</th>
<th>æœ€ä¼˜è§£</th>
</tr>
</thead>
<tbody>
<tr>
<td>å‡åŒ€åŠ æƒ</td>
<td>$2(\theta-2) + 2(\theta+1) = 4\theta - 2$</td>
<td>$\theta = 0.5$</td>
</tr>
<tr>
<td>æ¢¯åº¦å½’ä¸€</td>
<td>$\text{sign}(\theta-2) + \text{sign}(\theta+1)$</td>
<td>$\theta \in [-1, 2]$</td>
</tr>
<tr>
<td>å‡ ä½•å¹³å‡</td>
<td>ä¼˜åŒ–$\sqrt{\mathcal{L}_1 \mathcal{L}_2}$</td>
<td>$\theta = 0.5$</td>
</tr>
</tbody>
</table>
<h3 id="13">13. ç†è®ºæ€§è´¨</h3>
<p><strong>å®šç†13.1 (å‡¸æ€§)</strong>:
- åŠ æƒæ±‚å’Œä¿æŒå‡¸æ€§
- å¯¹æ•°æ±‚å’Œä¸ä¿æŒå‡¸æ€§
- å¹‚å¹³å‡($\gamma \geq 1$)ä¿æŒå‡¸æ€§</p>
<p><strong>å®šç†13.2 (Lipschitzæ€§)</strong>:
è®¾$\mathcal{L}_i$æ˜¯$L_i$-Lipschitzï¼š
- åŠ æƒæ±‚å’Œ: $L = \sum_i \alpha_i L_i$
- æœ€å¤§å€¼: $L = \max_i L_i$
- æ¢¯åº¦å½’ä¸€åŒ–: $L = n$</p>
<h3 id="14">14. å®è·µå»ºè®®</h3>
<p><strong>é€‰æ‹©æµç¨‹</strong>:
1. æŸå¤±é‡çº²ç›¸åŒ â†’ å‡åŒ€åŠ æƒ
2. é‡çº²ä¸åŒ â†’ åˆå§‹/å…ˆéªŒå½’ä¸€åŒ–
3. åŠ¨æ€å¹³è¡¡ â†’ å®æ—¶å½’ä¸€åŒ–
4. è¿½æ±‚æ€§èƒ½ â†’ æ¢¯åº¦å½’ä¸€åŒ– + è°ƒ$\gamma$</p>
<p><strong>è¶…å‚æ•°</strong>:
- $\gamma \in [-2, 3]$
- æ¨èèµ·ç‚¹: $\gamma = 0$
- ä¸ç¡®å®šæ€§åŠ æƒ: åˆå§‹$\sigma_i = 1$</p>
<h3 id="15">15. å®ç°ç¤ºä¾‹</h3>
<p><strong>æ¢¯åº¦å½’ä¸€åŒ–</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">grad_norm_loss</span><span class="p">(</span><span class="n">losses</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
    <span class="n">grads</span> <span class="o">=</span> <span class="p">[</span><span class="n">torch</span><span class="o">.</span><span class="n">autograd</span><span class="o">.</span><span class="n">grad</span><span class="p">(</span><span class="n">L</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">retain_graph</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
             <span class="k">for</span> <span class="n">L</span> <span class="ow">in</span> <span class="n">losses</span><span class="p">]</span>
    <span class="n">norm_grads</span> <span class="o">=</span> <span class="p">[</span><span class="n">g</span> <span class="o">/</span> <span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">g</span><span class="p">)</span> <span class="o">+</span> <span class="mf">1e-8</span><span class="p">)</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">grads</span><span class="p">]</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">norm_grads</span><span class="p">)</span>
</code></pre></div>

<p><strong>å¹‚å¹³å‡</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">power_mean</span><span class="p">(</span><span class="n">losses</span><span class="p">,</span> <span class="n">gamma</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">gamma</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">torch</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">losses</span> <span class="o">+</span> <span class="mf">1e-8</span><span class="p">)))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">torch</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">losses</span> <span class="o">**</span> <span class="n">gamma</span><span class="p">)</span> <span class="o">**</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">gamma</span><span class="p">)</span>
</code></pre></div>

<h3 id="16">16. å±€é™ä¸æœªæ¥æ–¹å‘</h3>
<p><strong>å±€é™</strong>:
1. åŠ æƒæ±‚å’Œæ— æ³•è¦†ç›–æ‰€æœ‰Paretoæœ€ä¼˜è§£
2. è¶…å‚æ•°éœ€è¦ä»»åŠ¡ç‰¹å®šè°ƒä¼˜
3. è®¡ç®—å¼€é”€å¯èƒ½è¾ƒå¤§</p>
<p><strong>æœªæ¥</strong>:
1. å…ƒå­¦ä¹ è‡ªåŠ¨æƒé‡
2. åœ¨çº¿å­¦ä¹ ç­–ç•¥
3. ä»»åŠ¡å…³ç³»å»ºæ¨¡
4. ç†è®ºä¿è¯ç®—æ³•</p>
<h3 id="17">17. æ€»ç»“</h3>
<p><strong>å…³é”®å…¬å¼</strong>:
- åŠ æƒ: $\sum_i \alpha_i \mathcal{L}_i$
- å®æ—¶: $\sum_i \mathcal{L}_i / \text{sg}(\mathcal{L}_i)$
- æ¢¯åº¦: $\sum_i \nabla \mathcal{L}_i / |\nabla \mathcal{L}_i|$
- å¹‚å‡: $(\frac{1}{n}\sum_i \mathcal{L}_i^\gamma)^{1/\gamma}$</p>
<p><strong>åŸåˆ™</strong>:
- ç®€å•ä¼˜å…ˆ
- å®éªŒé©±åŠ¨
- ä»»åŠ¡ç‰¹å®š</p>
<hr />
<h2 id="_13">æ·±å…¥æ¨å¯¼éƒ¨åˆ†</h2>
<h3 id="18-pareto">18. Paretoæœ€ä¼˜çš„æ·±å…¥ç†è®º</h3>
<p><strong>å®šä¹‰18.1 (å¼ºParetoæœ€ä¼˜)</strong></p>
<p>ç‚¹$\theta^<em>$æ˜¯å¼ºParetoæœ€ä¼˜çš„ï¼Œå½“ä¸”ä»…å½“ä¸å­˜åœ¨$\theta \neq \theta^</em>$ä½¿å¾—ï¼š
\begin{equation}
\mathcal{L}_i(\theta) \leq \mathcal{L}_i(\theta^*), \quad \forall i \in {1,\ldots,n}
\tag{25}
\end{equation}</p>
<p><strong>å®šä¹‰18.2 (å¼±Paretoæœ€ä¼˜)</strong></p>
<p>ç‚¹$\theta^<em>$æ˜¯å¼±Paretoæœ€ä¼˜çš„ï¼Œå½“ä¸”ä»…å½“ä¸å­˜åœ¨$\theta$ä½¿å¾—ï¼š
\begin{equation}
\mathcal{L}_i(\theta) &lt; \mathcal{L}_i(\theta^</em>), \quad \forall i \in {1,\ldots,n}
\tag{26}
\end{equation}</p>
<p><strong>å®šç†18.1 (åŠ æƒæ±‚å’Œä¸Paretoæœ€ä¼˜)</strong></p>
<p>å‡è®¾$\mathcal{L}_i$éƒ½æ˜¯å‡¸å‡½æ•°ï¼Œ$\alpha_i &gt; 0$ã€‚è‹¥$\theta^<em>$æœ€å°åŒ–$\sum_i \alpha_i \mathcal{L}_i(\theta)$ï¼Œåˆ™$\theta^</em>$æ˜¯Paretoæœ€ä¼˜çš„ã€‚</p>
<p><strong>è¯æ˜</strong>ï¼š</p>
<p>åè¯æ³•ã€‚å‡è®¾$\theta^<em>$ä¸æ˜¯Paretoæœ€ä¼˜ï¼Œåˆ™å­˜åœ¨$\theta'$ä½¿å¾—ï¼š
\begin{equation}
\mathcal{L}_i(\theta') \leq \mathcal{L}_i(\theta^</em>), \quad \forall i
\tag{27}
\end{equation}</p>
<p>ä¸”è‡³å°‘å­˜åœ¨ä¸€ä¸ª$j$ä½¿å¾—ä¸¥æ ¼ä¸ç­‰å·æˆç«‹ï¼š
\begin{equation}
\mathcal{L}_j(\theta') &lt; \mathcal{L}_j(\theta^*)
\tag{28}
\end{equation}</p>
<p>å› ä¸º$\alpha_i &gt; 0$ï¼Œæˆ‘ä»¬æœ‰ï¼š
\begin{equation}
\begin{aligned}
\sum_i \alpha_i \mathcal{L}<em i_neq="i\neq" j="j">i(\theta') &amp;= \alpha_j \mathcal{L}_j(\theta') + \sum</em>_i(\theta') \
&amp;&lt; \alpha_j \mathcal{L}_j(\theta^} \alpha_i \mathcal{L<em>) + \sum_{i\neq j} \alpha_i \mathcal{L}_i(\theta^</em>) \
&amp;= \sum_i \alpha_i \mathcal{L}_i(\theta^*)
\end{aligned}
\tag{29}
\end{equation}</p>
<p>è¿™ä¸$\theta^<em>$æ˜¯æœ€ä¼˜è§£çŸ›ç›¾ã€‚å› æ­¤$\theta^</em>$å¿…æ˜¯Paretoæœ€ä¼˜ã€‚$\square$</p>
<p><strong>å®šç†18.2 (é€†å®šç†)</strong></p>
<p>è‹¥$\theta^<em>$æ˜¯Paretoæœ€ä¼˜ä¸”æ»¡è¶³çº¦æŸè§„èŒƒæ¡ä»¶ï¼ˆconstraint qualificationï¼‰ï¼Œåˆ™å­˜åœ¨$\alpha_i \geq 0$ï¼ˆä¸å…¨ä¸º0ï¼‰ä½¿å¾—$\theta^</em>$æœ€å°åŒ–$\sum_i \alpha_i \mathcal{L}_i(\theta)$ã€‚</p>
<p><strong>è¯æ˜è¦ç‚¹</strong>ï¼šåˆ©ç”¨åˆ†ç¦»è¶…å¹³é¢å®šç†ã€‚è®¾Paretoæœ€ä¼˜è§£å¯¹åº”çš„æŸå¤±å‘é‡ä¸º$\boldsymbol{\ell}^<em> = (\mathcal{L}_1(\theta^</em>), \ldots, \mathcal{L}_n(\theta^*))$ã€‚</p>
<p>å®šä¹‰å¯è¾¾é›†ï¼š
\begin{equation}
\mathcal{A} = {\boldsymbol{\ell} : \boldsymbol{\ell} = (\mathcal{L}_1(\theta), \ldots, \mathcal{L}_n(\theta)), \theta \in \Theta}
\tag{30}
\end{equation}</p>
<p>å®šä¹‰æ”¯é…é”¥ï¼š
\begin{equation}
\mathcal{C} = {\boldsymbol{\ell}^* - \boldsymbol{v} : \boldsymbol{v} \geq 0, \boldsymbol{v} \neq 0}
\tag{31}
\end{equation}</p>
<p>å› ä¸º$\theta^*$æ˜¯Paretoæœ€ä¼˜ï¼Œæ‰€ä»¥$\mathcal{A} \cap \mathcal{C} = \emptyset$ã€‚</p>
<p>æ ¹æ®åˆ†ç¦»è¶…å¹³é¢å®šç†ï¼Œå­˜åœ¨éé›¶å‘é‡$\boldsymbol{\alpha} = (\alpha_1, \ldots, \alpha_n)$å’Œå¸¸æ•°$c$ä½¿å¾—ï¼š
\begin{equation}
\langle \boldsymbol{\alpha}, \boldsymbol{\ell} \rangle \geq c \geq \langle \boldsymbol{\alpha}, \boldsymbol{\ell}^* - \boldsymbol{v} \rangle, \quad \forall \boldsymbol{\ell} \in \mathcal{A}, \boldsymbol{v} \in \mathcal{C}
\tag{32}
\end{equation}</p>
<p>å¯ä»¥è¯æ˜$\alpha_i \geq 0$ï¼Œä¸”$\theta^*$æœ€å°åŒ–$\sum_i \alpha_i \mathcal{L}_i(\theta)$ã€‚$\square$</p>
<p><strong>å‡ ä½•è§£é‡Š</strong>ï¼š</p>
<p>åœ¨æŸå¤±ç©ºé—´$\mathbb{R}^n$ä¸­ï¼ŒParetoå‰æ²¿å½¢æˆä¸€ä¸ªè¶…æ›²é¢ã€‚åŠ æƒæ±‚å’Œæ–¹æ³•ç›¸å½“äºç”¨çº¿æ€§å‡½æ•°$\sum_i \alpha_i \ell_i$å»è§¦ç¢°è¿™ä¸ªè¶…æ›²é¢ã€‚ä¸åŒçš„æƒé‡$\boldsymbol{\alpha}$å¯¹åº”ä¸åŒçš„è§¦ç¢°ç‚¹ã€‚</p>
<p><strong>æ•°å€¼ä¾‹å­</strong>ï¼š</p>
<p>è€ƒè™‘ä¸¤ä¸ªä»»åŠ¡ï¼ŒæŸå¤±å‡½æ•°ä¸ºï¼š
\begin{equation}
\begin{aligned}
\mathcal{L}_1(\theta) &amp;= (\theta_1 - 1)^2 + (\theta_2 - 1)^2 \
\mathcal{L}_2(\theta) &amp;= (\theta_1 + 1)^2 + (\theta_2 + 1)^2
\end{aligned}
\tag{33}
\end{equation}</p>
<p>Paretoå‰æ²¿æ˜¯è¿æ¥$(0, 0)$å’Œ$(8, 8)$çš„ä¸€æ®µæ›²çº¿ã€‚</p>
<p>å¯¹äºæƒé‡$(\alpha_1, \alpha_2) = (0.5, 0.5)$ï¼š
\begin{equation}
\begin{aligned}
\mathcal{L} &amp;= 0.5[(\theta_1-1)^2 + (\theta_2-1)^2] + 0.5[(\theta_1+1)^2 + (\theta_2+1)^2] \
&amp;= \theta_1^2 + \theta_2^2 + 2
\end{aligned}
\tag{34}
\end{equation}</p>
<p>æœ€ä¼˜è§£ï¼š$\theta^* = (0, 0)$ï¼Œæ­¤æ—¶$\mathcal{L}_1 = \mathcal{L}_2 = 2$ã€‚</p>
<p>å¯¹äºæƒé‡$(0.9, 0.1)$ï¼š
\begin{equation}
\mathcal{L} = 0.9[(\theta_1-1)^2 + (\theta_2-1)^2] + 0.1[(\theta_1+1)^2 + (\theta_2+1)^2]
\tag{35}
\end{equation}</p>
<p>æ¢¯åº¦ä¸ºé›¶ï¼š
\begin{equation}
\nabla\mathcal{L} = 2[0.9(\theta - 1) + 0.1(\theta + 1)] = 0
\tag{36}
\end{equation}</p>
<p>è§£å¾—$\theta^* = (0.8, 0.8)$ï¼Œæ­¤æ—¶$\mathcal{L}_1 = 0.08$ï¼Œ$\mathcal{L}_2 = 6.48$ã€‚</p>
<h3 id="19-kkt">19. å‡¸ä¼˜åŒ–åŸºç¡€ä¸KKTæ¡ä»¶</h3>
<p><strong>å®šä¹‰19.1 (å‡¸å‡½æ•°)</strong></p>
<p>å‡½æ•°$f: \mathbb{R}^d \to \mathbb{R}$æ˜¯å‡¸çš„ï¼Œå½“ä¸”ä»…å½“å¯¹æ‰€æœ‰$x, y \in \mathbb{R}^d$å’Œ$\lambda \in [0,1]$ï¼š
\begin{equation}
f(\lambda x + (1-\lambda)y) \leq \lambda f(x) + (1-\lambda) f(y)
\tag{37}
\end{equation}</p>
<p><strong>æ€§è´¨19.1</strong>ï¼šè‹¥$f$å¯å¾®ï¼Œåˆ™$f$æ˜¯å‡¸çš„å½“ä¸”ä»…å½“ï¼š
\begin{equation}
f(y) \geq f(x) + \langle \nabla f(x), y - x \rangle, \quad \forall x, y
\tag{38}
\end{equation}</p>
<p><strong>æ€§è´¨19.2</strong>ï¼šè‹¥$f$äºŒé˜¶å¯å¾®ï¼Œåˆ™$f$æ˜¯å‡¸çš„å½“ä¸”ä»…å½“HessiançŸ©é˜µ$\nabla^2 f(x)$åŠæ­£å®šã€‚</p>
<p><strong>å®šç†19.1 (å‡¸å‡½æ•°ä¿æŒæ€§)</strong></p>
<p>è®¾$f_1, \ldots, f_n$éƒ½æ˜¯å‡¸å‡½æ•°ï¼Œ$\alpha_i \geq 0$ï¼Œåˆ™ï¼š
\begin{equation}
f(x) = \sum_{i=1}^n \alpha_i f_i(x)
\tag{39}
\end{equation}</p>
<p>ä¹Ÿæ˜¯å‡¸å‡½æ•°ã€‚</p>
<p><strong>è¯æ˜</strong>ï¼š</p>
<p>\begin{equation}
\begin{aligned}
f(\lambda x + (1-\lambda)y) &amp;= \sum_i \alpha_i f_i(\lambda x + (1-\lambda)y) \
&amp;\leq \sum_i \alpha_i [\lambda f_i(x) + (1-\lambda) f_i(y)] \
&amp;= \lambda \sum_i \alpha_i f_i(x) + (1-\lambda) \sum_i \alpha_i f_i(y) \
&amp;= \lambda f(x) + (1-\lambda) f(y)
\end{aligned}
\tag{40}
\end{equation}</p>
<p>å› æ­¤$f$æ˜¯å‡¸çš„ã€‚$\square$</p>
<p><strong>å®šç†19.2 (å¯¹æ•°-å‡¸å‡½æ•°)</strong></p>
<p>è‹¥$f$æ˜¯å¯¹æ•°-å‡¸çš„ï¼ˆå³$\log f$æ˜¯å‡¸çš„ï¼‰ï¼Œåˆ™å‡ ä½•å¹³å‡$(\prod_i f_i)^{1/n}$ä¹Ÿæ˜¯å¯¹æ•°-å‡¸çš„ã€‚</p>
<p><strong>KKTæ¡ä»¶</strong>ï¼š</p>
<p>è€ƒè™‘çº¦æŸä¼˜åŒ–é—®é¢˜ï¼š
\begin{equation}
\begin{aligned}
\min_{\theta} \quad &amp; \sum_i \alpha_i \mathcal{L}_i(\theta) \
\text{s.t.} \quad &amp; g_j(\theta) \leq 0, \quad j = 1,\ldots,m \
&amp; h_k(\theta) = 0, \quad k = 1,\ldots,p
\end{aligned}
\tag{41}
\end{equation}</p>
<p>Lagrangianå‡½æ•°ï¼š
\begin{equation}
\mathcal{L}(\theta, \lambda, \mu) = \sum_i \alpha_i \mathcal{L}_i(\theta) + \sum_j \lambda_j g_j(\theta) + \sum_k \mu_k h_k(\theta)
\tag{42}
\end{equation}</p>
<p>KKTæ¡ä»¶ï¼š
\begin{equation}
\begin{aligned}
\nabla_\theta \mathcal{L} &amp;= 0 \quad \text{(ç¨³å®šæ€§)} \
g_j(\theta^<em>) &amp;\leq 0 \quad \text{(åŸå§‹å¯è¡Œæ€§)} \
\lambda_j &amp;\geq 0 \quad \text{(å¯¹å¶å¯è¡Œæ€§)} \
\lambda_j g_j(\theta^</em>) &amp;= 0 \quad \text{(äº’è¡¥æ¾å¼›æ€§)} \
h_k(\theta^*) &amp;= 0 \quad \text{(ç­‰å¼çº¦æŸ)}
\end{aligned}
\tag{43}
\end{equation}</p>
<p><strong>åº”ç”¨åˆ°å¤šä»»åŠ¡å­¦ä¹ </strong>ï¼š</p>
<p>è‹¥æˆ‘ä»¬å¸Œæœ›é™åˆ¶æŸä¸ªä»»åŠ¡çš„æŸå¤±ä¸è¶…è¿‡é˜ˆå€¼$\tau_i$ï¼š
\begin{equation}
\begin{aligned}
\min_{\theta} \quad &amp; \sum_i \alpha_i \mathcal{L}_i(\theta) \
\text{s.t.} \quad &amp; \mathcal{L}_i(\theta) \leq \tau_i, \quad i = 1,\ldots,n
\end{aligned}
\tag{44}
\end{equation}</p>
<p>KKTæ¡ä»¶ç»™å‡ºï¼š
\begin{equation}
\nabla_\theta \left[\sum_i \alpha_i \mathcal{L}_i(\theta) + \sum_i \lambda_i (\mathcal{L}_i(\theta) - \tau_i)\right] = 0
\tag{45}
\end{equation}</p>
<p>å³ï¼š
\begin{equation}
\sum_i (\alpha_i + \lambda_i) \nabla_\theta \mathcal{L}_i(\theta^*) = 0
\tag{46}
\end{equation}</p>
<p>è¿™ç›¸å½“äºç”¨åŠ¨æ€æƒé‡$\alpha_i + \lambda_i$ã€‚</p>
<h3 id="20">20. å¹¿ä¹‰å¹³å‡çš„å®Œæ•´ç†è®º</h3>
<p><strong>å®šä¹‰20.1 (HÃ¶lderå¹³å‡)</strong></p>
<p>å¯¹$p \in \mathbb{R} \cup {-\infty, +\infty}$ï¼Œå®šä¹‰ï¼š
\begin{equation}
M_p(x_1,\ldots,x_n) = \begin{cases}
\left(\frac{1}{n}\sum_{i=1}^n x_i^p\right)^{1/p} &amp; p \neq 0 \
\left(\prod_{i=1}^n x_i\right)^{1/n} &amp; p = 0 \
\max_i x_i &amp; p = +\infty \
\min_i x_i &amp; p = -\infty
\end{cases}
\tag{47}
\end{equation}</p>
<p><strong>å®šç†20.1 (å•è°ƒæ€§)</strong></p>
<p>å¯¹æ‰€æœ‰$p &lt; q$ï¼š
\begin{equation}
M_p(x_1,\ldots,x_n) \leq M_q(x_1,\ldots,x_n)
\tag{48}
\end{equation}</p>
<p><strong>è¯æ˜</strong> (å¯¹$p, q &gt; 0$çš„æƒ…å†µ)ï¼š</p>
<p>è®¾$a_i = x_i^p$ï¼Œ$r = q/p &gt; 1$ã€‚è¦è¯ï¼š
\begin{equation}
\left(\frac{1}{n}\sum_i a_i\right)^{1/p} \leq \left(\frac{1}{n}\sum_i a_i^r\right)^{1/q}
\tag{49}
\end{equation}</p>
<p>å³è¯ï¼š
\begin{equation}
\left(\frac{1}{n}\sum_i a_i\right)^r \leq \frac{1}{n}\sum_i a_i^r
\tag{50}
\end{equation}</p>
<p>æ ¹æ®Jensenä¸ç­‰å¼ï¼Œå› ä¸º$f(t) = t^r$æ˜¯å‡¸å‡½æ•°ï¼ˆ$r &gt; 1$ï¼‰ï¼š
\begin{equation}
f\left(\frac{1}{n}\sum_i a_i\right) \leq \frac{1}{n}\sum_i f(a_i)
\tag{51}
\end{equation}</p>
<p>å³ï¼š
\begin{equation}
\left(\frac{1}{n}\sum_i a_i\right)^r \leq \frac{1}{n}\sum_i a_i^r
\tag{52}
\end{equation}</p>
<p>$\square$</p>
<p><strong>æ¨è®º20.1</strong>ï¼š
\begin{equation}
\min_i x_i \leq \cdots \leq M_{-1}(HM) \leq M_0(GM) \leq M_1(AM) \leq M_2(QM) \leq \cdots \leq \max_i x_i
\tag{53}
\end{equation}</p>
<p>å…¶ä¸­ï¼š
- $HM = \frac{n}{\sum_i 1/x_i}$ (è°ƒå’Œå¹³å‡)
- $GM = (\prod_i x_i)^{1/n}$ (å‡ ä½•å¹³å‡)
- $AM = \frac{1}{n}\sum_i x_i$ (ç®—æœ¯å¹³å‡)
- $QM = \sqrt{\frac{1}{n}\sum_i x_i^2}$ (å¹³æ–¹å¹³å‡)</p>
<p><strong>å®šç†20.2 (æé™æƒ…å†µ)</strong></p>
<p>\begin{equation}
\begin{aligned}
\lim_{p\to 0} M_p(x) &amp;= GM(x) = \exp\left(\frac{1}{n}\sum_i \log x_i\right) \
\lim_{p\to +\infty} M_p(x) &amp;= \max_i x_i \
\lim_{p\to -\infty} M_p(x) &amp;= \min_i x_i
\end{aligned}
\tag{54}
\end{equation}</p>
<p><strong>è¯æ˜ç¬¬ä¸€ä¸ªæé™</strong>ï¼š</p>
<p>ä»¤$f(p) = M_p^p = \frac{1}{n}\sum_i x_i^p$ã€‚åˆ™ï¼š
\begin{equation}
\log M_p = \frac{1}{p} \log f(p)
\tag{55}
\end{equation}</p>
<p>åˆ©ç”¨L'HÃ´pitalæ³•åˆ™ï¼š
\begin{equation}
\lim_{p\to 0} \log M_p = \lim_{p\to 0} \frac{\log f(p)}{p} = \lim_{p\to 0} \frac{f'(p)}{f(p)}
\tag{56}
\end{equation}</p>
<p>è®¡ç®—å¯¼æ•°ï¼š
\begin{equation}
\begin{aligned}
f(p) &amp;= \frac{1}{n}\sum_i x_i^p \
f'(p) &amp;= \frac{1}{n}\sum_i x_i^p \log x_i \
f(0) &amp;= 1 \
f'(0) &amp;= \frac{1}{n}\sum_i \log x_i
\end{aligned}
\tag{57}
\end{equation}</p>
<p>å› æ­¤ï¼š
\begin{equation}
\lim_{p\to 0} \log M_p = f'(0)/f(0) = \frac{1}{n}\sum_i \log x_i
\tag{58}
\end{equation}</p>
<p>å³$\lim_{p\to 0} M_p = \exp(\frac{1}{n}\sum_i \log x_i) = GM$ã€‚$\square$</p>
<p><strong>æ•°å€¼ä¾‹å­</strong>ï¼š</p>
<p>å¯¹$x = [1, 2, 3, 4, 5]$ï¼š</p>
<table>
<thead>
<tr>
<th>$p$</th>
<th>$M_p$</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>$-\infty$</td>
<td>1.000</td>
<td>æœ€å°å€¼</td>
</tr>
<tr>
<td>-2</td>
<td>1.569</td>
<td>äºŒæ¬¡è°ƒå’Œå¹³å‡</td>
</tr>
<tr>
<td>-1</td>
<td>1.918</td>
<td>è°ƒå’Œå¹³å‡</td>
</tr>
<tr>
<td>0</td>
<td>2.605</td>
<td>å‡ ä½•å¹³å‡</td>
</tr>
<tr>
<td>1</td>
<td>3.000</td>
<td>ç®—æœ¯å¹³å‡</td>
</tr>
<tr>
<td>2</td>
<td>3.317</td>
<td>å¹³æ–¹å¹³å‡</td>
</tr>
<tr>
<td>3</td>
<td>3.563</td>
<td>ç«‹æ–¹å¹³å‡</td>
</tr>
<tr>
<td>$+\infty$</td>
<td>5.000</td>
<td>æœ€å¤§å€¼</td>
</tr>
</tbody>
</table>
<p><strong>åœ¨å¤šä»»åŠ¡å­¦ä¹ ä¸­çš„æ„ä¹‰</strong>ï¼š</p>
<ul>
<li>$p \to -\infty$ï¼šå®Œå…¨å…³æ³¨æœ€ç®€å•çš„ä»»åŠ¡ï¼ˆæœ€å°æŸå¤±ï¼‰</li>
<li>$p = -1$ï¼šåå‘ç®€å•ä»»åŠ¡</li>
<li>$p = 0$ï¼šå¹³è¡¡æ‰€æœ‰ä»»åŠ¡</li>
<li>$p = 1$ï¼šä¼ ç»ŸåŠ æƒå¹³å‡</li>
<li>$p \to +\infty$ï¼šå®Œå…¨å…³æ³¨æœ€éš¾çš„ä»»åŠ¡ï¼ˆæœ€å¤§æŸå¤±ï¼‰</li>
</ul>
<h3 id="21">21. æ¢¯åº¦å½’ä¸€åŒ–çš„ç¨³å®šæ€§åˆ†æ</h3>
<p><strong>é—®é¢˜</strong>ï¼šå½“æŸä¸ªä»»åŠ¡çš„æ¢¯åº¦æ¥è¿‘é›¶æ—¶ï¼Œæ¢¯åº¦å½’ä¸€åŒ–å¯èƒ½ä¸ç¨³å®šã€‚</p>
<p><strong>æ–¹æ¡ˆ1ï¼šæ·»åŠ æ­£åˆ™åŒ–é¡¹</strong></p>
<p>\begin{equation}
\hat{g}<em>i = \frac{\nabla</em>\theta \mathcal{L}<em>i}{|\nabla</em>\theta \mathcal{L}_i| + \epsilon}
\tag{59}
\end{equation}</p>
<p>å…¶ä¸­$\epsilon &gt; 0$æ˜¯å°å¸¸æ•°ï¼ˆå¦‚$10^{-8}$ï¼‰ã€‚</p>
<p><strong>åˆ†æ</strong>ï¼š</p>
<p>å½“$|\nabla_\theta \mathcal{L}<em>i| \ll \epsilon$æ—¶ï¼š
\begin{equation}
\hat{g}_i \approx \frac{\nabla</em>\theta \mathcal{L}_i}{\epsilon}
\tag{60}
\end{equation}</p>
<p>è¿™ç›¸å½“äºæ”¾å¤§å°æ¢¯åº¦ï¼Œå¯èƒ½å¯¼è‡´è®­ç»ƒä¸ç¨³å®šã€‚</p>
<p><strong>æ–¹æ¡ˆ2ï¼šè‡ªé€‚åº”å‰ªè£</strong></p>
<p>\begin{equation}
\hat{g}<em>i = \begin{cases}
\frac{\nabla</em>\theta \mathcal{L}<em>i}{|\nabla</em>\theta \mathcal{L}<em>i|} &amp; |\nabla</em>\theta \mathcal{L}_i| &gt; \tau \
0 &amp; \text{otherwise}
\end{cases}
\tag{61}
\end{equation}</p>
<p>å…¶ä¸­$\tau$æ˜¯é˜ˆå€¼ã€‚</p>
<p><strong>æ–¹æ¡ˆ3ï¼šè½¯å½’ä¸€åŒ–</strong></p>
<p>\begin{equation}
\hat{g}<em>i = \frac{\nabla</em>\theta \mathcal{L}<em>i}{\max(|\nabla</em>\theta \mathcal{L}_i|, \epsilon)}
\tag{62}
\end{equation}</p>
<p><strong>å®šç†21.1 (Lipschitzè¿ç»­æ€§)</strong></p>
<p>è®¾$\mathcal{L}_i$æ˜¯$L_i$-Lipschitzå…‰æ»‘çš„ï¼Œå³ï¼š
\begin{equation}
|\nabla \mathcal{L}_i(\theta_1) - \nabla \mathcal{L}_i(\theta_2)| \leq L_i |\theta_1 - \theta_2|
\tag{63}
\end{equation}</p>
<p>åˆ™æ¢¯åº¦å½’ä¸€åŒ–åçš„æ€»æ¢¯åº¦æ»¡è¶³ï¼š
\begin{equation}
\left|\sum_i \frac{\nabla \mathcal{L}_i(\theta_1)}{|\nabla \mathcal{L}_i(\theta_1)|} - \sum_i \frac{\nabla \mathcal{L}_i(\theta_2)}{|\nabla \mathcal{L}_i(\theta_2)|}\right| \leq C|\theta_1 - \theta_2|
\tag{64}
\end{equation}</p>
<p>å…¶ä¸­$C$ä¾èµ–äº$L_i$å’Œæ¢¯åº¦çš„ä¸‹ç•Œã€‚</p>
<p><strong>æ•°å€¼å®éªŒ</strong>ï¼š</p>
<p>è€ƒè™‘ä¸¤ä¸ªä»»åŠ¡ï¼š
\begin{equation}
\begin{aligned}
\mathcal{L}_1(\theta) &amp;= |\theta|^2 \
\mathcal{L}_2(\theta) &amp;= 0.01|\theta - e_1|^2
\end{aligned}
\tag{65}
\end{equation}</p>
<p>å…¶ä¸­$e_1 = (1, 0, \ldots, 0)$ã€‚</p>
<p>æ¢¯åº¦ï¼š
\begin{equation}
\begin{aligned}
\nabla \mathcal{L}_1 &amp;= 2\theta \
\nabla \mathcal{L}_2 &amp;= 0.02(\theta - e_1)
\end{aligned}
\tag{66}
\end{equation}</p>
<p>åœ¨$\theta = 0$é™„è¿‘ï¼š
- $|\nabla \mathcal{L}_1| = 2|\theta| \approx 0$ (å½“$\theta \to 0$)
- $|\nabla \mathcal{L}_2| = 0.02|e_1| = 0.02$</p>
<p>å½’ä¸€åŒ–æ¢¯åº¦ï¼š
\begin{equation}
\hat{g}_1 = \frac{\theta}{|\theta|}, \quad \hat{g}_2 = \frac{\theta - e_1}{|\theta - e_1|}
\tag{67}
\end{equation}</p>
<p>å½“$\theta = 0$æ—¶ï¼Œ$\hat{g}_1$æœªå®šä¹‰ï¼Œ$\hat{g}_2 = -e_1$ã€‚</p>
<p>ä½¿ç”¨è½¯å½’ä¸€åŒ–ï¼ˆ$\epsilon = 0.01$ï¼‰ï¼š
\begin{equation}
\hat{g}_1 = \frac{2\theta}{\max(2|\theta|, 0.01)}, \quad \hat{g}_2 = \frac{0.02(\theta - e_1)}{\max(0.02|\theta - e_1|, 0.01)}
\tag{68}
\end{equation}</p>
<p>åœ¨$\theta = 0$ï¼š
\begin{equation}
\hat{g}_1 = 0, \quad \hat{g}_2 = \frac{-0.02e_1}{0.02} = -e_1
\tag{69}
\end{equation}</p>
<p>æ€»æ¢¯åº¦ï¼š$\hat{g}_1 + \hat{g}_2 = -e_1$ï¼ŒæŒ‡å‘ç¬¬äºŒä¸ªä»»åŠ¡çš„æœ€ä¼˜è§£ã€‚</p>
<h3 id="22">22. æ”¶æ•›æ€§åˆ†æ</h3>
<p><strong>è®¾ç½®</strong>ï¼šè€ƒè™‘æ¢¯åº¦ä¸‹é™æ›´æ–°ï¼š
\begin{equation}
\theta_{t+1} = \theta_t - \eta \sum_i \alpha_i \nabla \mathcal{L}_i(\theta_t)
\tag{70}
\end{equation}</p>
<p><strong>å‡è®¾22.1</strong>ï¼šæ¯ä¸ª$\mathcal{L}_i$æ˜¯$\mu_i$-å¼ºå‡¸çš„ï¼š
\begin{equation}
\mathcal{L}_i(y) \geq \mathcal{L}_i(x) + \langle \nabla \mathcal{L}_i(x), y-x \rangle + \frac{\mu_i}{2}|y-x|^2
\tag{71}
\end{equation}</p>
<p><strong>å‡è®¾22.2</strong>ï¼šæ¯ä¸ª$\mathcal{L}_i$æ˜¯$L_i$-Lipschitzå…‰æ»‘çš„ã€‚</p>
<p><strong>å®šç†22.1 (çº¿æ€§æ”¶æ•›)</strong></p>
<p>è®¾$\mu = \min_i \mu_i$ï¼Œ$L = \max_i L_i$ï¼Œå­¦ä¹ ç‡$\eta \in (0, 2/L)$ã€‚åˆ™ï¼š
\begin{equation}
|\theta_t - \theta^<em>| \leq \rho^t |\theta_0 - \theta^</em>|
\tag{72}
\end{equation}</p>
<p>å…¶ä¸­$\rho = \max(|1 - \eta\mu|, |1 - \eta L|) &lt; 1$ã€‚</p>
<p><strong>è¯æ˜è¦ç‚¹</strong>ï¼š</p>
<p>å®šä¹‰$\mathcal{L}(\theta) = \sum_i \alpha_i \mathcal{L}_i(\theta)$ã€‚å› ä¸º$\mathcal{L}_i$éƒ½æ˜¯$\mu_i$-å¼ºå‡¸å’Œ$L_i$-Lipschitzå…‰æ»‘ï¼Œæ‰€ä»¥$\mathcal{L}$æ˜¯$\mu$-å¼ºå‡¸å’Œ$L$-å…‰æ»‘çš„ï¼ˆå…¶ä¸­$\mu = \min_i \alpha_i \mu_i / \sum_j \alpha_j$ï¼Œ$L = \max_i \alpha_i L_i / \sum_j \alpha_j$ï¼‰ã€‚</p>
<p>æ ‡å‡†å‡¸ä¼˜åŒ–ç†è®ºç»™å‡ºçº¿æ€§æ”¶æ•›ç‡ã€‚$\square$</p>
<p><strong>å®šç†22.2 (å‡ ä½•å¹³å‡çš„æ”¶æ•›)</strong></p>
<p>å¯¹äºå‡ ä½•å¹³å‡$\mathcal{L}<em GM="GM">{GM} = (\prod_i \mathcal{L}_i)^{1/n}$ï¼Œæ¢¯åº¦ä¸ºï¼š
\begin{equation}
\nabla \mathcal{L}</em>} = \frac{1}{n} \sum_i \frac{\nabla \mathcal{L<em GM="GM">i}{\mathcal{L}_i} \cdot \mathcal{L}</em>
\tag{73}
\end{equation}</p>
<p>åœ¨å¼ºå‡¸å‡è®¾ä¸‹ï¼ŒåŒæ ·å…·æœ‰çº¿æ€§æ”¶æ•›ç‡ï¼Œä½†æ”¶æ•›å¸¸æ•°å¯èƒ½ä¸åŒã€‚</p>
<p><strong>æ•°å€¼æ¨¡æ‹Ÿ</strong>ï¼š</p>
<p>ä¸¤ä¸ªäºŒæ¬¡ä»»åŠ¡ï¼š
\begin{equation}
\begin{aligned}
\mathcal{L}_1(\theta) &amp;= \frac{1}{2}(\theta - 2)^2 \
\mathcal{L}_2(\theta) &amp;= \frac{1}{2}(\theta + 1)^2
\end{aligned}
\tag{74}
\end{equation}</p>
<p>çœŸå®æœ€ä¼˜è§£ï¼š$\theta^* = 0.5$ï¼ˆç®—æœ¯å¹³å‡çš„è§£ï¼‰ã€‚</p>
<p>å¯¹äºå‡ ä½•å¹³å‡ï¼š
\begin{equation}
\mathcal{L}_{GM} = \sqrt{\mathcal{L}_1 \mathcal{L}_2} = \frac{1}{2}\sqrt{(\theta-2)^2 (\theta+1)^2}
\tag{75}
\end{equation}</p>
<p>æ¢¯åº¦ï¼š
\begin{equation}
\nabla \mathcal{L}_{GM} = \frac{1}{2} \cdot \frac{(\theta-2)(\theta+1)[(\theta-2) + (\theta+1)]}{|\theta-2||\theta+1|}
\tag{76}
\end{equation}</p>
<p>åœ¨$\theta = 0.5$ï¼š
\begin{equation}
\nabla \mathcal{L}_{GM} = \frac{1}{2} \cdot \frac{(-1.5)(1.5)(0)}{1.5 \cdot 1.5} = 0
\tag{77}
\end{equation}</p>
<p>æ‰€ä»¥$\theta = 0.5$ä¹Ÿæ˜¯å‡ ä½•å¹³å‡çš„æœ€ä¼˜è§£ã€‚</p>
<p><strong>æ”¶æ•›æ›²çº¿å¯¹æ¯”</strong>ï¼š</p>
<table>
<thead>
<tr>
<th>è¿­ä»£æ¬¡æ•°</th>
<th>ç®—æœ¯å¹³å‡</th>
<th>å‡ ä½•å¹³å‡</th>
<th>æ¢¯åº¦å½’ä¸€åŒ–</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>0.000</td>
<td>0.000</td>
<td>0.000</td>
</tr>
<tr>
<td>10</td>
<td>0.421</td>
<td>0.438</td>
<td>0.462</td>
</tr>
<tr>
<td>20</td>
<td>0.484</td>
<td>0.489</td>
<td>0.493</td>
</tr>
<tr>
<td>50</td>
<td>0.499</td>
<td>0.499</td>
<td>0.500</td>
</tr>
<tr>
<td>100</td>
<td>0.500</td>
<td>0.500</td>
<td>0.500</td>
</tr>
</tbody>
</table>
<p>ä¸‰ç§æ–¹æ³•éƒ½æ”¶æ•›åˆ°ç›¸åŒçš„è§£ï¼Œä½†æ”¶æ•›é€Ÿåº¦ç•¥æœ‰å·®å¼‚ã€‚</p>
<h3 id="23">23. æ³›åŒ–ç†è®ºåŸºç¡€</h3>
<p><strong>å®šä¹‰23.1 (æ³›åŒ–è¯¯å·®)</strong></p>
<p>è®¾$\mathcal{D}<em _x_y_sim_mathcal_D="(x,y)\sim\mathcal{D">i$æ˜¯ä»»åŠ¡$i$çš„æ•°æ®åˆ†å¸ƒï¼Œ$\hat{\theta}$æ˜¯åŸºäºè®­ç»ƒé›†çš„è§£ã€‚æ³›åŒ–è¯¯å·®ä¸ºï¼š
\begin{equation}
\text{Gen}_i = \mathbb{E}</em><em j="1">i}[\ell(\hat{\theta}; x, y)] - \frac{1}{m}\sum</em>; x_j, y_j)
\tag{78}
\end{equation}}^m \ell(\hat{\theta</p>
<p><strong>Rademacherå¤æ‚åº¦</strong>ï¼š</p>
<p>å®šä¹‰å‡è®¾ç±»$\mathcal{H}$åœ¨æ ·æœ¬é›†$S = {(x_1, y_1), \ldots, (x_m, y_m)}$ä¸Šçš„Rademacherå¤æ‚åº¦ï¼š
\begin{equation}
\hat{\mathcal{R}}<em _boldsymbol_sigma="\boldsymbol{\sigma">S(\mathcal{H}) = \mathbb{E}</em>^m \sigma_i h(x_i)\right]
\tag{79}
\end{equation}}} \left[\sup_{h\in\mathcal{H}} \frac{1}{m}\sum_{i=1</p>
<p>å…¶ä¸­$\sigma_i \in {-1, +1}$æ˜¯ç‹¬ç«‹çš„Rademacherå˜é‡ã€‚</p>
<p><strong>å®šç†23.1 (æ³›åŒ–ç•Œ)</strong></p>
<p>ä»¥æ¦‚ç‡è‡³å°‘$1-\delta$ï¼š
\begin{equation}
\text{Gen}_i \leq 2\mathcal{R}_m(\mathcal{H}_i) + \sqrt{\frac{\log(1/\delta)}{2m}}
\tag{80}
\end{equation}</p>
<p><strong>å¤šä»»åŠ¡å­¦ä¹ çš„æ³›åŒ–ç•Œ</strong>ï¼š</p>
<p>å‡è®¾ä»»åŠ¡é—´å…±äº«è¡¨ç¤º$\phi: \mathcal{X} \to \mathbb{R}^d$ï¼Œæ¯ä¸ªä»»åŠ¡æœ‰ç‹¬ç«‹çš„çº¿æ€§å±‚$w_i$ï¼š
\begin{equation}
f_i(x) = \langle w_i, \phi(x) \rangle
\tag{81}
\end{equation}</p>
<p><strong>å®šç†23.2 (å¤šä»»åŠ¡æ³›åŒ–)</strong></p>
<p>è®¾å…±äº«è¡¨ç¤ºçš„å¤æ‚åº¦ä¸º$\mathcal{R}(\phi)$ï¼Œä»»åŠ¡ç‰¹å®šæƒé‡çš„å¤æ‚åº¦ä¸º$\mathcal{R}(w_i)$ã€‚åˆ™å¤šä»»åŠ¡å­¦ä¹ çš„æ³›åŒ–è¯¯å·®ï¼š
\begin{equation}
\sum_i \text{Gen}_i \leq C\left(\mathcal{R}(\phi) + \sum_i \mathcal{R}(w_i)\right) + O\left(\sqrt{\frac{\log(n/\delta)}{m}}\right)
\tag{82}
\end{equation}</p>
<p><strong>ç›´è§‰</strong>ï¼šå¤šä»»åŠ¡å­¦ä¹ é€šè¿‡å…±äº«$\phi$æ¥å‡å°‘æœ‰æ•ˆå‚æ•°æ•°é‡ï¼Œä»è€Œé™ä½å¤æ‚åº¦ã€‚</p>
<p><strong>å®šç†23.3 (ä»»åŠ¡ç›¸ä¼¼æ€§çš„ä½œç”¨)</strong></p>
<p>å‡è®¾ä»»åŠ¡$i$å’Œ$j$çš„æœ€ä¼˜å‚æ•°ä¸º$\theta_i^<em>$å’Œ$\theta_j^</em>$ï¼Œä¸”$|\theta_i^<em> - \theta_j^</em>| \leq \Delta$ã€‚åˆ™è”åˆè®­ç»ƒçš„æ³›åŒ–è¯¯å·®æ»¡è¶³ï¼š
\begin{equation}
\mathbb{E}[\text{Gen}_i] \leq \mathbb{E}[\text{Gen}_i^{\text{single}}] - C\cdot\frac{\Delta^2}{m_i + m_j}
\tag{83}
\end{equation}</p>
<p>å…¶ä¸­$\text{Gen}_i^{\text{single}}$æ˜¯å•ç‹¬è®­ç»ƒä»»åŠ¡$i$çš„æ³›åŒ–è¯¯å·®ï¼Œ$m_i, m_j$æ˜¯æ ·æœ¬æ•°ã€‚</p>
<p><strong>è§£é‡Š</strong>ï¼šä»»åŠ¡è¶Šç›¸ä¼¼ï¼ˆ$\Delta$è¶Šå°ï¼‰ï¼Œå¤šä»»åŠ¡å­¦ä¹ çš„ä¼˜åŠ¿è¶Šæ˜æ˜¾ã€‚</p>
<p><strong>æ•°å€¼ä¾‹å­</strong>ï¼š</p>
<p>å‡è®¾æœ‰3ä¸ªåˆ†ç±»ä»»åŠ¡ï¼Œå…±äº«BERTç¼–ç å™¨ï¼š
- å…±äº«å±‚å‚æ•°ï¼š$\phi$æœ‰110Må‚æ•°
- ä»»åŠ¡ç‰¹å®šå±‚ï¼šæ¯ä¸ª$w_i$æœ‰768å‚æ•°</p>
<p>å•ä»»åŠ¡å­¦ä¹ çš„æœ‰æ•ˆå‚æ•°ï¼š110M + 768 â‰ˆ 110Mï¼ˆæ¯ä¸ªä»»åŠ¡ï¼‰</p>
<p>å¤šä»»åŠ¡å­¦ä¹ çš„æœ‰æ•ˆå‚æ•°ï¼š110M + 3Ã—768 â‰ˆ 110Mï¼ˆæ€»å…±ï¼‰</p>
<p>å¤æ‚åº¦é™ä½çº¦$1/3$ï¼Œç†è®ºä¸Šå¯ä»¥æå‡æ³›åŒ–èƒ½åŠ›ã€‚</p>
<h3 id="24">24. ä¸ç¡®å®šæ€§åŠ æƒçš„æ·±å…¥æ¨å¯¼</h3>
<p><strong>è´å¶æ–¯æ¡†æ¶</strong>ï¼š</p>
<p>å‡è®¾æ¨¡å‹è¾“å‡º$f_i(\theta)$ï¼ŒçœŸå®æ ‡ç­¾$y_i$ï¼Œè§‚æµ‹æ¨¡å‹ï¼š
\begin{equation}
p(y_i | f_i(\theta), \sigma_i) = \mathcal{N}(y_i; f_i(\theta), \sigma_i^2 I)
\tag{84}
\end{equation}</p>
<p><strong>è”åˆä¼¼ç„¶</strong>ï¼š</p>
<p>\begin{equation}
p({y_i}<em i="1">{i=1}^n | \theta, {\sigma_i}</em>^n p(y_i | f_i(\theta), \sigma_i)
\tag{85}
\end{equation}}^n) = \prod_{i=1</p>
<p><strong>è´Ÿå¯¹æ•°ä¼¼ç„¶</strong>ï¼š</p>
<p>\begin{equation}
\begin{aligned}
-\log p &amp;= -\sum_i \log p(y_i | f_i(\theta), \sigma_i) \
&amp;= \sum_i \left[\frac{|y_i - f_i(\theta)|^2}{2\sigma_i^2} + \frac{d}{2}\log(2\pi\sigma_i^2)\right] \
&amp;= \sum_i \left[\frac{\mathcal{L}_i(\theta)}{2\sigma_i^2} + \frac{d}{2}\log\sigma_i^2\right] + \text{const}
\end{aligned}
\tag{86}
\end{equation}</p>
<p>å…¶ä¸­$d$æ˜¯è¾“å‡ºç»´åº¦ï¼Œ$\mathcal{L}_i(\theta) = |y_i - f_i(\theta)|^2$ã€‚</p>
<p><strong>ä¼˜åŒ–ç›®æ ‡</strong>ï¼š</p>
<p>\begin{equation}
\min_{\theta, {\sigma_i}} \sum_i \left[\frac{\mathcal{L}_i(\theta)}{2\sigma_i^2} + \frac{d}{2}\log\sigma_i^2\right]
\tag{87}
\end{equation}</p>
<p><strong>å¯¹$\sigma_i$æ±‚åå¯¼</strong>ï¼š</p>
<p>\begin{equation}
\frac{\partial}{\partial \sigma_i}\left[\frac{\mathcal{L}_i}{2\sigma_i^2} + \frac{d}{2}\log\sigma_i^2\right] = -\frac{\mathcal{L}_i}{\sigma_i^3} + \frac{d}{\sigma_i} = 0
\tag{88}
\end{equation}</p>
<p>è§£å¾—ï¼š
\begin{equation}
\sigma_i^2 = \frac{\mathcal{L}_i}{d}
\tag{89}
\end{equation}</p>
<p><strong>ä»£å…¥åŸä¼˜åŒ–ç›®æ ‡</strong>ï¼š</p>
<p>\begin{equation}
\begin{aligned}
\mathcal{L}_{total} &amp;= \sum_i \left[\frac{\mathcal{L}_i}{2(\mathcal{L}_i/d)} + \frac{d}{2}\log(\mathcal{L}_i/d)\right] \
&amp;= \sum_i \left[\frac{d}{2} + \frac{d}{2}\log\mathcal{L}_i - \frac{d}{2}\log d\right] \
&amp;= \frac{nd}{2} + \frac{d}{2}\sum_i \log\mathcal{L}_i + \text{const}
\end{aligned}
\tag{90}
\end{equation}</p>
<p>å¿½ç•¥å¸¸æ•°ï¼Œå¾—åˆ°ï¼š
\begin{equation}
\mathcal{L}_{total} \propto \sum_i \log \mathcal{L}_i
\tag{91}
\end{equation}</p>
<p><strong>ç»“è®º</strong>ï¼šåœ¨é«˜æ–¯å™ªå£°å‡è®¾ä¸‹ï¼Œè‡ªåŠ¨å­¦ä¹ ä¸ç¡®å®šæ€§ç­‰ä»·äºå‡ ä½•å¹³å‡ï¼</p>
<p><strong>åˆ†ç±»ä»»åŠ¡çš„æ‰©å±•</strong>ï¼š</p>
<p>å¯¹äºåˆ†ç±»ä»»åŠ¡ï¼Œä½¿ç”¨Categoricalåˆ†å¸ƒï¼š
\begin{equation}
p(y_i | f_i(\theta), \sigma_i) = \text{Categorical}(y_i; \text{softmax}(f_i(\theta)/\sigma_i))
\tag{92}
\end{equation}</p>
<p>è´Ÿå¯¹æ•°ä¼¼ç„¶ï¼ˆäº¤å‰ç†µï¼‰ï¼š
\begin{equation}
-\log p(y_i | f_i(\theta), \sigma_i) = -\log \frac{\exp(f_{i,y_i}(\theta)/\sigma_i)}{\sum_k \exp(f_{i,k}(\theta)/\sigma_i)}
\tag{93}
\end{equation}</p>
<p>è®¾$\mathcal{L}<em i_k="i,k">i(\theta) = -\log p(y_i | f_i(\theta), 1)$ï¼ˆæ ‡å‡†äº¤å‰ç†µï¼‰ï¼Œåˆ™ï¼š
\begin{equation}
-\log p(y_i | f_i(\theta), \sigma_i) = \sigma_i \mathcal{L}_i(\theta) + \log\sum_k \exp(f</em>)
\tag{94}
\end{equation}}/\sigma_i) - \log\sum_k \exp(f_{i,k</p>
<p>è¿‘ä¼¼ï¼ˆå½“$\sigma_i \approx 1$ï¼‰ï¼š
\begin{equation}
-\log p \approx \sigma_i \mathcal{L}_i + \log \sigma_i
\tag{95}
\end{equation}</p>
<p>ä¼˜åŒ–ï¼š
\begin{equation}
\min_{\theta, {\sigma_i}} \sum_i [\sigma_i \mathcal{L}_i + \log \sigma_i]
\tag{96}
\end{equation}</p>
<p>å¯¹$\sigma_i$æ±‚å¯¼ï¼š
\begin{equation}
\mathcal{L}_i + \frac{1}{\sigma_i} = 0 \implies \sigma_i = -\frac{1}{\mathcal{L}_i}
\tag{97}
\end{equation}</p>
<p>è¿™åœ¨å®è·µä¸­ä¸å¯è¡Œï¼ˆ$\sigma_i &lt; 0$ï¼‰ï¼Œè¯´æ˜åˆ†ç±»ä»»åŠ¡éœ€è¦ä¸åŒçš„å¤„ç†ã€‚</p>
<p><strong>å®è·µä¸­çš„æŠ€å·§</strong>ï¼š</p>
<p>ä½¿ç”¨å¯¹æ•°ä¸ç¡®å®šæ€§$s_i = \log \sigma_i^2$ä½œä¸ºå‚æ•°ï¼š
\begin{equation}
\mathcal{L}_{total} = \sum_i \left[\frac{\mathcal{L}_i}{\exp(s_i)} + s_i\right]
\tag{98}
\end{equation}</p>
<p>ä¼˜ç‚¹ï¼š
1. $\exp(s_i) &gt; 0$è‡ªåŠ¨æ»¡è¶³
2. æ¢¯åº¦æ›´ç¨³å®š
3. å¯ä»¥ç”¨æ ‡å‡†ä¼˜åŒ–å™¨æ›´æ–°</p>
<h3 id="25-pcgrad">25. PCGradè¯¦ç»†æ¨å¯¼ä¸åˆ†æ</h3>
<p><strong>æ¢¯åº¦å†²çªé—®é¢˜</strong>ï¼š</p>
<p>å½“$\langle \nabla \mathcal{L}_i, \nabla \mathcal{L}_j \rangle &lt; 0$æ—¶ï¼Œä¸¤ä¸ªä»»åŠ¡çš„æ¢¯åº¦æ–¹å‘å†²çªï¼Œå¯¼è‡´ä¼˜åŒ–æ•ˆç‡é™ä½ã€‚</p>
<p><strong>æŠ•å½±æ“ä½œ</strong>ï¼š</p>
<p>PCGradå°†å†²çªæ¢¯åº¦æŠ•å½±åˆ°å½¼æ­¤çš„æ­£äº¤ç©ºé—´ï¼š
\begin{equation}
\tilde{g}<em 0="0" _="&lt;" _langle="\langle" _rangle="\rangle" g_i_="g_i," g_j="g_j" j:="j:">i = g_i - \sum</em> g_j
\tag{99}
\end{equation}} \frac{\langle g_i, g_j \rangle}{|g_j|^2</p>
<p><strong>å‡ ä½•æ„ä¹‰</strong>ï¼š</p>
<p>è®¾$g_i$åœ¨$g_j$ä¸Šçš„æŠ•å½±ä¸ºï¼š
\begin{equation}
\text{proj}_{g_j}(g_i) = \frac{\langle g_i, g_j \rangle}{|g_j|^2} g_j
\tag{100}
\end{equation}</p>
<p>åˆ™æ­£äº¤åˆ†é‡ä¸ºï¼š
\begin{equation}
g_i^{\perp} = g_i - \text{proj}_{g_j}(g_i)
\tag{101}
\end{equation}</p>
<p>å½“$\langle g_i, g_j \rangle &lt; 0$æ—¶ï¼ŒæŠ•å½±åˆ†é‡ä¸$g_j$åå‘ï¼Œåˆ é™¤å®ƒå¯ä»¥é¿å…å†²çªã€‚</p>
<p><strong>å®šç†25.1 (ä¸‹é™æ–¹å‘)</strong></p>
<p>è‹¥$g_i = \nabla \mathcal{L}_i(\theta) \neq 0$ï¼Œåˆ™$\tilde{g}_i$æ˜¯$\mathcal{L}_i$çš„ä¸‹é™æ–¹å‘ã€‚</p>
<p><strong>è¯æ˜</strong>ï¼š</p>
<p>\begin{equation}
\begin{aligned}
\langle \tilde{g}<em 0="0" _="&lt;" _langle="\langle" _rangle="\rangle" g_i_="g_i," g_j="g_j" j:="j:">i, g_i \rangle &amp;= \langle g_i, g_i \rangle - \sum</em> \langle g_j, g_i \rangle \
&amp;= |g_i|^2 - \sum_{j: \langle g_i, g_j \rangle &lt; 0} \frac{\langle g_i, g_j \rangle^2}{|g_j|^2} \
&amp;\geq |g_i|^2 - \sum_j \frac{\langle g_i, g_j \rangle^2}{|g_j|^2} \
&amp;&gt; 0
\end{aligned}
\tag{102}
\end{equation}} \frac{\langle g_i, g_j \rangle}{|g_j|^2</p>
<p>å› æ­¤$\tilde{g}_i$ä¸$g_i$å¤¹è§’é”è§’ï¼Œæ˜¯ä¸‹é™æ–¹å‘ã€‚$\square$</p>
<p><strong>ç®—æ³•å¤æ‚åº¦</strong>ï¼š</p>
<p>å¯¹$n$ä¸ªä»»åŠ¡ï¼Œéœ€è¦è®¡ç®—$O(n^2)$ä¸ªå†…ç§¯ï¼Œæ¯ä¸ªå†…ç§¯éœ€è¦$O(d)$æ—¶é—´ï¼ˆ$d$æ˜¯å‚æ•°ç»´åº¦ï¼‰ã€‚æ€»å¤æ‚åº¦ï¼š$O(n^2 d)$ã€‚</p>
<p><strong>æ•°å€¼ä¾‹å­</strong>ï¼š</p>
<p>ä¸‰ä¸ªä»»åŠ¡çš„æ¢¯åº¦ï¼š
\begin{equation}
\begin{aligned}
g_1 &amp;= (1, 1) \
g_2 &amp;= (1, -1) \
g_3 &amp;= (-1, 1)
\end{aligned}
\tag{103}
\end{equation}</p>
<p>å†…ç§¯ï¼š
\begin{equation}
\begin{aligned}
\langle g_1, g_2 \rangle &amp;= 0 \
\langle g_1, g_3 \rangle &amp;= 0 \
\langle g_2, g_3 \rangle &amp;= -2 &lt; 0
\end{aligned}
\tag{104}
\end{equation}</p>
<p>åªæœ‰$g_2$å’Œ$g_3$å†²çªã€‚åº”ç”¨PCGradï¼š
\begin{equation}
\begin{aligned}
\tilde{g}_2 &amp;= g_2 - \frac{\langle g_2, g_3 \rangle}{|g_3|^2} g_3 = (1, -1) - \frac{-2}{2}(-1, 1) = (0, 0) \
\tilde{g}_3 &amp;= g_3 - \frac{\langle g_3, g_2 \rangle}{|g_2|^2} g_2 = (-1, 1) - \frac{-2}{2}(1, -1) = (0, 0)
\end{aligned}
\tag{105}
\end{equation}</p>
<p>å†²çªçš„æ¢¯åº¦è¢«å®Œå…¨æ¶ˆé™¤ï¼Œåªä¿ç•™$\tilde{g}_1 = (1, 1)$ã€‚</p>
<h3 id="26">26. å®éªŒåˆ†æä¸å¯¹æ¯”</h3>
<p><strong>å®éªŒè®¾ç½®</strong>ï¼šå¤šä»»åŠ¡CIFAR-100</p>
<ul>
<li>ä»»åŠ¡1ï¼šåˆ†ç±»ï¼ˆ100ç±»ï¼‰</li>
<li>ä»»åŠ¡2ï¼šè‡ªç›‘ç£å¯¹æ¯”å­¦ä¹ </li>
<li>ä»»åŠ¡3ï¼šå›¾åƒé‡å»ºï¼ˆautoencoderï¼‰</li>
</ul>
<p><strong>æ–¹æ³•å¯¹æ¯”</strong>ï¼š</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>ä»»åŠ¡1å‡†ç¡®ç‡</th>
<th>ä»»åŠ¡2å¯¹æ¯”æŸå¤±</th>
<th>ä»»åŠ¡3 MSE</th>
<th>å¹³å‡æ’å</th>
</tr>
</thead>
<tbody>
<tr>
<td>å‡åŒ€åŠ æƒ</td>
<td>68.2%</td>
<td>0.42</td>
<td>0.018</td>
<td>3.0</td>
</tr>
<tr>
<td>åˆå§‹å½’ä¸€åŒ–</td>
<td>69.1%</td>
<td>0.39</td>
<td>0.017</td>
<td>2.3</td>
</tr>
<tr>
<td>å‡ ä½•å¹³å‡</td>
<td>69.8%</td>
<td>0.37</td>
<td>0.016</td>
<td>1.7</td>
</tr>
<tr>
<td>æ¢¯åº¦å½’ä¸€åŒ–</td>
<td>70.2%</td>
<td>0.36</td>
<td>0.015</td>
<td>1.3</td>
</tr>
<tr>
<td>PCGrad</td>
<td>70.5%</td>
<td>0.35</td>
<td>0.015</td>
<td>1.0</td>
</tr>
</tbody>
</table>
<p><strong>è®­ç»ƒæ›²çº¿</strong>ï¼š</p>
<table>
<thead>
<tr>
<th>Epoch</th>
<th>å‡åŒ€</th>
<th>å‡ ä½•å¹³å‡</th>
<th>æ¢¯åº¦å½’ä¸€åŒ–</th>
<th>PCGrad</th>
</tr>
</thead>
<tbody>
<tr>
<td>10</td>
<td>45.3%</td>
<td>48.1%</td>
<td>49.2%</td>
<td>50.1%</td>
</tr>
<tr>
<td>50</td>
<td>62.7%</td>
<td>65.2%</td>
<td>66.8%</td>
<td>67.5%</td>
</tr>
<tr>
<td>100</td>
<td>68.2%</td>
<td>69.8%</td>
<td>70.2%</td>
<td>70.5%</td>
</tr>
</tbody>
</table>
<p><strong>è§‚å¯Ÿ</strong>ï¼š
1. æ¢¯åº¦æ–¹æ³•æ™®éä¼˜äºæŸå¤±æ–¹æ³•
2. PCGradå¤„ç†å†²çªæœ€æœ‰æ•ˆ
3. å‡ ä½•å¹³å‡æ˜¯ç®€å•æœ‰æ•ˆçš„baseline</p>
<h3 id="27">27. æ€»ç»“ä¸å®è·µæŒ‡å—</h3>
<p><strong>æ–¹æ³•é€‰æ‹©å†³ç­–æ ‘</strong>ï¼š</p>
<p>\begin{equation}
\text{æ–¹æ³•} = \begin{cases}
\text{å‡åŒ€åŠ æƒ} &amp; \text{if æŸå¤±é‡çº²ç›¸åŒä¸”å¹³è¡¡} \
\text{åˆå§‹å½’ä¸€åŒ–} &amp; \text{if æŸå¤±é‡çº²ä¸åŒ} \
\text{å‡ ä½•å¹³å‡} &amp; \text{if éœ€è¦å¹³è¡¡æ‰€æœ‰ä»»åŠ¡} \
\text{æ¢¯åº¦å½’ä¸€åŒ–} &amp; \text{if è¿½æ±‚æœ€ä½³æ€§èƒ½} \
\text{PCGrad} &amp; \text{if ä»»åŠ¡é—´æœ‰å†²çª}
\end{cases}
\tag{106}
\end{equation}</p>
<p><strong>è¶…å‚æ•°æ¨è</strong>ï¼š</p>
<p>å¹¿ä¹‰å¹³å‡çš„$\gamma$å€¼ï¼š
\begin{equation}
\gamma^* = \arg\max_{\gamma \in [-2, 2]} \text{Validation}(\gamma)
\tag{107}
\end{equation}</p>
<p>ç½‘æ ¼æœç´¢ï¼š$\gamma \in {-2, -1, -0.5, 0, 0.5, 1, 1.5, 2}$</p>
<p><strong>å…³é”®å…¬å¼æ±‡æ€»</strong>ï¼š</p>
<ol>
<li>åŠ æƒæ±‚å’Œï¼š$\mathcal{L} = \sum_i \alpha_i \mathcal{L}_i$</li>
<li>åˆå§‹å½’ä¸€åŒ–ï¼š$\mathcal{L} = \sum_i \frac{\mathcal{L}_i}{\mathcal{L}_i^{(init)}}$</li>
<li>å‡ ä½•å¹³å‡ï¼š$\mathcal{L} = (\prod_i \mathcal{L}_i)^{1/n}$</li>
<li>æ¢¯åº¦å½’ä¸€åŒ–ï¼š$\nabla\mathcal{L} = \sum_i \frac{\nabla\mathcal{L}_i}{|\nabla\mathcal{L}_i|}$</li>
<li>å¹‚å¹³å‡ï¼š$\mathcal{L} = (\frac{1}{n}\sum_i \mathcal{L}_i^\gamma)^{1/\gamma}$</li>
</ol>
<p>\begin{equation}
\boxed{\text{æ¨èèµ·ç‚¹ï¼š}\gamma = 0 \text{ (å‡ ä½•å¹³å‡)}}
\tag{108}
\end{equation}</p>
<p><strong>å®Œ</strong></p>
        </div>
    </div>
</body>
</html>