<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆåä¸‰ï¼‰ï¼šä»ä¸‡æœ‰å¼•åŠ›åˆ°æ‰©æ•£æ¨¡å‹</title>
    <style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    line-height: 1.6; color: #333; max-width: 900px; margin: 0 auto; padding: 20px; background: #f5f5f5;
}
.container { background: white; padding: 40px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
header { border-bottom: 2px solid #e0e0e0; padding-bottom: 20px; margin-bottom: 30px; }
h1 { color: #2c3e50; margin-bottom: 10px; font-size: 2em; }
.meta { color: #666; font-size: 0.9em; margin-bottom: 20px; }
.content { margin-top: 30px; overflow-wrap: break-word; }
.content h2 { color: #34495e; margin-top: 30px; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
.content p { margin-bottom: 15px; }
.content pre { background: #f8f8f8; padding: 15px; border-radius: 5px; overflow-x: auto; border-left: 3px solid #3498db; margin: 15px 0; }
.content code { background: #f8f8f8; padding: 2px 5px; border-radius: 3px; font-family: monospace; font-size: 0.9em; }
.content blockquote { border-left: 4px solid #3498db; padding-left: 20px; margin: 20px 0; color: #555; font-style: italic; }
.content table { border-collapse: collapse; width: 100%; margin: 20px 0; }
.content th, .content td { border: 1px solid #ddd; padding: 10px; text-align: left; }
.back-link { display: inline-block; margin-bottom: 20px; color: #3498db; text-decoration: none; font-weight: 500; }
</style>
    
<script>
    window.MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\(', '\)']],
            displayMath: [['$$', '$$'], ['\[', '\]']],
            processEscapes: true
        }
    };
</script>
<script id="MathJax-script" async src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
        <header>
            <h1>ç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆåä¸‰ï¼‰ï¼šä»ä¸‡æœ‰å¼•åŠ›åˆ°æ‰©æ•£æ¨¡å‹</h1>
            <div class="meta">ğŸ“… æœ€åæ›´æ–°: 2025-11-26 | ğŸ“„ å¤§å°: 58.4 KB</div>
        </header>
        <div class="content">
            <p><strong>åŸæ–‡é“¾æ¥</strong>: <a href="https://spaces.ac.cn/archives/9305">https://spaces.ac.cn/archives/9305</a></p>
<p><strong>å‘å¸ƒæ—¥æœŸ</strong>: </p>
<hr />
<p>å¯¹äºå¾ˆå¤šè¯»è€…æ¥è¯´ï¼Œç”Ÿæˆæ‰©æ•£æ¨¡å‹å¯èƒ½æ˜¯ä»–ä»¬é‡åˆ°çš„ç¬¬ä¸€ä¸ªèƒ½å¤Ÿå°†å¦‚æ­¤å¤šçš„æ•°å­¦å·¥å…·ç”¨åˆ°æ·±åº¦å­¦ä¹ ä¸Šçš„æ¨¡å‹ã€‚åœ¨è¿™ä¸ªç³»åˆ—æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å·²ç»å±•ç¤ºäº†æ‰©æ•£æ¨¡å‹ä¸æ•°å­¦åˆ†æã€æ¦‚ç‡ç»Ÿè®¡ã€å¸¸å¾®åˆ†æ–¹ç¨‹ã€éšæœºå¾®åˆ†æ–¹ç¨‹ä¹ƒè‡³åå¾®åˆ†æ–¹ç¨‹ç­‰å†…å®¹çš„æ·±åˆ»è”ç³»ï¼Œå¯ä»¥è¯´ï¼Œå³ä¾¿æ˜¯åšæ•°å­¦ç‰©ç†æ–¹ç¨‹çš„çº¯ç†è®ºç ”ç©¶çš„åŒå­¦ï¼Œå¤§æ¦‚ç‡ä¹Ÿå¯ä»¥åœ¨æ‰©æ•£æ¨¡å‹ä¸­æ‰¾åˆ°è‡ªå·±çš„ç”¨æ­¦ä¹‹åœ°ã€‚</p>
<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å†ä»‹ç»ä¸€ä¸ªåŒæ ·ä¸æ•°å­¦ç‰©ç†æœ‰æ·±åˆ»è”ç³»çš„æ‰©æ•£æ¨¡å‹â€”â€”ç”±â€œä¸‡æœ‰å¼•åŠ›å®šå¾‹â€å¯å‘çš„ODEå¼æ‰©æ•£æ¨¡å‹ï¼Œå‡ºè‡ªè®ºæ–‡<a href="https://papers.cool/arxiv/2209.11178">ã€ŠPoisson Flow Generative Modelsã€‹</a>ï¼ˆç®€ç§°PFGMï¼‰ï¼Œå®ƒç»™å‡ºäº†ä¸€ä¸ªæ„å»ºODEå¼æ‰©æ•£æ¨¡å‹çš„å…¨æ–°è§†è§’ã€‚</p>
<h2 id="_1">ä¸‡æœ‰å¼•åŠ›</h2>
<p>ä¸­å­¦æ—¶æœŸæˆ‘ä»¬å°±å­¦è¿‡ä¸‡æœ‰å¼•åŠ›å®šå¾‹ï¼Œå¤§æ¦‚çš„æè¿°æ–¹å¼æ˜¯ï¼š</p>
<blockquote>
<p>ä¸¤ä¸ªè´¨ç‚¹å½¼æ­¤ä¹‹é—´ç›¸äº’å¸å¼•çš„ä½œç”¨åŠ›ï¼Œæ˜¯ä¸å®ƒä»¬çš„è´¨é‡ä¹˜ç§¯æˆæ­£æ¯”ï¼Œå¹¶ä¸å®ƒä»¬ä¹‹é—´çš„è·ç¦»æˆå¹³æ–¹åæ¯”ã€‚</p>
</blockquote>
<p>è¿™é‡Œæˆ‘ä»¬å¿½ç•¥è´¨é‡å’Œå¸¸æ•°ï¼Œä¸»è¦å…³å¿ƒå®ƒçš„æ–¹å‘å’Œä¸è·ç¦»çš„å…³ç³»ï¼Œå‡è®¾å¼•åŠ›æºä½äº$\boldsymbol{y}$ï¼Œé‚£ä¹ˆä½äº$\boldsymbol{x}$çš„ç‰©ä½“æ‰€å—åˆ°çš„å¼•åŠ›å¯ä»¥è®°ä¸º<br />
\begin{equation}\boldsymbol{F}(\boldsymbol{x}) = -\frac{1}{4\pi}\frac{\boldsymbol{x} - \boldsymbol{y}}{\Vert \boldsymbol{x} - \boldsymbol{y}\Vert^3}\label{eq:grad-3}\end{equation}<br />
$\frac{1}{4\pi}$è¿™ä¸ªå› å­æˆ‘ä»¬å¯ä»¥å…ˆä¸ç®¡å®ƒï¼Œå®ƒä¸å½±å“åé¢çš„åˆ†æã€‚å‡†ç¡®æ¥è¯´ï¼Œä¸Šå¼æè¿°çš„æ˜¯ä¸‰ç»´ç©ºé—´çš„å¼•åŠ›åœºï¼Œå¯¹äº$d$ç»´ç©ºé—´æ¥è¯´ï¼Œå…¶å¼•åŠ›åœºçš„å½¢å¼ä¸º<br />
\begin{equation}\boldsymbol{F}(\boldsymbol{x}) = -\frac{1}{S_d(1)}\frac{\boldsymbol{x} - \boldsymbol{y}}{\Vert \boldsymbol{x} - \boldsymbol{y}\Vert^d}\label{eq:grad-d}\end{equation}<br />
å…¶ä¸­$S_d(1)$æ˜¯$d$ç»´å•ä½è¶…çƒé¢çš„è¡¨é¢ç§¯ã€‚è¯¥å¼å®é™…ä¸Šå°±æ˜¯$d$ç»´Poissonæ–¹ç¨‹çš„æ ¼æ—å‡½æ•°çš„æ¢¯åº¦ï¼Œè¿™ä¹Ÿå°±æ˜¯è®ºæ–‡æ ‡é¢˜ä¸­çš„â€œPoissonâ€ä¸€è¯çš„æ¥æºã€‚</p>
<h2 id="_2">æ²¿åœºçº¿èµ°</h2>
<p>å¦‚æœå¼•åŠ›æºæœ‰å¤šä¸ªï¼Œé‚£ä¹ˆç›´æ¥å°†å„ä¸ªå¼•åŠ›æºçš„å¼•åŠ›ç›¸åŠ å³å¯ï¼Œè¿™æ˜¯å¼•åŠ›åœºçš„çº¿æ€§å¯åŠ æ€§ã€‚ä¸‹é¢æˆ‘ä»¬ç”»å‡ºäº†å››ä¸ªå¼•åŠ›æºçš„å‘é‡åœºï¼Œå…¶ä¸­å¼•åŠ›æºç”¨é»‘è‰²ç‚¹æ ‡è®°å‡ºï¼Œå½©è‰²çº¿è¡¨ç¤ºåœºçº¿ï¼š  </p>
<p><a href="/usr/uploads/2022/10/3097555639.svg" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="å¼•åŠ›åœºç¤ºæ„å›¾" src="/usr/uploads/2022/10/3097555639.svg" /></a></p>
<p>å¼•åŠ›åœºç¤ºæ„å›¾</p>
<p>ä»ä¸Šè¿°å¼•åŠ›åœºå›¾æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå®ƒçš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹ï¼š</p>
<blockquote>
<p>é™¤äº†æå°‘æ•°å¤–ï¼Œå¤§éƒ¨åˆ†åœºçº¿éƒ½æ˜¯ä»è¿œå¤„å‡ºå‘ï¼Œç»ˆæ­¢äºæŸä¸ªå¼•åŠ›æºç‚¹ã€‚</p>
</blockquote>
<p>æ­¤æ—¶ï¼Œä¸€ä¸ªç›´è§‚è€Œåˆâ€œå¼‚æƒ³å¤©å¼€â€çš„ä¸»æ„æ˜¯ï¼š</p>
<blockquote>
<p>å¦‚æœæ¯ä¸ªå¼•åŠ›æºéƒ½ä»£è¡¨ç€ä¸€ä¸ªè¦ç”Ÿæˆçš„çœŸå®æ ·æœ¬ç‚¹ï¼Œé‚£ä¹ˆè¿œå¤„çš„ä»»æ„ç‚¹åªè¦æ²¿ç€åœºçº¿è¿åŠ¨ï¼Œä¸å°±éƒ½å¯ä»¥æ¼”å˜æˆä¸€ä¸ªçœŸå®æ ·æœ¬ç‚¹äº†å—ï¼Ÿ</p>
</blockquote>
<p>è¿™å°±æ˜¯<a href="https://papers.cool/arxiv/2209.11178">ã€ŠPoisson Flow Generative Modelsã€‹</a>ä¸€æ–‡æœ€æ ¸å¿ƒçš„å¤©æ‰æƒ³æ³•ï¼</p>
<h2 id="_3">ç­‰æ•ˆè´¨å¿ƒ</h2>
<p>å½“ç„¶ï¼Œå¤©æ‰å½’å¤©æ‰ï¼Œè¦å°†å®ƒçœŸæ­£å˜æˆä¸€ä¸ªå¯ç”¨çš„æ¨¡å‹ï¼Œè¿˜æœ‰å¾ˆå¤šç»†èŠ‚è¦è¡¥å……ã€‚æ¯”å¦‚æˆ‘ä»¬åˆšæ‰è¯´â€œè¿œå¤„çš„ä»»æ„ç‚¹â€ï¼Œè¿™å°±æ˜¯æ‰©æ•£æ¨¡å‹çš„åˆå§‹åˆ†å¸ƒäº†ï¼Œé‚£ä¹ˆé—®é¢˜å°±æ¥äº†ï¼šâ€œè¿œå¤„â€æ˜¯å¤šè¿œï¼Ÿâ€œä»»æ„ç‚¹â€è¯¥å¦‚ä½•é‡‡æ ·ï¼Ÿå¦‚æœé‡‡æ ·æ–¹å¼è¿‡äºå¤æ‚ï¼Œé‚£ä¹Ÿæ²¡æœ‰ä»·å€¼äº†ã€‚</p>
<p>å¹¸è¿çš„æ˜¯ï¼Œå¼•åŠ›åœºæœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„ç­‰æ•ˆæ€§è´¨ï¼š</p>
<blockquote>
<p>æ— ç©·è¿œå¤„çš„å¤šæºå¼•åŠ›åœºï¼Œç­‰ä»·äºä½äºè´¨å¿ƒã€è´¨é‡å åŠ çš„è´¨ç‚¹å¼•åŠ›åœºã€‚</p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“è·ç¦»è¶³å¤Ÿè¿œæ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦å½“å®ƒæ˜¯ä½äºè´¨å¿ƒçš„å•æºè´¨ç‚¹å¼•åŠ›åœºã€‚ä¸‹å›¾ä¹Ÿç”»å‡ºäº†å¤šæºå¼•åŠ›åœºåŠå…¶å¯¹åº”çš„è´¨å¿ƒå¼•åŠ›åœºï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå½“è·ç¦»å˜å¤§æ—¶ï¼ˆæ©™è‰²åœ†åœˆä½ç½®ï¼‰ï¼Œä¸¤è€…çš„å¼•åŠ›åœºå‡ ä¹ä¸€è‡´äº†ã€‚  </p>
<p><a href="/usr/uploads/2022/10/1214065996.svg" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="å¤šæºå¼•åŠ›åœº" src="/usr/uploads/2022/10/1214065996.svg" /></a></p>
<p>å¤šæºå¼•åŠ›åœº</p>
<p><a href="/usr/uploads/2022/10/488016129.svg" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="è´¨å¿ƒå¼•åŠ›åœº" src="/usr/uploads/2022/10/488016129.svg" /></a></p>
<p>è´¨å¿ƒå¼•åŠ›åœº</p>
<p>å•ä¸ªè´¨ç‚¹çš„å¼•åŠ›åœºæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿå„å‘åŒæ€§ï¼è¿™æ„å‘³ç€åœ¨è¶³å¤Ÿå¤§åŠå¾„æ—¶ï¼Œå¯ä»¥è®¤ä¸ºåœºçº¿æ˜¯å‡åŒ€åœ°ç©¿è¿‡ä»¥è´¨ç‚¹ä¸ºçƒå¿ƒçš„çƒé¢çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ä¸€ä¸ªåŠå¾„è¶³å¤Ÿå¤§çš„çƒé¢ä¸Šè¿›è¡Œå‡åŒ€é‡‡æ ·å°±å¯ä»¥äº†ï¼Œè¿™å°±è§£å†³äº†åˆå§‹åˆ†å¸ƒçš„é‡‡æ ·é—®é¢˜ã€‚è‡³äºâ€œè¶³å¤Ÿå¤§â€æ˜¯å¤šå¤§ï¼Œæˆ‘ä»¬åé¢å†è¯´ã€‚</p>
<h2 id="_4">æ¨¡å¼åç¼©</h2>
<p>æ‰€ä»¥ç”Ÿæˆæ¨¡å‹å°±è¿™æ ·æ„å»ºå¥½äº†ï¼Ÿè¿˜æ²¡æœ‰ã€‚å¼•åŠ›åœºçš„å„å‘åŒæ€§ä½¿å¾—å¯¹åº”çš„åˆå§‹åˆ†å¸ƒæ˜“äºé‡‡æ ·ï¼Œç„¶è€Œä¹Ÿä¼šé€ æˆå¼•åŠ›æºçš„ç›¸äº’æŠµæ¶ˆç°è±¡ï¼Œä»è€Œå‡ºç°â€œæ¨¡å¼åç¼©ï¼ˆMode Collapseï¼‰â€ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬å…ˆæ¥ç”»å‡ºå‡åŒ€åˆ†å¸ƒåœ¨çƒå£³ä¸Šçš„å¼•åŠ›åœºï¼Œå®ƒçš„åˆ†å¸ƒæ˜¯è¿™æ ·çš„ï¼š  </p>
<p><a href="/usr/uploads/2022/10/1113525710.svg" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="å¼•åŠ›æºå„å‘åŒæ€§çš„å¼•åŠ›åœº" src="/usr/uploads/2022/10/1113525710.svg" /></a></p>
<p>å¼•åŠ›æºå„å‘åŒæ€§çš„å¼•åŠ›åœº</p>
<p>å‘ç°ç‰¹ç‚¹äº†æ²¡ï¼Ÿåœ¨çƒå£³å¤–éƒ¨æ˜¯æ­£å¸¸çš„å„å‘åŒæ€§åˆ†å¸ƒï¼Œä½†æ˜¯åœ¨çƒå£³å†…éƒ¨æ˜¯â€œç©ºâ€çš„ï¼ä¹Ÿå°±æ˜¯è¯´çƒå£³å†…éƒ¨çš„å¼•åŠ›åœºç›¸äº’æŠµæ¶ˆäº†ï¼Œç›¸å½“äºä¸€ä¸ªçœŸç©ºåœ°å¸¦ï¼Œè¿™ä¸ªç°è±¡ç¬”è€…åœ¨åå¤šå¹´å‰çš„ç§‘æ™®åšå®¢<a href="/archives/988">ã€Šçƒå£³å†…éƒ¨çš„å‡åŒ€åŠ›åœºã€‹</a>ä¹Ÿä»‹ç»è¿‡ã€‚</p>
<p>æŠµæ¶ˆç°è±¡æ„å‘³ç€ä»»æ„é€‰ä¸€ä¸ªçƒé¢ï¼Œçƒé¢ä¸Šå‡åŒ€åˆ†å¸ƒçš„å¼•åŠ›æºç”±äºå¼•åŠ›ç›¸äº’æŠµæ¶ˆï¼Œé‚£ä¹ˆå°±ç›¸å½“äºä¸å­˜åœ¨è¯¥å¼•åŠ›æºäº†ã€‚è€Œæˆ‘ä»¬è¯´äº†ï¼Œæœ¬æ–‡æ„å»ºç”Ÿæˆæ¨¡å‹çš„æ–¹å¼ï¼Œæ˜¯é€šè¿‡è¿œå¤„çš„ä»»æ„ç‚¹æ²¿ç€åœºçº¿è¿åŠ¨ï¼Œç›´è¾¾æŸä¸ªå¼•åŠ›æºã€‚å¦‚æœå¼•åŠ›æºç›¸äº’æŠµæ¶ˆï¼Œé‚£ä¹ˆå°±æ„å‘³ç€æ°¸è¿œä¹Ÿè¾¾ä¸åˆ°æŸäº›å¼•åŠ›æºï¼Œå³æ„å‘³ç€æŸäº›çœŸå®æ ·æœ¬æ— æ³•ç”Ÿæˆï¼Œç”Ÿæˆç»“æœå°±ä¼šç¼ºå¤±å¤šæ ·æ€§ï¼Œè¿™å°±æ˜¯â€œæ¨¡å¼åç¼©â€ç°è±¡ã€‚</p>
<h2 id="_5">å¢åŠ ä¸€ç»´</h2>
<p>çœ‹ä¸Šå»æ¨¡å¼åç¼©æ— è®ºå¦‚ä½•éƒ½æ˜¯ä¸èƒ½é¿å…çš„ã€‚å› ä¸ºåœ¨æ„å»ºç”Ÿæˆæ¨¡å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬é€šå¸¸å‡è®¾çœŸå®æ ·æœ¬æœä»ä¸€ä¸ªè¿ç»­å‹çš„åˆ†å¸ƒï¼Œè¿™æ ·ä¸€æ¥ï¼Œä»»é€‰ä¸€ä¸ªçƒé¢ï¼Œå“ªæ€•çœŸå®æ ·æœ¬åœ¨è¯¥çƒé¢çš„åˆ†å¸ƒä¸æ˜¯å‡åŒ€çš„ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½ä»ä¸­æŒ‘å‡ºä¸€ä¸ªå‡åŒ€åˆ†å¸ƒçš„â€œå­é›†â€ï¼Œè¯¥â€œå­é›†â€çš„å¼•åŠ›å°±ç›¸äº’æŠµæ¶ˆäº†ï¼Œç›¸å½“äºè¿™äº›æ•°æ®ç‚¹ä¸å­˜åœ¨äº†ï¼Œç»§è€Œå‘ç”Ÿæ¨¡å¼åç¼©ã€‚</p>
<p>é‚£ä¹ˆè¿™æ¡è·¯çœŸçš„èµ°åˆ°å°½å¤´äº†å—ï¼Ÿå¹¶æ²¡æœ‰ï¼è¿™æ—¶å€™PFGMçš„ç¬¬äºŒä¸ªâ€œå¤©æ‰æƒ³æ³•â€æ¥äº†ï¼š<strong>å¢åŠ ä¸€ç»´ï¼</strong></p>
<p>åˆšæ‰æˆ‘ä»¬åˆ†æäº†ï¼Œæ¨¡å¼åç¼©æ— æ³•é¿å…ï¼Œæ˜¯å› ä¸ºè¿ç»­æ€§åˆ†å¸ƒçš„å‡è®¾å¯¼è‡´å„å‘åŒæ€§æ— æ³•é¿å…ã€‚è¦æƒ³é¿å…æ¨¡å¼åç¼©ï¼Œå°±è¦æƒ³åŠæ³•æœç»åˆ†å¸ƒçš„å„å‘åŒæ€§ã€‚å¯æ˜¯çœŸå®æ ·æœ¬çš„åˆ†å¸ƒæ˜¯ç›®æ ‡åˆ†å¸ƒï¼Œè¿™æ˜¯ä¸èƒ½æ”¹å˜çš„ï¼Œç„¶è€Œæˆ‘ä»¬å¯ä»¥ç»™å®ƒå¢åŠ ä¸€ç»´ï¼Œå¦‚æœæˆ‘ä»¬åœ¨$d+1$ç»´ç©ºé—´å»è®¨è®ºï¼Œé‚£ä¹ˆåŸæ¥çš„$d$ç»´åˆ†å¸ƒå¯ä»¥è§†ä¸º$d+1$ç»´ç©ºé—´çš„ä¸€ä¸ªå¹³é¢ï¼Œå¹³é¢å°±ä¸å¯èƒ½å„å‘åŒæ€§äº†ã€‚ä¸¾ä¸ªä½ç»´ç©ºé—´çš„ä¾‹å­ã€‚æˆ‘ä»¬çŸ¥é“å¯¹äºäºŒç»´ç©ºé—´æ¥è¯´ï¼Œâ€œåœ†â€æ˜¯å„å‘åŒæ€§çš„ï¼Œä½†å¯¹äºä¸‰ç»´ç©ºé—´æ¥è¯´ï¼Œâ€œçƒâ€æ‰æ˜¯å„å‘åŒæ€§çš„ï¼ŒäºŒç»´ç©ºé—´ä¸­å„å‘åŒæ€§çš„â€œåœ†â€ï¼Œåœ¨ä¸‰ç»´ç©ºé—´çœ‹æ¥å°±ä¸æ˜¯å„å‘åŒæ€§äº†ã€‚</p>
<p>æ‰€ä»¥ï¼Œå‡è®¾è¦ç”Ÿæˆçš„çœŸå®æ ·æœ¬åŸæ¥æ˜¯$\boldsymbol{x}\in\mathbb{R}^d$çš„ï¼Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ªæ–°ç»´åº¦$t$ï¼Œä½¿å¾—æ•°æ®ç‚¹å˜ä¸º$(\boldsymbol{x},t)\in\mathbb{R}^{d+1}$ï¼Œè€ŒåŸæ¥çœŸå®æ ·æœ¬æœä»çš„åˆ†å¸ƒæ˜¯$\boldsymbol{x}\sim \tilde{p}(\boldsymbol{x})$çš„ï¼Œç°åœ¨æ”¹ä¸º$(\boldsymbol{x},t)\sim \delta(t)\tilde{p}(\boldsymbol{x})$ï¼Œå…¶ä¸­$\delta(t)$æ˜¯ç‹„æ‹‰å…‹åˆ†å¸ƒï¼Œå…¶å®å°±æ˜¯å°†çœŸå®æ ·æœ¬æ”¾åˆ°$d+1$ç»´ç©ºé—´çš„$t=0$å¹³é¢ä¸Šã€‚è¿™æ ·å¤„ç†åï¼Œåœ¨$d+1$ç»´ç©ºé—´ä¸­ï¼ŒçœŸå®æ ·æœ¬ç‚¹çš„$t$å–å€¼æ€»æ˜¯0ï¼Œå› æ­¤å°±ä¸èƒ½å‡ºç°å„å‘åŒæ€§ç°è±¡äº†ï¼ˆç±»æ¯”åˆšæ‰â€œä¸‰ç»´ç©ºé—´ä¸­çš„åœ†â€çš„ä¾‹å­ï¼‰ã€‚</p>
<h2 id="_6">è±ç„¶å¼€æœ—</h2>
<p>ä¹ä¸€çœ‹ï¼Œå¢åŠ ä¸€ç»´åªæ˜¯ä¸€ä¸ªæ•°å­¦ä¸Šçš„å°æŠ€å·§ï¼Œä½†ç»†ç»†å“å‘³ä¹‹ä¸‹ï¼Œæˆ‘ä»¬ä¼šè¶Šå‘æ„Ÿè§‰å®ƒå¦™ä¸å¯è¨€ï¼Œå¾ˆå¤šåœ¨åŸæ¥$d$ç»´ç©ºé—´ä¸­ä¸å¥½å¤„ç†çš„ç»†èŠ‚é—®é¢˜ï¼Œåœ¨$d+1$ç»´ç©ºé—´ä¸­å°±è±ç„¶å¼€æœ—äº†ã€‚</p>
<p>æ ¹æ®å¼$\eqref{eq:grad-d}$å’Œå¼•åŠ›çš„çº¿æ€§å åŠ æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºæ­¤æ—¶$d+1$ç»´ç©ºé—´çš„å¼•åŠ›åœºä¸º<br />
\begin{equation}\begin{aligned}<br />
\boldsymbol{F}(\boldsymbol{x}, t) =&amp;\, -\frac{1}{S_{d+1}(1)}\iint\frac{(\boldsymbol{x} - \boldsymbol{x}<em d_1="d+1">0, t - t_0)}{(\Vert\boldsymbol{x} - \boldsymbol{x}_0\Vert^2 + (t - t_0)^2)^{(d+1)/2}}\delta(t_0)\tilde{p}(\boldsymbol{x}_0) d\boldsymbol{x}_0dt_0 \\\<br />
=&amp;\, -\frac{1}{S</em>}(1)}\int\frac{(\boldsymbol{x} - \boldsymbol{x<em _boldsymbol_x="\boldsymbol{x">0, t)}{(\Vert\boldsymbol{x} - \boldsymbol{x}_0\Vert^2 + t^2)^{(d+1)/2}}\tilde{p}(\boldsymbol{x}_0) d\boldsymbol{x}_0 \\\<br />
\triangleq&amp;\, (\boldsymbol{F}</em>}}, \boldsymbol{F<em _boldsymbol_x="\boldsymbol{x">t)<br />
\end{aligned}\label{eq:field}\end{equation}<br />
å…¶ä¸­$\boldsymbol{F}</em>}}$æ˜¯$\boldsymbol{F}(\boldsymbol{x}, t)$çš„å‰$d$ä¸ªåˆ†é‡ï¼Œ$\boldsymbol{F<em _boldsymbol_x="\boldsymbol{x">t$æ˜¯å®ƒçš„ç¬¬$d+1$ä¸ªåˆ†é‡ã€‚ä¸‹ä¸€èŠ‚æˆ‘ä»¬å†æ¥è®¨è®º$\boldsymbol{F}(\boldsymbol{x}, t)$æ€ä¹ˆå­¦ï¼Œç°åœ¨å‡è®¾$\boldsymbol{F}(\boldsymbol{x}, t)$å·²ç»çŸ¥é“äº†ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±æ˜¯è¦æ²¿ç€åœºçº¿è¿åŠ¨ï¼Œä¹Ÿå°±æ˜¯è¿åŠ¨è½¨è¿¹è¦æ—¶åˆ»è·Ÿ$\boldsymbol{F}(\boldsymbol{x}, t)$åŒæ–¹å‘ï¼Œå³<br />
\begin{equation}(d\boldsymbol{x}, dt) = (\boldsymbol{F}</em>}}, \boldsymbol{F<em _boldsymbol_x="\boldsymbol{x">t) d\tau\quad\Rightarrow\quad \frac{d\boldsymbol{x}}{dt} = \frac{\boldsymbol{F}</em>}}}{\boldsymbol{F}_t}\label{eq:ode}\end{equation<br />
è¿™å°±æ˜¯ç”Ÿæˆè¿‡ç¨‹æ‰€éœ€è¦çš„å¾®åˆ†æ–¹ç¨‹ï¼ˆODEï¼‰ã€‚åœ¨ä¹‹å‰çš„$d$ç»´æ–¹æ¡ˆä¸­ï¼Œé™¤äº†æœ‰æ¨¡å¼åç¼©é—®é¢˜å¤–ï¼Œä»€ä¹ˆæ—¶å€™ç»ˆæ­¢ä¹Ÿæ˜¯ä¸€ä¸ªä¸å¥½å¤„ç†çš„ç»†èŠ‚é—®é¢˜ã€‚ç›´è§‚æ¥æƒ³ï¼Œå°±æ˜¯æ²¿ç€åœºçº¿è¿åŠ¨ï¼Œç›´åˆ°æ’ä¸Šä¸€ä¸ªçœŸå®æ ·æœ¬åå°±åœæ­¢ï¼Œä½†ä»€ä¹ˆæ—¶å€™æ‰æ˜¯â€œæ’ä¸Šâ€ï¼Œè¿™ä¸ªå¹¶ä¸å¥½åˆ¤æ–­ã€‚è€Œåœ¨$d+1$ç»´æ–¹æ¡ˆä¸­ï¼Œæˆ‘ä»¬çŸ¥é“çœŸå®æ ·æœ¬éƒ½æ˜¯åœ¨$t=0$è¿™ä¸ªé¢ä¸Šï¼Œæ‰€ä»¥å¯ä»¥å¾ˆè‡ªç„¶åœ°ä»¥$t=0$ä¸ºç»ˆæ­¢ä¿¡å·äº†ã€‚</p>
<p>è‡³äºåˆå§‹åˆ†å¸ƒï¼ŒæŒ‰ç…§å‰é¢çš„è®¨è®ºï¼Œåº”è¯¥æ˜¯â€œåŠå¾„è¶³å¤Ÿå¤§çš„ã€$d+1$ç»´çš„çƒé¢å‡åŒ€åˆ†å¸ƒâ€ï¼Œä½†æ—¢ç„¶æˆ‘ä»¬æ˜¯ä»¥$t=0$ä¸ºç»ˆæ­¢ä¿¡å·ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸å¦¨å›ºå®šä¸€ä¸ªè¶³å¤Ÿå¤§çš„$t=T$ï¼ˆå¤§è‡´æ˜¯$40\sim 100$è¿™ä¸ªé‡çº§ï¼‰ï¼Œç„¶ååœ¨$t=T$è¿™ä¸ªå¹³é¢ä¸Šåšé‡‡æ ·ï¼Œè¿™æ ·ä¸€æ¥ç”Ÿæˆè¿‡ç¨‹å°±å˜æˆäº†å¾®åˆ†æ–¹ç¨‹$\eqref{eq:ode}$ä»$t=T$åˆ°$t=0$çš„è¿åŠ¨è¿‡ç¨‹äº†ï¼Œç”Ÿæˆè¿‡ç¨‹çš„å§‹å’Œç»ˆéƒ½å˜å¾—ç›¸å½“æ˜æœ—ã€‚</p>
<p>å½“ç„¶ï¼Œå¦‚æœåœ¨å›ºå®šçš„$t=T$å¹³é¢ä¸Šé‡‡æ ·ï¼Œé‚£è‚¯å®šå°±ä¸æ˜¯å‡åŒ€çš„äº†ã€‚äº‹å®ä¸Šæœ‰ï¼š<br />
\begin{equation}p_{prior}(\boldsymbol{x}) \propto \frac{1}{(\Vert\boldsymbol{x}\Vert^2 + T^2)^{(d+1)/2}}\end{equation}<br />
æ¨å¯¼è¿‡ç¨‹è§ä¸‹é¢çš„æ¡†ã€‚å¯ä»¥çœ‹åˆ°ï¼Œæ¦‚ç‡å¯†åº¦åªä¾èµ–äºæ¨¡é•¿$\Vert\boldsymbol{x}\Vert$ï¼Œæ‰€ä»¥ä»è¯¥åˆ†å¸ƒé‡‡æ ·çš„æ–¹æ¡ˆæ˜¯å…ˆæŒ‰ç…§ç‰¹å®šçš„åˆ†å¸ƒé‡‡æ ·æ¨¡é•¿ï¼Œç„¶åå†æŒ‰å‡åŒ€åˆ†å¸ƒé‡‡æ ·æ–¹å‘ï¼Œå°†ä¸¤è€…è¿›è¡Œç»„åˆã€‚å¯¹äºæ¨¡é•¿çš„é‡‡æ ·ï¼Œè®°$r=\Vert\boldsymbol{x}\Vert$ï¼Œæˆ‘ä»¬å°†å®ƒæ¢å…ƒåˆ°è¶…çƒåæ ‡ï¼Œå°±å¯ä»¥å¾—åˆ°$p_{prior}(r)\propto r^{d-1}(r^2 + T^2)^{-(d+1)/2}$ï¼Œç„¶ååˆ©ç”¨é€†ç´¯ç§¯æ¦‚ç‡å‡½æ•°æ³•è¿›è¡Œé‡‡æ ·å°±è¡Œäº†ï¼ˆå‚è€ƒ<a href="/archives/8404#%E7%89%B9%E6%AE%8A%E6%96%B9%E5%90%91">ã€Šå˜åˆ†è‡ªç¼–ç å™¨ï¼ˆä¸ƒï¼‰ï¼šçƒé¢ä¸Šçš„VAEï¼ˆvMF-VAEï¼‰ã€‹</a>ï¼‰ã€‚</p>
<blockquote>
<p><strong>åˆå§‹åˆ†å¸ƒçš„æ¨å¯¼ï¼š</strong> åœºçº¿æ˜¯å‡åŒ€ç©¿è¿‡$d+1$ç»´è¶…çƒé¢ä¸Šçš„ï¼Œæ‰€ä»¥$(\boldsymbol{x}, T)$å¤„çš„å¯†åº¦æ˜¯åæ¯”äº$S_{d+1}(\boldsymbol{x}, T)$ï¼Œå³$\propto \frac{1}{(\Vert\boldsymbol{x}\Vert^2 + T^2)^{d/2}}$ï¼Œä½†ç°åœ¨ä¸æ˜¯åœ¨çƒé¢ï¼Œè€Œæ˜¯åœ¨$t=T$çš„å¹³é¢ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å°†çƒé¢æŠ•å½±åˆ°å¹³é¢ä¸Šï¼Œç¤ºæ„å›¾å¦‚ä¸‹ï¼š  </p>
<p><a href="/usr/uploads/2022/10/1762495694.svg" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="çƒé¢åˆ°t=Tå¹³é¢çš„æŠ•å½±" src="/usr/uploads/2022/10/1762495694.svg" /></a></p>
<p>çƒé¢åˆ°t=Tå¹³é¢çš„æŠ•å½±</p>
<p>å¦‚ä¸Šå›¾ï¼Œå½“$B$ã€$D$ä¸¤ç‚¹å……åˆ†æ¥è¿‘æ—¶ï¼Œæœ‰$\Delta OAB\sim \Delta BDC$ï¼Œæ‰€ä»¥<br />
 \begin{equation}\frac{|BC|}{|BD|} = \frac{|OB|}{|OA|} = \frac{\sqrt{\Vert\boldsymbol{x}\Vert^2 + T^2}}{T}\end{equation}<br />
 ä¹Ÿå°±æ˜¯è¯´ï¼ŒåŸæœ¬çƒé¢ä¸Šå•ä½é•¿åº¦çš„å¼§ï¼ŒæŠ•å½±åˆ°å¹³é¢ä¸Šåé•¿åº¦å˜ä¸ºäº†$\frac{\sqrt{\Vert\boldsymbol{x}\Vert^2 + T^2}}{T}$å€ï¼Œç”±äºåªæœ‰ä¸€ä¸ªç»´åº¦å˜åŒ–ï¼Œæ‰€ä»¥åŸæ¥çƒé¢ä¸Šçš„é¢ç§¯å…ƒï¼ŒæŠ•å½±åä¹Ÿå˜ä¸º$\frac{\sqrt{\Vert\boldsymbol{x}\Vert^2 + T^2}}{T}$å€ï¼Œå› æ­¤æ ¹æ®æ¦‚ç‡åæ¯”é¢ç§¯ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°<br />
 \begin{equation}p_{prior}(\boldsymbol{x}) \propto \frac{1}{S_{d+1}(\boldsymbol{x}, T)}\times \frac{T}{\sqrt{\Vert\boldsymbol{x}\Vert^2 + T^2}}\propto \frac{1}{(\Vert\boldsymbol{x}\Vert^2 + T^2)^{(d+1)/2}}\end{equation}</p>
</blockquote>
<h2 id="_7">åœºçš„è®­ç»ƒ</h2>
<p>ç°åœ¨ï¼Œåˆå§‹åˆ†å¸ƒæœ‰äº†ï¼Œå¾®åˆ†æ–¹ç¨‹ä¹Ÿæœ‰äº†ï¼Œæ‰€ä»¥å°±åªå·®å‘é‡åœºå‡½æ•°$\boldsymbol{F}(\boldsymbol{x}, t)$çš„è®­ç»ƒäº†ã€‚ä»å¾®åˆ†æ–¹ç¨‹$\eqref{eq:ode}$å¯ä»¥çœ‹å‡ºï¼Œå®ƒåªä¾èµ–äºå‘é‡åœºçš„ç›¸å¯¹å€¼ï¼Œå› æ­¤å‘é‡åœºçš„ç¼©æ”¾ä¸å½±å“æœ€ç»ˆç»“æœã€‚æ ¹æ®å¼$\eqref{eq:field}$ï¼Œå‘é‡åœºå¯ä»¥å†™ä¸º<br />
\begin{equation}\boldsymbol{F}(\boldsymbol{x}, t) = \mathbb{E}<em _boldsymbol_x="\boldsymbol{x">{\boldsymbol{x}_0\sim \tilde{p}(\boldsymbol{x}_0)}\left[-\frac{(\boldsymbol{x} - \boldsymbol{x}_0, t)}{(\Vert\boldsymbol{x} - \boldsymbol{x}_0\Vert^2 + t^2)^{(d+1)/2}}\right]\end{equation}<br />
æ ¹æ®æˆ‘ä»¬åœ¨<a href="/archives/9209">ã€Šç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäº”ï¼‰ï¼šä¸€èˆ¬æ¡†æ¶ä¹‹SDEç¯‡ã€‹</a>ã€<a href="/archives/9245">ã€Šç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆä¸ƒï¼‰ï¼šæœ€ä¼˜æ‰©æ•£æ–¹å·®ä¼°è®¡ï¼ˆä¸Šï¼‰ã€‹</a>ç­‰æ–‡ç« å¤šæ¬¡ç”¨åˆ°ä¸€ä¸ªç»“è®ºï¼š<br />
\begin{equation}\mathbb{E}</em>}}[\boldsymbol{x}] = \mathop{\text{argmin}<em _boldsymbol_x="\boldsymbol{x">{\boldsymbol{\mu}}\mathbb{E}</em>}}\left[\Vert \boldsymbol{x} - \boldsymbol{\mu}\Vert^2\right]\end{equation<br />
æˆ‘ä»¬å¯ä»¥å¼•å…¥å‡½æ•°$\boldsymbol{s}<em _boldsymbol_x="\boldsymbol{x">{\boldsymbol{\theta}}(\boldsymbol{x}, t)$æ¥å­¦ä¹ $\boldsymbol{F}(\boldsymbol{x}, t)$ï¼Œè®­ç»ƒç›®æ ‡ä¸º<br />
\begin{equation}\mathbb{E}</em><em _boldsymbol_theta="\boldsymbol{\theta">0\sim \tilde{p}(\boldsymbol{x}_0)}\left[\left\Vert\boldsymbol{s}</em>}}(\boldsymbol{x}, t) + \frac{(\boldsymbol{x} - \boldsymbol{x<em _boldsymbol_x="\boldsymbol{x">0, t)}{(\Vert\boldsymbol{x} - \boldsymbol{x}_0\Vert^2 + t^2)^{(d+1)/2}}\right\Vert^2\right]\label{eq:loss}\end{equation}<br />
ç„¶è€Œï¼Œä¸Šè¿°ç›®æ ‡çš„$\boldsymbol{x},t$è¿˜éœ€è¦é‡‡æ ·ï¼Œå®ƒçš„é‡‡æ ·æ–¹å¼æ²¡æœ‰æ˜ç¡®å®šä¹‰ã€‚è¿™å°±æ˜¯PFGMçš„ä¸»è¦ç‰¹ç‚¹ä¹‹ä¸€ï¼Œå®ƒç›´æ¥å®šä¹‰äº†åå‘è¿‡ç¨‹ï¼ˆç”Ÿæˆè¿‡ç¨‹ï¼‰ï¼Œä¸éœ€è¦å®šä¹‰å‰å‘è¿‡ç¨‹ï¼Œè€Œè¿™ä¸€æ­¥çš„é‡‡æ ·å®é™…ä¸Šå°±ç›¸å½“äºå‰å‘è¿‡ç¨‹ã€‚ä¸ºæ­¤ï¼ŒåŸè®ºæ–‡è€ƒè™‘åœ°æ¯ä¸ªçœŸå®æ ·æœ¬è¿›è¡Œæ‰°åŠ¨çš„æ–¹å¼æ¥æ„å»º$\boldsymbol{x},t$çš„æ ·æœ¬ï¼š<br />
\begin{equation}\boldsymbol{x} = \boldsymbol{x}_0 + \Vert \boldsymbol{\varepsilon}</em>}}\Vert (1+\tau)^m \boldsymbol{u},\quad t = |\varepsilon_t| (1+\tau)^m\end{equation<br />
å…¶ä¸­$(\boldsymbol{\varepsilon}<em _d_1_times_d_1_="(d+1)\times(d+1)">{\boldsymbol{x}},\varepsilon_t)\sim\mathcal{N}(\boldsymbol{0}, \sigma^2\boldsymbol{I}</em>$æ˜¯$d$ç»´å•ä½çƒé¢ä¸Šå‡åŒ€åˆ†å¸ƒçš„å•ä½å‘é‡ï¼Œè€Œ$\tau,\sigma,M$åˆ™éƒ½æ˜¯å¸¸æ•°ã€‚~~è¿™ä¸ªè®¾è®¡æœ‰é¢‡å¤šçš„ä¸»è§‚æ€§ï¼Œå¤§å®¶è‡ªè¡Œæ¬£èµå’Œé¢†ä¼šå³å¯ï¼Œè¿™é‡Œä¸åšè¿‡å¤šå±•å¼€ã€‚~~ åç»­è®¨è®ºè¯·çœ‹})$ï¼Œ$m\sim U[0,M]$ï¼Œ$\boldsymbol{u<a href="/archives/9370#%E9%97%AE%E9%A2%98%E9%87%8D%E6%8B%BE">è¿™é‡Œ</a>ã€‚</p>
<p>æœ€åï¼ŒåŸè®ºæ–‡çš„è®­ç»ƒç›®æ ‡è·Ÿæœ¬æ–‡çš„å¼$\eqref{eq:loss}$ç•¥æœ‰ä¸åŒï¼Œå¤§è‡´ç›¸å½“äº<br />
\begin{equation}\left\Vert\boldsymbol{s}<em _boldsymbol_x="\boldsymbol{x">{\boldsymbol{\theta}}(\boldsymbol{x}, t) + \text{Normalize}\left(\mathbb{E}</em>}_0\sim \tilde{p}(\boldsymbol{x}_0)}\left[\frac{(\boldsymbol{x} - \boldsymbol{x}_0, t)}{(\Vert\boldsymbol{x} - \boldsymbol{x}_0\Vert^2 + t^2)^{(d+1)/2}}\right]\right)\right\Vert^2\end{equation<br />
å®é™…è®­ç»ƒæ—¶ç”±äºåªèƒ½é‡‡æ ·æœ‰é™ä¸ª$\boldsymbol{x}_0$å¯¹æ‹¬å·é‡Œè¾¹çš„æœŸæœ›è¿›è¡Œä¼°ç®—ï¼Œå› æ­¤è¯¥ç›®æ ‡å®é™…ä¸Šæ˜¯ä¸€ä¸ªæœ‰åä¼°è®¡ã€‚å½“ç„¶æœ‰åä¸ä¸€å®šå°±æ¯”æ— åæ›´å·®ï¼Œå…·ä½“ä¸ºä»€ä¹ˆåŸè®ºæ–‡ä½¿ç”¨æœ‰åä¼°è®¡ï¼Œè¿™é‡Œæš‚æ—¶ä¸å¾—è€ŒçŸ¥ï¼ŒçŒœæµ‹æ˜¯å› ä¸ºæœ‰åä¼°è®¡ç”±äºå¯¹å‘é‡è¿›è¡Œäº†å½’ä¸€åŒ–æ“ä½œï¼Œå¯èƒ½ä¼šä½¿å¾—è®­ç»ƒè¿›ç¨‹æ›´åŠ ç¨³å®šï¼Œä½†æ˜¯ä¹Ÿå› ä¸ºæœ‰åçš„ä¼°è®¡è¿›è¡Œäº†å½’ä¸€åŒ–ï¼Œæ‰€ä»¥éœ€è¦è¾ƒå¤§çš„batch_sizeæ‰èƒ½æ¯”è¾ƒå‡†ï¼Œè¿™å¯¹å®éªŒæˆæœ¬æäº†è¦æ±‚ã€‚</p>
<h2 id="_8">å®éªŒç»“æœ</h2>
<p>å¯ä»¥è¯´ï¼ŒPFGMæ˜¯ä¸€ä¸ªå½»åº•çš„æ–°æ¡†æ¶ï¼Œå®ƒä¸å†åƒä¹‹å‰ä¸€æ ·ä¾èµ–äºé«˜æ–¯å‡è®¾ï¼Œå¹¶ä¸”å¾—åˆ°äº†ä¸€ä¸ªç¡®å®æœ‰ç€å…¨æ–°å†…æ¶µçš„æ¨¡å‹ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬ä¸èƒ½â€œä¸ºæ–°è€Œæ–°â€ï¼Œå¦‚æœæ–°çš„æ¡†æ¶æ²¡æœ‰åšå‡ºæ›´æœ‰è¯´æœåŠ›çš„ç»“æœï¼Œé‚£ä¹ˆæ–°å°±æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚</p>
<p>å½“ç„¶ï¼ŒåŸè®ºæ–‡çš„å®éªŒç»“æœï¼Œè‚¯å®šäº†PFGMçš„ä»·å€¼ï¼Œæ¯”å¦‚å¾—åˆ°äº†æ›´å¥½çš„è¯„ä¼°æŒ‡æ ‡ã€æ›´å¿«çš„ç”Ÿæˆé€Ÿåº¦ï¼Œä»¥åŠå¯¹è¶…å‚æ•°ï¼ˆåŒ…æ‹¬æ¨¡å‹æ¶æ„ï¼‰æœ‰æ›´å¥½çš„é²æ£’æ€§ç­‰ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€å±•ç¤ºäº†ï¼Œå¤§å®¶è‡ªè¡Œè¯»åŸè®ºæ–‡å°±å¥½ã€‚æˆ‘çœ‹äº†çœ‹åŸè®ºæ–‡ä¸­äº†NeurIPS 2022ï¼Œä¸å¾—ä¸è¯´è¿™ç¡®å®æ˜¯å®è‡³åå½’çš„é¡¶ä¼šè®ºæ–‡å•Šï¼</p>
<blockquote>
<p><strong>å®˜æ–¹Githubï¼š<a href="https://github.com/Newbeeer/Poisson_flow">https://github.com/Newbeeer/Poisson_flow</a></strong></p>
</blockquote>
<p><a href="/usr/uploads/2022/10/3603165335.png" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="PFGMçš„å®éªŒç»“æœï¼ˆéƒ¨åˆ†ï¼‰" src="/usr/uploads/2022/10/3603165335.png" /></a></p>
<p>PFGMçš„å®éªŒç»“æœï¼ˆéƒ¨åˆ†ï¼‰</p>
<h2 id="_9">æ–‡ç« å°ç»“</h2>
<p>æœ¬æ–‡ä»‹ç»äº†ä¸€ä¸ªç”±â€œä¸‡æœ‰å¼•åŠ›å®šå¾‹â€å¯å‘çš„ODEå¼æ‰©æ•£æ¨¡å‹ï¼Œå®ƒçªç ´äº†ä»¥å¾€ä¼—å¤šæ‰©æ•£æ¨¡å‹å¯¹é«˜æ–¯å‡è®¾çš„ä¾èµ–ï¼Œæ˜¯ä¸€ä¸ªåŸºäºåœºè®ºæ¥æ„å»ºODEå¼æ‰©æ•£æ¨¡å‹çš„å…¨æ–°æ¡†æ¶ï¼Œæ•´ä¸ªæ¨¡å‹é¢‡å¤šå¯å‘æ€§ï¼Œå€¼å¾—ä»”ç»†ç ”è¯»ã€‚</p>
<p><em><strong>è½¬è½½åˆ°è¯·åŒ…æ‹¬æœ¬æ–‡åœ°å€ï¼š</strong><a href="https://spaces.ac.cn/archives/9305">https://spaces.ac.cn/archives/9305</a></em></p>
<p><em><strong>æ›´è¯¦ç»†çš„è½¬è½½äº‹å®œè¯·å‚è€ƒï¼š</strong></em><a href="https://spaces.ac.cn/archives/6508#%E6%96%87%E7%AB%A0%E5%A6%82%E4%BD%95%E8%BD%AC%E8%BD%BD/%E5%BC%95%E7%94%A8" title="ã€Šç§‘å­¦ç©ºé—´FAQã€‹">ã€Šç§‘å­¦ç©ºé—´FAQã€‹</a></p>
<p><strong>å¦‚æœæ‚¨è¿˜æœ‰ä»€ä¹ˆç–‘æƒ‘æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹è¯„è®ºåŒºç»§ç»­è®¨è®ºã€‚</strong></p>
<p><strong>å¦‚æœæ‚¨è§‰å¾—æœ¬æ–‡è¿˜ä¸é”™ï¼Œæ¬¢è¿åˆ†äº«/æ‰“èµæœ¬æ–‡ã€‚æ‰“èµå¹¶éè¦ä»ä¸­è·å¾—æ”¶ç›Šï¼Œè€Œæ˜¯å¸Œæœ›çŸ¥é“ç§‘å­¦ç©ºé—´è·å¾—äº†å¤šå°‘è¯»è€…çš„çœŸå¿ƒå…³æ³¨ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æ— è§†å®ƒï¼Œä¹Ÿä¸ä¼šå½±å“ä½ çš„é˜…è¯»ã€‚å†æ¬¡è¡¨ç¤ºæ¬¢è¿å’Œæ„Ÿè°¢ï¼</strong></p>
<p>æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/wx.png" /></p>
<p>å¾®ä¿¡æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/zfb.png" /></p>
<p>æ”¯ä»˜å®æ‰“èµ</p>
<p>å› ä¸ºç½‘ç«™åå°å¯¹æ‰“èµå¹¶æ— è®°å½•ï¼Œå› æ­¤æ¬¢è¿åœ¨æ‰“èµæ—¶å€™å¤‡æ³¨ç•™è¨€ã€‚ä½ è¿˜å¯ä»¥<a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=tN7d1drY3drrx8H0xcWa19vZ"><strong>ç‚¹å‡»è¿™é‡Œ</strong></a>æˆ–åœ¨ä¸‹æ–¹è¯„è®ºåŒºç•™è¨€æ¥å‘ŠçŸ¥ä½ çš„å»ºè®®æˆ–éœ€æ±‚ã€‚</p>
<p><strong>å¦‚æœæ‚¨éœ€è¦å¼•ç”¨æœ¬æ–‡ï¼Œè¯·å‚è€ƒï¼š</strong></p>
<p>è‹å‰‘æ—. (Oct. 18, 2022). ã€Šç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆåä¸‰ï¼‰ï¼šä»ä¸‡æœ‰å¼•åŠ›åˆ°æ‰©æ•£æ¨¡å‹ ã€‹[Blog post]. Retrieved from <a href="https://spaces.ac.cn/archives/9305">https://spaces.ac.cn/archives/9305</a></p>
<p>@online{kexuefm-9305,<br />
title={ç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆåä¸‰ï¼‰ï¼šä»ä¸‡æœ‰å¼•åŠ›åˆ°æ‰©æ•£æ¨¡å‹},<br />
author={è‹å‰‘æ—},<br />
year={2022},<br />
month={Oct},<br />
url={\url{https://spaces.ac.cn/archives/9305}},<br />
} </p>
<hr />
<h2 id="_10">å…¬å¼æ¨å¯¼ä¸æ³¨é‡Š</h2>
<p>æœ¬èŠ‚æä¾›æ–‡ç« ä¸­å…³é”®å…¬å¼çš„æè¯¦ç»†æ•°å­¦æ¨å¯¼ï¼Œæ¶µç›–å¼•åŠ›åœºç†è®ºã€Poissonæ–¹ç¨‹ã€Greenå‡½æ•°ã€åŠ¿å‡½æ•°ç†è®ºä»¥åŠä¸æ‰©æ•£æ¨¡å‹çš„æ·±åˆ»è”ç³»ã€‚</p>
<hr />
<h3 id="1">1. å¼•åŠ›åœºçš„åŸºç¡€æ•°å­¦å½¢å¼</h3>
<p><strong>æ¨å¯¼1.1ï¼šä»ç‰›é¡¿ä¸‡æœ‰å¼•åŠ›åˆ°å‘é‡åœºè¡¨ç¤º</strong></p>
<p>ç‰›é¡¿ä¸‡æœ‰å¼•åŠ›å®šå¾‹çš„æ ‡é‡å½¢å¼ä¸ºï¼š</p>
<p>$$
F = G\frac{m_1 m_2}{r^2}
$$</p>
<p>å…¶ä¸­$G$æ˜¯å¼•åŠ›å¸¸æ•°ï¼Œ$m_1,m_2$æ˜¯ä¸¤ä¸ªè´¨ç‚¹çš„è´¨é‡ï¼Œ$r$æ˜¯å®ƒä»¬ä¹‹é—´çš„è·ç¦»ã€‚</p>
<p><strong>å‘é‡å½¢å¼æ¨å¯¼ï¼š</strong></p>
<p>è€ƒè™‘å¼•åŠ›æºä½äº$\boldsymbol{y}$ï¼Œè´¨ç‚¹ä½äº$\boldsymbol{x}$ã€‚å¼•åŠ›æ–¹å‘åº”è¯¥æ˜¯ä»$\boldsymbol{x}$æŒ‡å‘$\boldsymbol{y}$ï¼Œå› æ­¤æ–¹å‘å‘é‡ä¸ºï¼š</p>
<p>$$
\frac{\boldsymbol{y} - \boldsymbol{x}}{\|\boldsymbol{y} - \boldsymbol{x}\|}
$$</p>
<p>å¼•åŠ›çš„å¤§å°ä¸º$\frac{1}{r^2} = \frac{1}{|\boldsymbol{x} - \boldsymbol{y}|^2}$ï¼ˆè¿™é‡Œæˆ‘ä»¬å¿½ç•¥å¸¸æ•°å› å­ï¼‰ã€‚</p>
<p>å› æ­¤ï¼Œå¼•åŠ›çš„å‘é‡å½¢å¼ä¸ºï¼š</p>
<p>$$
\boldsymbol{F}(\boldsymbol{x}) = -\frac{\boldsymbol{x} - \boldsymbol{y}}{\|\boldsymbol{x} - \boldsymbol{y}\|^2} \cdot \frac{1}{\|\boldsymbol{x} - \boldsymbol{y}\|}
$$</p>
<p>å³ï¼š</p>
<p>$$
\boldsymbol{F}(\boldsymbol{x}) = -\frac{\boldsymbol{x} - \boldsymbol{y}}{\|\boldsymbol{x} - \boldsymbol{y}\|^3}
$$</p>
<p>è´Ÿå·è¡¨ç¤ºåŠ›çš„æ–¹å‘æ˜¯å¸å¼•çš„ï¼ˆä»$\boldsymbol{x}$æŒ‡å‘$\boldsymbol{y}$ï¼‰ã€‚</p>
<hr />
<p><strong>æ¨å¯¼1.2ï¼šä¸‰ç»´ç©ºé—´çš„å½’ä¸€åŒ–å› å­</strong></p>
<p>åœ¨ä¸‰ç»´ç©ºé—´ä¸­ï¼Œä¸ºäº†ä¿è¯åœºçš„é€šé‡å®ˆæ’ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥å½’ä¸€åŒ–å› å­$\frac{1}{4\pi}$ã€‚è¿™ä¸ªå› å­æ¥è‡ªäºä¸‰ç»´ç©ºé—´ä¸­å•ä½çƒé¢çš„è¡¨é¢ç§¯ã€‚</p>
<p>ä¸‰ç»´ç©ºé—´ä¸­ï¼ŒåŠå¾„ä¸º$R$çš„çƒé¢è¡¨é¢ç§¯ä¸ºï¼š</p>
<p>$$
S_3(R) = 4\pi R^2
$$</p>
<p>å› æ­¤å•ä½çƒé¢ï¼ˆ$R=1$ï¼‰çš„è¡¨é¢ç§¯ä¸ºï¼š</p>
<p>$$
S_3(1) = 4\pi
$$</p>
<p>è€ƒè™‘å¼•åŠ›åœºçš„æ•£åº¦å®šç†ï¼ˆGausså®šç†ï¼‰ã€‚å¯¹äºä½äºåŸç‚¹çš„ç‚¹è´¨é‡æºï¼Œå¼•åŠ›åœºåº”è¯¥æ»¡è¶³ï¼š</p>
<p>$$
\oint_{S} \boldsymbol{F} \cdot d\boldsymbol{S} = -1
$$</p>
<p>è¿™æ„å‘³ç€æ€»é€šé‡ä¸º$-1$ã€‚å¦‚æœä¸åŠ å½’ä¸€åŒ–å› å­ï¼Œé€šé‡å°†æ˜¯$-4\pi$ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦é™¤ä»¥$4\pi$ï¼š</p>
<p>$$
\boldsymbol{F}(\boldsymbol{x}) = -\frac{1}{4\pi}\frac{\boldsymbol{x} - \boldsymbol{y}}{\|\boldsymbol{x} - \boldsymbol{y}\|^3}
$$</p>
<hr />
<p><strong>æ¨å¯¼1.3ï¼šdç»´ç©ºé—´çš„æ¨å¹¿</strong></p>
<p>åœ¨$d$ç»´æ¬§æ°ç©ºé—´ä¸­ï¼Œå•ä½è¶…çƒé¢çš„è¡¨é¢ç§¯å…¬å¼ä¸ºï¼š</p>
<p>$$
S_d(1) = \frac{2\pi^{d/2}}{\Gamma(d/2)}
$$</p>
<p>å…¶ä¸­$\Gamma$æ˜¯Gammaå‡½æ•°ã€‚ä¾‹å¦‚ï¼š
- $d=2$: $S_2(1) = \frac{2\pi^1}{\Gamma(1)} = 2\pi$ ï¼ˆåœ†çš„å‘¨é•¿ï¼‰
- $d=3$: $S_3(1) = \frac{2\pi^{3/2}}{\Gamma(3/2)} = \frac{2\pi^{3/2}}{\frac{\sqrt{\pi}}{2}} = 4\pi$ ï¼ˆçƒçš„è¡¨é¢ç§¯ï¼‰
- $d=4$: $S_4(1) = \frac{2\pi^2}{\Gamma(2)} = 2\pi^2$</p>
<p>åœ¨$d$ç»´ç©ºé—´ä¸­ï¼Œå¼•åŠ›åœºçš„è¡°å‡è§„å¾‹æ˜¯$\frac{1}{r^{d-1}}$ï¼ˆä¿è¯é€šé‡å®ˆæ’ï¼‰ã€‚å› æ­¤ï¼Œ$d$ç»´ç©ºé—´çš„å¼•åŠ›åœºå½¢å¼ä¸ºï¼š</p>
<p>$$
\boldsymbol{F}(\boldsymbol{x}) = -\frac{1}{S_d(1)}\frac{\boldsymbol{x} - \boldsymbol{y}}{\|\boldsymbol{x} - \boldsymbol{y}\|^{d-1}} \cdot \frac{1}{\|\boldsymbol{x} - \boldsymbol{y}\|}
$$</p>
<p>å³ï¼š</p>
<p>$$
\boldsymbol{F}(\boldsymbol{x}) = -\frac{1}{S_d(1)}\frac{\boldsymbol{x} - \boldsymbol{y}}{\|\boldsymbol{x} - \boldsymbol{y}\|^d}
$$</p>
<hr />
<h3 id="2-poissongreen">2. Poissonæ–¹ç¨‹ä¸Greenå‡½æ•°</h3>
<p><strong>æ¨å¯¼2.1ï¼šPoissonæ–¹ç¨‹çš„æ¨å¯¼</strong></p>
<p>å¼•åŠ›åœº$\boldsymbol{F}$ä¸å¼•åŠ›åŠ¿$\phi$çš„å…³ç³»ä¸ºï¼š</p>
<p>$$
\boldsymbol{F}(\boldsymbol{x}) = -\nabla \phi(\boldsymbol{x})
$$</p>
<p>è¿™é‡Œçš„è´Ÿå·æ˜¯å› ä¸ºåŠ›çš„æ–¹å‘æ˜¯ä»é«˜åŠ¿èƒ½æŒ‡å‘ä½åŠ¿èƒ½ã€‚</p>
<p>å¯¹äºä½äº$\boldsymbol{y}$çš„ç‚¹è´¨é‡æºï¼Œå…¶å¼•åŠ›åŠ¿åœ¨$d$ç»´ç©ºé—´ä¸­çš„å½¢å¼ä¸ºï¼š</p>
<p>$$
\phi(\boldsymbol{x}) = \frac{1}{(d-2)S_d(1)} \frac{1}{\|\boldsymbol{x} - \boldsymbol{y}\|^{d-2}} \quad (d > 2)
$$</p>
<p><strong>éªŒè¯æ¢¯åº¦ï¼š</strong></p>
<p>æˆ‘ä»¬è®¡ç®—$\nabla \phi(\boldsymbol{x})$ã€‚è®¾$r = |\boldsymbol{x} - \boldsymbol{y}|$ï¼Œåˆ™ï¼š</p>
<p>$$
\phi(\boldsymbol{x}) = \frac{1}{(d-2)S_d(1)} r^{-(d-2)}
$$</p>
<p>åˆ©ç”¨é“¾å¼æ³•åˆ™ï¼š</p>
<p>$$
\nabla \phi = \frac{\partial \phi}{\partial r} \nabla r
$$</p>
<p>å…¶ä¸­ï¼š</p>
<p>$$
\frac{\partial \phi}{\partial r} = \frac{1}{(d-2)S_d(1)} \cdot (-(d-2)) r^{-(d-1)} = -\frac{1}{S_d(1)} r^{-(d-1)}
$$</p>
<p>$$
\nabla r = \nabla \|\boldsymbol{x} - \boldsymbol{y}\| = \frac{\boldsymbol{x} - \boldsymbol{y}}{\|\boldsymbol{x} - \boldsymbol{y}\|} = \frac{\boldsymbol{x} - \boldsymbol{y}}{r}
$$</p>
<p>å› æ­¤ï¼š</p>
<p>$$
\nabla \phi = -\frac{1}{S_d(1)} r^{-(d-1)} \cdot \frac{\boldsymbol{x} - \boldsymbol{y}}{r} = -\frac{1}{S_d(1)} \frac{\boldsymbol{x} - \boldsymbol{y}}{r^d}
$$</p>
<p>å³ï¼š</p>
<p>$$
-\nabla \phi = \frac{1}{S_d(1)} \frac{\boldsymbol{x} - \boldsymbol{y}}{\|\boldsymbol{x} - \boldsymbol{y}\|^d} = -\boldsymbol{F}(\boldsymbol{x})
$$</p>
<p>æ³¨æ„è¿™é‡Œæœ‰ä¸ªè´Ÿå·å·®å¼‚ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬å®šä¹‰çš„$\boldsymbol{F}$æœ¬èº«å¸¦æœ‰è´Ÿå·ã€‚</p>
<hr />
<p><strong>æ¨å¯¼2.2ï¼šPoissonæ–¹ç¨‹çš„å®Œæ•´å½¢å¼</strong></p>
<p>å¼•åŠ›åŠ¿$\phi$æ»¡è¶³Poissonæ–¹ç¨‹ï¼š</p>
<p>$$
\nabla^2 \phi(\boldsymbol{x}) = -\rho(\boldsymbol{x})
$$</p>
<p>å…¶ä¸­$\rho$æ˜¯è´¨é‡å¯†åº¦ï¼Œ$\nabla^2 = \sum_{i=1}^d \frac{\partial^2}{\partial x_i^2}$æ˜¯Laplaceç®—å­ã€‚</p>
<p>å¯¹äºä½äº$\boldsymbol{y}$çš„ç‚¹è´¨é‡æºï¼Œæˆ‘ä»¬æœ‰$\rho(\boldsymbol{x}) = \delta(\boldsymbol{x} - \boldsymbol{y})$ï¼Œå…¶ä¸­$\delta$æ˜¯Dirac deltaå‡½æ•°ã€‚</p>
<p>å› æ­¤Poissonæ–¹ç¨‹å˜ä¸ºï¼š</p>
<p>$$
\nabla^2 \phi(\boldsymbol{x}) = -\delta(\boldsymbol{x} - \boldsymbol{y})
$$</p>
<hr />
<p><strong>æ¨å¯¼2.3ï¼šGreenå‡½æ•°çš„å®šä¹‰å’Œæ€§è´¨</strong></p>
<p>Poissonæ–¹ç¨‹çš„Greenå‡½æ•°$G(\boldsymbol{x}, \boldsymbol{y})$å®šä¹‰ä¸ºæ»¡è¶³ï¼š</p>
<p>$$
\nabla^2 G(\boldsymbol{x}, \boldsymbol{y}) = -\delta(\boldsymbol{x} - \boldsymbol{y})
$$</p>
<p>çš„å‡½æ•°ã€‚åœ¨$d$ç»´ç©ºé—´ä¸­ï¼ŒGreenå‡½æ•°çš„å½¢å¼ä¸ºï¼š</p>
<p>$$
G(\boldsymbol{x}, \boldsymbol{y}) = \begin{cases}
\frac{1}{(d-2)S_d(1)} \|\boldsymbol{x} - \boldsymbol{y}\|^{-(d-2)}, & d > 2 \\
\frac{1}{2\pi} \ln \|\boldsymbol{x} - \boldsymbol{y}\|, & d = 2
\end{cases}
$$</p>
<p><strong>éªŒè¯ï¼ˆä»¥$d=3$ä¸ºä¾‹ï¼‰ï¼š</strong></p>
<p>å¯¹äº$d=3$ï¼Œ$S_3(1) = 4\pi$ï¼Œå› æ­¤ï¼š</p>
<p>$$
G(\boldsymbol{x}, \boldsymbol{y}) = \frac{1}{4\pi \|\boldsymbol{x} - \boldsymbol{y}\|}
$$</p>
<p>è®¾$r = |\boldsymbol{x} - \boldsymbol{y}|$ï¼Œåœ¨$r \neq 0$çš„åŒºåŸŸï¼Œæˆ‘ä»¬è®¡ç®—Laplacianï¼š</p>
<p>$$
\nabla^2 G = \nabla^2 \left(\frac{1}{4\pi r}\right)
$$</p>
<p>åœ¨çƒåæ ‡ç³»ä¸­ï¼š</p>
<p>$$
\nabla^2 f(r) = \frac{1}{r^2}\frac{d}{dr}\left(r^2 \frac{df}{dr}\right)
$$</p>
<p>å¯¹äº$f(r) = \frac{1}{4\pi r}$ï¼š</p>
<p>$$
\frac{df}{dr} = -\frac{1}{4\pi r^2}
$$</p>
<p>$$
r^2 \frac{df}{dr} = -\frac{1}{4\pi}
$$</p>
<p>$$
\frac{d}{dr}\left(r^2 \frac{df}{dr}\right) = 0
$$</p>
<p>å› æ­¤åœ¨$r \neq 0$æ—¶ï¼Œ$\nabla^2 G = 0$ã€‚</p>
<p>åœ¨$r = 0$å¤„ï¼Œé€šè¿‡ç§¯åˆ†å¯ä»¥éªŒè¯ï¼š</p>
<p>$$
\int_V \nabla^2 G \, dV = \oint_{\partial V} \nabla G \cdot d\boldsymbol{S} = -1
$$</p>
<p>è¿™è¯æ˜äº†$\nabla^2 G = -\delta(\boldsymbol{x} - \boldsymbol{y})$ã€‚</p>
<hr />
<p><strong>æ¨å¯¼2.4ï¼šGreenå‡½æ•°çš„æ¢¯åº¦ä¸å¼•åŠ›åœºçš„å…³ç³»</strong></p>
<p>ä»Greenå‡½æ•°å¯ä»¥å¾—åˆ°å¼•åŠ›åœºï¼š</p>
<p>$$
\boldsymbol{F}(\boldsymbol{x}) = -\nabla_{\boldsymbol{x}} G(\boldsymbol{x}, \boldsymbol{y})
$$</p>
<p>è®¡ç®—æ¢¯åº¦ï¼ˆä»¥$d$ç»´ä¸ºä¾‹ï¼‰ï¼š</p>
<p>$$
\nabla_{\boldsymbol{x}} G = \nabla_{\boldsymbol{x}} \left[\frac{1}{(d-2)S_d(1)} \|\boldsymbol{x} - \boldsymbol{y}\|^{-(d-2)}\right]
$$</p>
<p>$$
= \frac{1}{(d-2)S_d(1)} \cdot (-(d-2)) \|\boldsymbol{x} - \boldsymbol{y}\|^{-(d-1)} \cdot \frac{\boldsymbol{x} - \boldsymbol{y}}{\|\boldsymbol{x} - \boldsymbol{y}\|}
$$</p>
<p>$$
= -\frac{1}{S_d(1)} \frac{\boldsymbol{x} - \boldsymbol{y}}{\|\boldsymbol{x} - \boldsymbol{y}\|^d}
$$</p>
<p>å› æ­¤ï¼š</p>
<p>$$
\boldsymbol{F}(\boldsymbol{x}) = -\nabla_{\boldsymbol{x}} G = \frac{1}{S_d(1)} \frac{\boldsymbol{x} - \boldsymbol{y}}{\|\boldsymbol{x} - \boldsymbol{y}\|^d}
$$</p>
<p>è¿™æ­£æ˜¯æˆ‘ä»¬ä¹‹å‰æ¨å¯¼çš„å¼•åŠ›åœºå½¢å¼ï¼ˆç¬¦å·çº¦å®šå¯èƒ½ç•¥æœ‰ä¸åŒï¼‰ã€‚</p>
<hr />
<h3 id="3">3. å¤šæºå¼•åŠ›åœºçš„å åŠ åŸç†</h3>
<p><strong>æ¨å¯¼3.1ï¼šå¼•åŠ›åœºçš„çº¿æ€§å åŠ </strong></p>
<p>å¼•åŠ›åœºæ»¡è¶³çº¿æ€§å åŠ åŸç†ã€‚å¦‚æœæœ‰$N$ä¸ªå¼•åŠ›æºåˆ†åˆ«ä½äº$\boldsymbol{y}_1, \boldsymbol{y}_2, \ldots, \boldsymbol{y}_N$ï¼Œåˆ™æ€»å¼•åŠ›åœºä¸ºï¼š</p>
<p>$$
\boldsymbol{F}(\boldsymbol{x}) = \sum_{i=1}^N \boldsymbol{F}_i(\boldsymbol{x}) = -\frac{1}{S_d(1)} \sum_{i=1}^N \frac{\boldsymbol{x} - \boldsymbol{y}_i}{\|\boldsymbol{x} - \boldsymbol{y}_i\|^d}
$$</p>
<p><strong>è¿ç»­åˆ†å¸ƒçš„æƒ…å†µï¼š</strong></p>
<p>å¦‚æœå¼•åŠ›æºæœä»è¿ç»­åˆ†å¸ƒ$\rho(\boldsymbol{y})$ï¼Œåˆ™å¼•åŠ›åœºå˜ä¸ºç§¯åˆ†å½¢å¼ï¼š</p>
<p>$$
\boldsymbol{F}(\boldsymbol{x}) = -\frac{1}{S_d(1)} \int \frac{\boldsymbol{x} - \boldsymbol{y}}{\|\boldsymbol{x} - \boldsymbol{y}\|^d} \rho(\boldsymbol{y}) \, d\boldsymbol{y}
$$</p>
<p>è¿™æ­£æ˜¯å¼$\eqref{eq:field}$åœ¨$d$ç»´æƒ…å†µä¸‹çš„å½¢å¼ã€‚</p>
<hr />
<p><strong>æ¨å¯¼3.2ï¼šè´¨å¿ƒçš„è®¡ç®—</strong></p>
<p>å¯¹äº$N$ä¸ªå¼•åŠ›æºï¼Œå…¶è´¨å¿ƒä½ç½®$\boldsymbol{y}_c$å®šä¹‰ä¸ºï¼š</p>
<p>$$
\boldsymbol{y}_c = \frac{\sum_{i=1}^N m_i \boldsymbol{y}_i}{\sum_{i=1}^N m_i}
$$</p>
<p>å½“æ‰€æœ‰è´¨é‡ç›¸ç­‰æ—¶ï¼ˆ$m_i = m$ï¼‰ï¼š</p>
<p>$$
\boldsymbol{y}_c = \frac{1}{N} \sum_{i=1}^N \boldsymbol{y}_i
$$</p>
<p>å¯¹äºè¿ç»­åˆ†å¸ƒ$\rho(\boldsymbol{y})$ï¼Œè´¨å¿ƒä¸ºï¼š</p>
<p>$$
\boldsymbol{y}_c = \frac{\int \boldsymbol{y} \rho(\boldsymbol{y}) \, d\boldsymbol{y}}{\int \rho(\boldsymbol{y}) \, d\boldsymbol{y}}
$$</p>
<hr />
<p><strong>æ¨å¯¼3.3ï¼šè¿œåœºè¿‘ä¼¼ï¼ˆMultipoleå±•å¼€ï¼‰</strong></p>
<p>å½“è§‚æµ‹ç‚¹$\boldsymbol{x}$è·ç¦»æ‰€æœ‰å¼•åŠ›æºéƒ½å¾ˆè¿œæ—¶ï¼ˆ$|\boldsymbol{x} - \boldsymbol{y}_c| \gg |\boldsymbol{y}_i - \boldsymbol{y}_c|$ å¯¹æ‰€æœ‰$i$æˆç«‹ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å¼•åŠ›åœºè¿›è¡Œå¤šæå±•å¼€ã€‚</p>
<p>è®¾$\boldsymbol{r} = \boldsymbol{x} - \boldsymbol{y}_c$ï¼Œ$\boldsymbol{r}_i = \boldsymbol{y}_i - \boldsymbol{y}_c$ã€‚åˆ™ï¼š</p>
<p>$$
\boldsymbol{x} - \boldsymbol{y}_i = \boldsymbol{r} - \boldsymbol{r}_i
$$</p>
<p>$$
\|\boldsymbol{x} - \boldsymbol{y}_i\|^{-d} = \|\boldsymbol{r} - \boldsymbol{r}_i\|^{-d}
$$</p>
<p>å½“$|\boldsymbol{r}| \gg |\boldsymbol{r}_i|$æ—¶ï¼Œåˆ©ç”¨Taylorå±•å¼€ï¼š</p>
<p>$$
\|\boldsymbol{r} - \boldsymbol{r}_i\|^{-d} = \|\boldsymbol{r}\|^{-d} \left(1 - \frac{\boldsymbol{r} \cdot \boldsymbol{r}_i}{\|\boldsymbol{r}\|^2}\right)^{-d/2}
$$</p>
<p>$$
\approx \|\boldsymbol{r}\|^{-d} \left(1 + \frac{d}{2} \frac{\boldsymbol{r} \cdot \boldsymbol{r}_i}{\|\boldsymbol{r}\|^2} + O(\|\boldsymbol{r}_i\|^2/\|\boldsymbol{r}\|^2)\right)
$$</p>
<p>å¯¹äº$\boldsymbol{x} - \boldsymbol{y}_i$ï¼š</p>
<p>$$
\frac{\boldsymbol{x} - \boldsymbol{y}_i}{\|\boldsymbol{x} - \boldsymbol{y}_i\|^d} \approx \frac{\boldsymbol{r}}{\|\boldsymbol{r}\|^d} + O(\|\boldsymbol{r}_i\|/\|\boldsymbol{r}\|^d)
$$</p>
<p>å› æ­¤ï¼Œæ€»å¼•åŠ›åœºçš„é¢†å¤´é¡¹ï¼ˆmonopoleé¡¹ï¼‰ä¸ºï¼š</p>
<p>$$
\boldsymbol{F}(\boldsymbol{x}) \approx -\frac{1}{S_d(1)} \sum_{i=1}^N \frac{\boldsymbol{r}}{\|\boldsymbol{r}\|^d} = -\frac{N}{S_d(1)} \frac{\boldsymbol{x} - \boldsymbol{y}_c}{\|\boldsymbol{x} - \boldsymbol{y}_c\|^d}
$$</p>
<p>è¿™è¯´æ˜åœ¨è¿œåœºï¼Œå¤šæºå¼•åŠ›åœºç­‰ä»·äºä½äºè´¨å¿ƒã€æ€»è´¨é‡ä¸ºæ‰€æœ‰è´¨é‡ä¹‹å’Œçš„å•ä¸€è´¨ç‚¹å¼•åŠ›åœºã€‚</p>
<hr />
<h3 id="4">4. å¢åŠ ç»´åº¦çš„æ•°å­¦æ„ä¹‰</h3>
<p><strong>æ¨å¯¼4.1ï¼š$d+1$ç»´ç©ºé—´ä¸­çš„å¼•åŠ›åœº</strong></p>
<p>åœ¨åŸå§‹$d$ç»´ç©ºé—´ä¸­ï¼Œæ•°æ®ç‚¹ä¸º$\boldsymbol{x} \in \mathbb{R}^d$ï¼Œå¼•åŠ›æºåˆ†å¸ƒä¸º$\tilde{p}(\boldsymbol{x}_0)$ã€‚</p>
<p>å¼•å…¥æ–°ç»´åº¦$t \in \mathbb{R}$ï¼Œåœ¨$d+1$ç»´ç©ºé—´$(\boldsymbol{x}, t) \in \mathbb{R}^{d+1}$ä¸­ï¼Œå¼•åŠ›æºåˆ†å¸ƒå˜ä¸ºï¼š</p>
<p>$$
p(\boldsymbol{x}_0, t_0) = \delta(t_0) \tilde{p}(\boldsymbol{x}_0)
$$</p>
<p>è¿™æ„å‘³ç€æ‰€æœ‰å¼•åŠ›æºéƒ½ä½äº$t=0$çš„è¶…å¹³é¢ä¸Šã€‚</p>
<p>æ ¹æ®$d+1$ç»´ç©ºé—´çš„å¼•åŠ›åœºå…¬å¼ï¼š</p>
<p>$$
\boldsymbol{F}(\boldsymbol{x}, t) = -\frac{1}{S_{d+1}(1)} \iint \frac{(\boldsymbol{x} - \boldsymbol{x}_0, t - t_0)}{\left[\|\boldsymbol{x} - \boldsymbol{x}_0\|^2 + (t - t_0)^2\right]^{(d+1)/2}} p(\boldsymbol{x}_0, t_0) \, d\boldsymbol{x}_0 dt_0
$$</p>
<p>ä»£å…¥$p(\boldsymbol{x}_0, t_0) = \delta(t_0) \tilde{p}(\boldsymbol{x}_0)$ï¼š</p>
<p>$$
\boldsymbol{F}(\boldsymbol{x}, t) = -\frac{1}{S_{d+1}(1)} \iint \frac{(\boldsymbol{x} - \boldsymbol{x}_0, t - t_0)}{\left[\|\boldsymbol{x} - \boldsymbol{x}_0\|^2 + (t - t_0)^2\right]^{(d+1)/2}} \delta(t_0) \tilde{p}(\boldsymbol{x}_0) \, d\boldsymbol{x}_0 dt_0
$$</p>
<p>åˆ©ç”¨Dirac deltaå‡½æ•°çš„æ€§è´¨$\int f(t_0) \delta(t_0) dt_0 = f(0)$ï¼š</p>
<p>$$
\boldsymbol{F}(\boldsymbol{x}, t) = -\frac{1}{S_{d+1}(1)} \int \frac{(\boldsymbol{x} - \boldsymbol{x}_0, t)}{\left[\|\boldsymbol{x} - \boldsymbol{x}_0\|^2 + t^2\right]^{(d+1)/2}} \tilde{p}(\boldsymbol{x}_0) \, d\boldsymbol{x}_0
$$</p>
<p>è¿™æ­£æ˜¯å¼$\eqref{eq:field}$ã€‚</p>
<hr />
<p><strong>æ¨å¯¼4.2ï¼šå¼•åŠ›åœºçš„åˆ†è§£</strong></p>
<p>å°†$\boldsymbol{F}(\boldsymbol{x}, t)$åˆ†è§£ä¸ºï¼š</p>
<p>$$
\boldsymbol{F}(\boldsymbol{x}, t) = (\boldsymbol{F}_{\boldsymbol{x}}, \boldsymbol{F}_t)
$$</p>
<p>å…¶ä¸­ï¼š</p>
<p>$$
\boldsymbol{F}_{\boldsymbol{x}}(\boldsymbol{x}, t) = -\frac{1}{S_{d+1}(1)} \int \frac{\boldsymbol{x} - \boldsymbol{x}_0}{\left[\|\boldsymbol{x} - \boldsymbol{x}_0\|^2 + t^2\right]^{(d+1)/2}} \tilde{p}(\boldsymbol{x}_0) \, d\boldsymbol{x}_0
$$</p>
<p>$$
\boldsymbol{F}_t(\boldsymbol{x}, t) = -\frac{1}{S_{d+1}(1)} \int \frac{t}{\left[\|\boldsymbol{x} - \boldsymbol{x}_0\|^2 + t^2\right]^{(d+1)/2}} \tilde{p}(\boldsymbol{x}_0) \, d\boldsymbol{x}_0
$$</p>
<p><strong>å¯¹ç§°æ€§åˆ†æï¼š</strong></p>
<p>æ³¨æ„åˆ°$\boldsymbol{F}_t$å¯ä»¥æå–å…¬å› å­$t$ï¼š</p>
<p>$$
\boldsymbol{F}_t(\boldsymbol{x}, t) = -\frac{t}{S_{d+1}(1)} \int \frac{1}{\left[\|\boldsymbol{x} - \boldsymbol{x}_0\|^2 + t^2\right]^{(d+1)/2}} \tilde{p}(\boldsymbol{x}_0) \, d\boldsymbol{x}_0
$$</p>
<p>å½“$t &gt; 0$æ—¶ï¼Œ$\boldsymbol{F}_t &lt; 0$ï¼ˆå› ä¸ºæœ‰è´Ÿå·ï¼‰ï¼Œè¿™æ„å‘³ç€å¼•åŠ›åœ¨$t$æ–¹å‘ä¸Šæ˜¯æŒ‡å‘$t=0$å¹³é¢çš„ã€‚</p>
<hr />
<p><strong>æ¨å¯¼4.3ï¼šåœºçº¿çš„ODEæ–¹ç¨‹</strong></p>
<p>æ²¿ç€å¼•åŠ›åœºçº¿è¿åŠ¨ï¼Œè½¨è¿¹åº”æ»¡è¶³ï¼š</p>
<p>$$
\frac{d\boldsymbol{X}(\tau)}{d\tau} = \boldsymbol{F}(\boldsymbol{X}(\tau))
$$</p>
<p>å…¶ä¸­$\boldsymbol{X}(\tau) = (\boldsymbol{x}(\tau), t(\tau)) \in \mathbb{R}^{d+1}$ï¼Œ$\tau$æ˜¯å‚æ•°åŒ–çš„"æ—¶é—´"ã€‚</p>
<p>åˆ†è§£ä¸ºï¼š</p>
<p>$$
\frac{d\boldsymbol{x}}{d\tau} = \boldsymbol{F}_{\boldsymbol{x}}(\boldsymbol{x}, t)
$$</p>
<p>$$
\frac{dt}{d\tau} = \boldsymbol{F}_t(\boldsymbol{x}, t)
$$</p>
<p>æˆ‘ä»¬æƒ³è¦ä»¥$t$ä½œä¸º"çœŸå®æ—¶é—´"ï¼Œå› æ­¤éœ€è¦é‡æ–°å‚æ•°åŒ–ã€‚åˆ©ç”¨é“¾å¼æ³•åˆ™ï¼š</p>
<p>$$
\frac{d\boldsymbol{x}}{dt} = \frac{d\boldsymbol{x}/d\tau}{dt/d\tau} = \frac{\boldsymbol{F}_{\boldsymbol{x}}}{\boldsymbol{F}_t}
$$</p>
<p>è¿™æ­£æ˜¯å¼$\eqref{eq:ode}$ã€‚</p>
<hr />
<p><strong>æ¨å¯¼4.4ï¼šç»ˆæ­¢æ¡ä»¶çš„æ•°å­¦è¡¨è¿°</strong></p>
<p>ç”Ÿæˆè¿‡ç¨‹ä»$t=T$å¼€å§‹ï¼Œæ²¿ç€åœºçº¿è¿åŠ¨ï¼Œç›´åˆ°$t=0$ã€‚ODEçš„å®Œæ•´å½¢å¼ä¸ºï¼š</p>
<p>$$
\begin{cases}
\frac{d\boldsymbol{x}}{dt} = \frac{\boldsymbol{F}_{\boldsymbol{x}}(\boldsymbol{x}, t)}{\boldsymbol{F}_t(\boldsymbol{x}, t)} \\
\boldsymbol{x}(T) \sim p_{prior}(\boldsymbol{x})
\end{cases}
$$</p>
<p>æ±‚è§£æ­¤ODEä»$t=T$åˆ°$t=0$ï¼Œå¾—åˆ°$\boldsymbol{x}(0)$ä½œä¸ºç”Ÿæˆæ ·æœ¬ã€‚</p>
<p><strong>ç‰©ç†æ„ä¹‰ï¼š</strong></p>
<ul>
<li>$t=T$ï¼šåˆå§‹åˆ†å¸ƒï¼Œå¯¹åº”äº"æ— ç©·è¿œ"</li>
<li>$t \to 0$ï¼šæ²¿åœºçº¿é€æ¸æ¥è¿‘å¼•åŠ›æºæ‰€åœ¨çš„è¶…å¹³é¢</li>
<li>$t=0$ï¼šç»ˆæ­¢ï¼Œæ­¤æ—¶$\boldsymbol{x}(0)$åº”è¯¥æ¥è¿‘æŸä¸ªçœŸå®æ ·æœ¬$\boldsymbol{x}_0 \sim \tilde{p}(\boldsymbol{x}_0)$</li>
</ul>
<hr />
<h3 id="5">5. åˆå§‹åˆ†å¸ƒçš„è¯¦ç»†æ¨å¯¼</h3>
<p><strong>æ¨å¯¼5.1ï¼š$d+1$ç»´çƒé¢ä¸Šçš„å‡åŒ€åˆ†å¸ƒ</strong></p>
<p>åœ¨$d+1$ç»´ç©ºé—´ä¸­ï¼Œä»¥åŸç‚¹ä¸ºçƒå¿ƒã€åŠå¾„ä¸º$R$çš„è¶…çƒé¢è¡¨é¢ç§¯ä¸ºï¼š</p>
<p>$$
S_{d+1}(R) = S_{d+1}(1) \cdot R^d
$$</p>
<p>å…¶ä¸­$S_{d+1}(1)$æ˜¯å•ä½è¶…çƒé¢çš„è¡¨é¢ç§¯ã€‚</p>
<p>ç”±äºå¼•åŠ›åœºçš„å„å‘åŒæ€§ï¼ˆåœ¨è¿œåœºï¼‰ï¼Œåœºçº¿å‡åŒ€åœ°ç©¿è¿‡ä»¥è´¨å¿ƒï¼ˆå‡è®¾åœ¨åŸç‚¹ï¼‰ä¸ºçƒå¿ƒçš„è¶…çƒé¢ã€‚å› æ­¤ï¼Œç‚¹$(\boldsymbol{x}, t)$å¤„çš„æ¦‚ç‡å¯†åº¦åæ¯”äºè¯¥ç‚¹æ‰€åœ¨è¶…çƒé¢çš„è¡¨é¢ç§¯ï¼š</p>
<p>$$
p(\boldsymbol{x}, t) \propto \frac{1}{S_{d+1}(\sqrt{\|\boldsymbol{x}\|^2 + t^2})}
$$</p>
<p>$$
= \frac{1}{S_{d+1}(1) \cdot (\|\boldsymbol{x}\|^2 + t^2)^{d/2}}
$$</p>
<p>å³ï¼š</p>
<p>$$
p(\boldsymbol{x}, t) \propto (\|\boldsymbol{x}\|^2 + t^2)^{-d/2}
$$</p>
<hr />
<p><strong>æ¨å¯¼5.2ï¼šä»çƒé¢æŠ•å½±åˆ°$t=T$å¹³é¢</strong></p>
<p>ç°åœ¨æˆ‘ä»¬å›ºå®š$t=T$ï¼Œéœ€è¦å°†çƒé¢ä¸Šçš„åˆ†å¸ƒæŠ•å½±åˆ°$t=T$çš„è¶…å¹³é¢ä¸Šã€‚</p>
<p>è€ƒè™‘çƒé¢ä¸Šçš„ç‚¹$\boldsymbol{P} = (\boldsymbol{x}, t)$ï¼Œå…¶ä¸­$|\boldsymbol{x}|^2 + t^2 = R^2$ã€‚å½“$t=T$æ—¶ï¼š</p>
<p>$$
\|\boldsymbol{x}\|^2 = R^2 - T^2
$$</p>
<p><strong>æŠ•å½±çš„Jacobianï¼š</strong></p>
<p>ä»çƒé¢åˆ°å¹³é¢çš„æŠ•å½±ä¼šæ”¹å˜é¢ç§¯å…ƒã€‚è€ƒè™‘ä»çƒé¢å‚æ•°$(R, \boldsymbol{\theta})$ï¼ˆå…¶ä¸­$\boldsymbol{\theta}$æ˜¯è§’åæ ‡ï¼‰åˆ°å¹³é¢å‚æ•°$(\boldsymbol{x}, T)$çš„å˜æ¢ã€‚</p>
<p>çƒé¢ä¸Šçš„é¢ç§¯å…ƒä¸ºï¼š</p>
<p>$$
dS_{sphere} = R^d d\Omega
$$</p>
<p>å…¶ä¸­$d\Omega$æ˜¯ç«‹ä½“è§’å…ƒã€‚</p>
<p>æŠ•å½±åˆ°å¹³é¢åï¼Œé¢ç§¯å…ƒå˜ä¸ºï¼š</p>
<p>$$
dS_{plane} = d\boldsymbol{x}
$$</p>
<p>æŠ•å½±çš„å‡ ä½•å…³ç³»ï¼šä»åŸç‚¹$O$åˆ°çƒé¢ä¸Šçš„ç‚¹$(\boldsymbol{x}, t)$çš„è¿çº¿ï¼Œä¸$t=T$å¹³é¢çš„äº¤ç‚¹ä¸º$(\boldsymbol{x}', T)$ï¼Œå…¶ä¸­ï¼š</p>
<p>$$
\boldsymbol{x}' = \boldsymbol{x} \cdot \frac{T}{t}
$$</p>
<p>ä½†æˆ‘ä»¬è€ƒè™‘çš„æ˜¯å›ºå®š$t=T$ï¼Œå› æ­¤ç›´æ¥åœ¨$t=T$å¹³é¢ä¸Šã€‚</p>
<p><strong>å¦ä¸€ç§æ¨å¯¼æ–¹æ³•ï¼ˆä½¿ç”¨æ–‡ç« ä¸­çš„å‡ ä½•å…³ç³»ï¼‰ï¼š</strong></p>
<p>è®¾çƒé¢ä¸Šçš„ç‚¹$B = (\boldsymbol{x}_B, t_B)$ï¼Œå…¶åœ¨$t=T$å¹³é¢ä¸Šçš„æŠ•å½±ä¸º$C = (\boldsymbol{x}_C, T)$ã€‚ä»åŸç‚¹$O$åˆ°$B$çš„å°„çº¿ä¸$t=T$å¹³é¢ç›¸äº¤äº$C$ã€‚</p>
<p>è®¾$|\boldsymbol{OB}| = R = \sqrt{|\boldsymbol{x}_B|^2 + t_B^2}$ã€‚</p>
<p>å¦‚æœ$t_B = T$ï¼Œåˆ™æŠ•å½±å°±æ˜¯è‡ªèº«ã€‚ä½†ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘çƒé¢ä¸Šçš„å¾®å…ƒå¦‚ä½•æŠ•å½±ã€‚</p>
<p><strong>ç®€åŒ–æ–¹æ³•ï¼š</strong></p>
<p>å›ºå®š$t=T$ï¼Œè€ƒè™‘çƒé¢ä¸Šæ»¡è¶³$|\boldsymbol{x}|^2 + T^2 = R^2$çš„ç‚¹ã€‚æ­¤æ—¶ï¼š</p>
<p>$$
\|\boldsymbol{x}\| = \sqrt{R^2 - T^2}
$$</p>
<p>çƒé¢åœ¨$t=T$å¤„çš„"åˆ‡ç‰‡"æ˜¯ä¸€ä¸ª$d$ç»´çƒé¢ï¼ˆåµŒå…¥åœ¨$d+1$ç»´ç©ºé—´çš„$t=T$è¶…å¹³é¢ä¸­ï¼‰ã€‚</p>
<p><strong>æŠ•å½±ä¿®æ­£å› å­ï¼š</strong></p>
<p>æ ¹æ®æ–‡ç« ä¸­çš„æ¨å¯¼ï¼ŒæŠ•å½±ä¼šå¼•å…¥ä¸€ä¸ªä¿®æ­£å› å­ã€‚è€ƒè™‘çƒé¢æ³•å‘é‡ä¸å¹³é¢æ³•å‘é‡çš„å¤¹è§’ã€‚</p>
<p>çƒé¢ä¸Šç‚¹$(\boldsymbol{x}, T)$ï¼ˆæ»¡è¶³$|\boldsymbol{x}|^2 + T^2 = R^2$ï¼‰çš„å¤–æ³•å‘é‡ä¸ºï¼š</p>
<p>$$
\boldsymbol{n}_{sphere} = \frac{(\boldsymbol{x}, T)}{R}
$$</p>
<p>å¹³é¢$t=T$çš„æ³•å‘é‡ä¸ºï¼š</p>
<p>$$
\boldsymbol{n}_{plane} = (0, \ldots, 0, 1)
$$</p>
<p>æŠ•å½±çš„é¢ç§¯ä¿®æ­£å› å­ä¸ºï¼š</p>
<p>$$
\frac{dS_{plane}}{dS_{sphere}} = \frac{\boldsymbol{n}_{sphere} \cdot \boldsymbol{n}_{plane}}{\|\boldsymbol{n}_{sphere}\| \|\boldsymbol{n}_{plane}\|} = \frac{T}{R} = \frac{T}{\sqrt{\|\boldsymbol{x}\|^2 + T^2}}
$$</p>
<p>å› æ­¤ï¼š</p>
<p>$$
dS_{plane} = \frac{T}{\sqrt{\|\boldsymbol{x}\|^2 + T^2}} dS_{sphere}
$$</p>
<p>ç”±äºæ¦‚ç‡å¯†åº¦åæ¯”äºé¢ç§¯ï¼Œæˆ‘ä»¬æœ‰ï¼š</p>
<p>$$
p_{plane}(\boldsymbol{x}) = p_{sphere}(\boldsymbol{x}, T) \cdot \frac{\sqrt{\|\boldsymbol{x}\|^2 + T^2}}{T}
$$</p>
<p>å…¶ä¸­ï¼š</p>
<p>$$
p_{sphere}(\boldsymbol{x}, T) \propto (\|\boldsymbol{x}\|^2 + T^2)^{-d/2}
$$</p>
<p>å› æ­¤ï¼š</p>
<p>$$
p_{plane}(\boldsymbol{x}) \propto (\|\boldsymbol{x}\|^2 + T^2)^{-d/2} \cdot \frac{\sqrt{\|\boldsymbol{x}\|^2 + T^2}}{T}
$$</p>
<p>$$
= \frac{1}{T} (\|\boldsymbol{x}\|^2 + T^2)^{-d/2 + 1/2}
$$</p>
<p>$$
= \frac{1}{T} (\|\boldsymbol{x}\|^2 + T^2)^{-(d-1)/2}
$$</p>
<p>ä½†è¿™ä¸æ–‡ç« ä¸­çš„$(|\boldsymbol{x}|^2 + T^2)^{-(d+1)/2}$ä¸ä¸€è‡´ã€‚è®©æˆ‘é‡æ–°æ£€æŸ¥ã€‚</p>
<p><strong>é‡æ–°æ¨å¯¼ï¼ˆåŸºäºé€šé‡å®ˆæ’ï¼‰ï¼š</strong></p>
<p>å®é™…ä¸Šï¼Œæ–‡ç« ä¸­ä½¿ç”¨çš„æ˜¯é€šé‡çš„è§’åº¦ã€‚å¼•åŠ›åœºçº¿å‡åŒ€ç©¿è¿‡çƒé¢ï¼Œå› æ­¤åœ¨çƒé¢ä¸Šç‚¹$(\boldsymbol{x}, T)$å¤„çš„é€šé‡å¯†åº¦ä¸ºï¼š</p>
<p>$$
\Phi \propto \frac{1}{S_{d+1}(\sqrt{\|\boldsymbol{x}\|^2 + T^2})} = \frac{1}{(\|\boldsymbol{x}\|^2 + T^2)^{d/2}}
$$</p>
<p>ç°åœ¨æˆ‘ä»¬è¦å°†è¿™ä¸ªé€šé‡æŠ•å½±åˆ°$t=T$å¹³é¢ã€‚é€šé‡çš„æŠ•å½±éœ€è¦è€ƒè™‘æ–¹å‘ã€‚</p>
<p>å¼•åŠ›åœºåœ¨$(\boldsymbol{x}, T)$å¤„çš„æ–¹å‘å¤§è‡´æŒ‡å‘åŸç‚¹ï¼ˆæ›´å‡†ç¡®åœ°è¯´ï¼ŒæŒ‡å‘$t=0$å¹³é¢ä¸Šçš„è´¨å¿ƒï¼‰ã€‚è®¾å¼•åŠ›åœºä¸º$\boldsymbol{F} = (\boldsymbol{F}_{\boldsymbol{x}}, \boldsymbol{F}_t)$ã€‚</p>
<p>é€šè¿‡$t=T$å¹³é¢çš„é€šé‡å¯†åº¦ä¸ºï¼š</p>
<p>$$
\Phi_{plane} = |\boldsymbol{F}_t|
$$</p>
<p>è€Œçƒé¢é€šé‡å¯†åº¦ä¸ºï¼š</p>
<p>$$
\Phi_{sphere} = \|\boldsymbol{F}\|
$$</p>
<p>å› æ­¤ï¼š</p>
<p>$$
\frac{\Phi_{plane}}{\Phi_{sphere}} = \frac{|\boldsymbol{F}_t|}{\|\boldsymbol{F}\|}
$$</p>
<p>å¯¹äºå•æºå¼•åŠ›åœºï¼ˆè´¨å¿ƒåœ¨åŸç‚¹ï¼‰ï¼Œåœ¨$(\boldsymbol{x}, T)$å¤„ï¼š</p>
<p>$$
\boldsymbol{F} \propto -\frac{(\boldsymbol{x}, T)}{(\|\boldsymbol{x}\|^2 + T^2)^{(d+1)/2}}
$$</p>
<p>$$
\boldsymbol{F}_t \propto -\frac{T}{(\|\boldsymbol{x}\|^2 + T^2)^{(d+1)/2}}
$$</p>
<p>$$
\|\boldsymbol{F}\| \propto \frac{1}{(\|\boldsymbol{x}\|^2 + T^2)^{(d-1)/2}}
$$</p>
<p>ç­‰ç­‰ï¼Œè¿™é‡Œæœ‰é—®é¢˜ã€‚è®©æˆ‘é‡æ–°è®¡ç®—$|\boldsymbol{F}|$ï¼š</p>
<p>$$
\|\boldsymbol{F}\|^2 = \|\boldsymbol{F}_{\boldsymbol{x}}\|^2 + \boldsymbol{F}_t^2
$$</p>
<p>$$
= \frac{\|\boldsymbol{x}\|^2}{(\|\boldsymbol{x}\|^2 + T^2)^{d+1}} + \frac{T^2}{(\|\boldsymbol{x}\|^2 + T^2)^{d+1}}
$$</p>
<p>$$
= \frac{\|\boldsymbol{x}\|^2 + T^2}{(\|\boldsymbol{x}\|^2 + T^2)^{d+1}}
$$</p>
<p>$$
= \frac{1}{(\|\boldsymbol{x}\|^2 + T^2)^d}
$$</p>
<p>å› æ­¤ï¼š</p>
<p>$$
\|\boldsymbol{F}\| = \frac{1}{(\|\boldsymbol{x}\|^2 + T^2)^{d/2}}
$$</p>
<p>è€Œï¼š</p>
<p>$$
|\boldsymbol{F}_t| = \frac{T}{(\|\boldsymbol{x}\|^2 + T^2)^{(d+1)/2}}
$$</p>
<p>æ‰€ä»¥ï¼š</p>
<p>$$
\frac{|\boldsymbol{F}_t|}{\|\boldsymbol{F}\|} = \frac{T/(\|\boldsymbol{x}\|^2 + T^2)^{(d+1)/2}}{1/(\|\boldsymbol{x}\|^2 + T^2)^{d/2}} = \frac{T}{(\|\boldsymbol{x}\|^2 + T^2)^{1/2}}
$$</p>
<p>çƒé¢ä¸Šçš„æ¦‚ç‡å¯†åº¦åæ¯”äº$|\boldsymbol{F}|$ï¼ˆè¿™æ˜¯å› ä¸ºæ¦‚ç‡å¯†åº¦ä»£è¡¨åœºçº¿å¯†åº¦ï¼Œè€Œåœºçº¿è¶Šå¯†é›†ï¼Œé€šé‡è¶Šå¤§ï¼‰ï¼š</p>
<p>$$
p_{sphere} \propto (\|\boldsymbol{x}\|^2 + T^2)^{d/2}
$$</p>
<p>ä¸å¯¹ï¼Œåº”è¯¥æ˜¯åæ¯”ï¼Œå³ï¼š</p>
<p>$$
p_{sphere} \propto \frac{1}{(\|\boldsymbol{x}\|^2 + T^2)^{d/2}}
$$</p>
<p>æŠ•å½±åˆ°å¹³é¢åï¼š</p>
<p>$$
p_{plane} \propto p_{sphere} \cdot \frac{(\|\boldsymbol{x}\|^2 + T^2)^{1/2}}{T}
$$</p>
<p>$$
= \frac{1}{(\|\boldsymbol{x}\|^2 + T^2)^{d/2}} \cdot \frac{(\|\boldsymbol{x}\|^2 + T^2)^{1/2}}{T}
$$</p>
<p>$$
= \frac{1}{T(\|\boldsymbol{x}\|^2 + T^2)^{(d-1)/2}}
$$</p>
<p>ä»ç„¶ä¸å¯¹ã€‚è®©æˆ‘å†ä»”ç»†çœ‹æ–‡ç« ä¸­çš„æ¨å¯¼ã€‚</p>
<p><strong>æ–‡ç« ä¸­çš„æ¨å¯¼ï¼š</strong></p>
<p>æ–‡ç« è¯´æ¦‚ç‡å¯†åº¦åæ¯”äº$S_{d+1}(\boldsymbol{x}, T)$ï¼Œå³åæ¯”äº$(|\boldsymbol{x}|^2 + T^2)^{d/2}$ã€‚ç„¶åæŠ•å½±æ—¶ä¹˜ä»¥$\frac{T}{\sqrt{|\boldsymbol{x}|^2 + T^2}}$ï¼Œæœ€ç»ˆå¾—åˆ°ï¼š</p>
<p>$$
p_{prior}(\boldsymbol{x}) \propto \frac{1}{(\|\boldsymbol{x}\|^2 + T^2)^{d/2}} \times \frac{T}{\sqrt{\|\boldsymbol{x}\|^2 + T^2}}
$$</p>
<p>$$
= \frac{T}{(\|\boldsymbol{x}\|^2 + T^2)^{(d+1)/2}}
$$</p>
<p>å»æ‰å¸¸æ•°$T$ï¼Œå¾—åˆ°ï¼š</p>
<p>$$
p_{prior}(\boldsymbol{x}) \propto \frac{1}{(\|\boldsymbol{x}\|^2 + T^2)^{(d+1)/2}}
$$</p>
<p>å¥½çš„ï¼Œè¿™æ˜¯æ–‡ç« ä¸­çš„ç»“æœã€‚</p>
<hr />
<p><strong>æ¨å¯¼5.3ï¼šä»å¾„å‘åˆ†å¸ƒé‡‡æ ·</strong></p>
<p>åˆå§‹åˆ†å¸ƒä¸ºï¼š</p>
<p>$$
p_{prior}(\boldsymbol{x}) = \frac{C}{(\|\boldsymbol{x}\|^2 + T^2)^{(d+1)/2}}
$$</p>
<p>å…¶ä¸­$C$æ˜¯å½’ä¸€åŒ–å¸¸æ•°ã€‚</p>
<p>å°†$\boldsymbol{x}$åˆ†è§£ä¸ºæ¨¡é•¿å’Œæ–¹å‘ï¼š$\boldsymbol{x} = r \boldsymbol{u}$ï¼Œå…¶ä¸­$r = |\boldsymbol{x}|$ï¼Œ$\boldsymbol{u}$æ˜¯å•ä½æ–¹å‘å‘é‡ã€‚</p>
<p>åœ¨è¶…çƒåæ ‡ä¸­ï¼š</p>
<p>$$
d\boldsymbol{x} = r^{d-1} dr \, d\Omega
$$</p>
<p>å…¶ä¸­$d\Omega$æ˜¯$d$ç»´å•ä½çƒé¢ä¸Šçš„ç«‹ä½“è§’å…ƒã€‚</p>
<p>å› æ­¤ï¼š</p>
<p>$$
p_{prior}(r, \boldsymbol{u}) = p_{prior}(\boldsymbol{x}) \cdot r^{d-1}
$$</p>
<p>$$
= \frac{C \cdot r^{d-1}}{(r^2 + T^2)^{(d+1)/2}}
$$</p>
<p>è¾¹ç¼˜åˆ†å¸ƒï¼š</p>
<p>$$
p_{prior}(r) = \int p_{prior}(r, \boldsymbol{u}) \, d\Omega = \frac{C' \cdot r^{d-1}}{(r^2 + T^2)^{(d+1)/2}}
$$</p>
<p>å…¶ä¸­$C' = C \cdot S_d(1)$ã€‚</p>
<p>$$
p_{prior}(\boldsymbol{u}) = \frac{1}{S_d(1)} \quad \text{(å‡åŒ€åˆ†å¸ƒ)}
$$</p>
<p><strong>é‡‡æ ·æ–¹æ³•ï¼š</strong></p>
<ol>
<li>ä»å‡åŒ€åˆ†å¸ƒé‡‡æ ·æ–¹å‘$\boldsymbol{u} \sim \text{Uniform}(S_d(1))$</li>
<li>ä»å¾„å‘åˆ†å¸ƒé‡‡æ ·æ¨¡é•¿$r \sim p_{prior}(r)$</li>
</ol>
<p>å¯¹äºç¬¬2æ­¥ï¼Œå¯ä»¥ä½¿ç”¨é€†ç´¯ç§¯åˆ†å¸ƒå‡½æ•°ï¼ˆinverse CDFï¼‰æ–¹æ³•æˆ–rejection samplingã€‚</p>
<hr />
<h3 id="6-poisson">6. Poissonæ–¹ç¨‹ä¸æ‰©æ•£æ–¹ç¨‹çš„ç±»æ¯”</h3>
<p><strong>æ¨å¯¼6.1ï¼šçƒ­æ–¹ç¨‹ï¼ˆæ‰©æ•£æ–¹ç¨‹ï¼‰</strong></p>
<p>çƒ­æ–¹ç¨‹æè¿°çƒ­é‡åœ¨ç©ºé—´ä¸­çš„æ‰©æ•£ï¼š</p>
<p>$$
\frac{\partial u}{\partial t} = \kappa \nabla^2 u
$$</p>
<p>å…¶ä¸­$u(\boldsymbol{x}, t)$æ˜¯æ¸©åº¦ï¼Œ$\kappa$æ˜¯çƒ­æ‰©æ•£ç³»æ•°ã€‚</p>
<p>å¯¹äºåˆå§‹æ¡ä»¶$u(\boldsymbol{x}, 0) = u_0(\boldsymbol{x})$ï¼Œçƒ­æ–¹ç¨‹çš„è§£å¯ä»¥é€šè¿‡Greenå‡½æ•°è¡¨ç¤ºï¼š</p>
<p>$$
u(\boldsymbol{x}, t) = \int G(\boldsymbol{x} - \boldsymbol{x}', t) u_0(\boldsymbol{x}') \, d\boldsymbol{x}'
$$</p>
<p>å…¶ä¸­$G(\boldsymbol{x}, t)$æ˜¯çƒ­æ ¸ï¼ˆheat kernelï¼‰ï¼š</p>
<p>$$
G(\boldsymbol{x}, t) = \frac{1}{(4\pi \kappa t)^{d/2}} \exp\left(-\frac{\|\boldsymbol{x}\|^2}{4\kappa t}\right)
$$</p>
<hr />
<p><strong>æ¨å¯¼6.2ï¼šPoissonæ–¹ç¨‹ä¸ç¨³æ€çƒ­æ–¹ç¨‹</strong></p>
<p>Poissonæ–¹ç¨‹ï¼š</p>
<p>$$
\nabla^2 \phi = -\rho
$$</p>
<p>å¯ä»¥çœ‹ä½œçƒ­æ–¹ç¨‹çš„ç¨³æ€ç‰ˆæœ¬ã€‚å½“$\frac{\partial u}{\partial t} = 0$æ—¶ï¼Œçƒ­æ–¹ç¨‹å˜ä¸ºï¼š</p>
<p>$$
\nabla^2 u = 0 \quad \text{(Laplaceæ–¹ç¨‹)}
$$</p>
<p>å¦‚æœæœ‰çƒ­æº$\rho(\boldsymbol{x})$ï¼Œåˆ™å˜ä¸ºï¼š</p>
<p>$$
\nabla^2 u = \rho
$$</p>
<p>è¿™æ­£æ˜¯Poissonæ–¹ç¨‹çš„å½¢å¼ï¼ˆç¬¦å·å·®å¼‚ï¼‰ã€‚</p>
<p><strong>ç‰©ç†ç±»æ¯”ï¼š</strong></p>
<ul>
<li>å¼•åŠ›åŠ¿$\phi$ï¼šå¯¹åº”æ¸©åº¦$u$</li>
<li>å¼•åŠ›åœº$\boldsymbol{F} = -\nabla \phi$ï¼šå¯¹åº”çƒ­æµ$\boldsymbol{J} = -\kappa \nabla u$ï¼ˆFourierå®šå¾‹ï¼‰</li>
<li>è´¨é‡åˆ†å¸ƒ$\rho$ï¼šå¯¹åº”çƒ­æº</li>
</ul>
<hr />
<p><strong>æ¨å¯¼6.3ï¼šæ‰©æ•£æ¨¡å‹ä¸­çš„å‰å‘è¿‡ç¨‹</strong></p>
<p>åœ¨æ‰©æ•£æ¨¡å‹ä¸­ï¼Œå‰å‘è¿‡ç¨‹é€šå¸¸æ˜¯ï¼š</p>
<p>$$
q(\boldsymbol{x}_t | \boldsymbol{x}_0) = \mathcal{N}(\boldsymbol{x}_t; \sqrt{\bar{\alpha}_t} \boldsymbol{x}_0, (1 - \bar{\alpha}_t) \boldsymbol{I})
$$</p>
<p>å…¶ä¸­$\bar{\alpha}_t$æ˜¯æ—¶é—´ç›¸å…³çš„ç³»æ•°ã€‚</p>
<p>è¿™å¯ä»¥çœ‹ä½œæ˜¯ä»ç‚¹æº$\boldsymbol{x}_0$å‡ºå‘çš„çƒ­æ‰©æ•£è¿‡ç¨‹ï¼Œæ—¶é—´$t$åçš„åˆ†å¸ƒä¸ºä¸€ä¸ªä»¥$\boldsymbol{x}_0$ä¸ºä¸­å¿ƒçš„é«˜æ–¯åˆ†å¸ƒã€‚</p>
<p><strong>å¯¹æ¯”ï¼š</strong></p>
<ul>
<li><strong>æ‰©æ•£æ¨¡å‹</strong>ï¼šä»æ•°æ®ç‚¹$\boldsymbol{x}_0$å‡ºå‘ï¼ŒåŠ å™ªå£°æ‰©æ•£åˆ°$\boldsymbol{x}_t$</li>
<li><strong>PFGM</strong>ï¼šä»è¿œå¤„çš„ç‚¹$\boldsymbol{x}_T$å‡ºå‘ï¼Œæ²¿å¼•åŠ›åœºçº¿æ”¶ç¼©åˆ°æ•°æ®ç‚¹$\boldsymbol{x}_0$</li>
</ul>
<p>ä¸¤è€…æ˜¯"ç›¸å"çš„è¿‡ç¨‹ï¼Œä½†éƒ½åˆ©ç”¨äº†åœºè®ºçš„æ€æƒ³ã€‚</p>
<hr />
<h3 id="7">7. åŠ¿å‡½æ•°ç†è®ºä¸å¾—åˆ†å‡½æ•°çš„å¯¹åº”å…³ç³»</h3>
<p><strong>æ¨å¯¼7.1ï¼šå¾—åˆ†å‡½æ•°çš„å®šä¹‰</strong></p>
<p>åœ¨æ‰©æ•£æ¨¡å‹ä¸­ï¼Œå¾—åˆ†å‡½æ•°å®šä¹‰ä¸ºå¯¹æ•°æ¦‚ç‡å¯†åº¦çš„æ¢¯åº¦ï¼š</p>
<p>$$
\boldsymbol{s}(\boldsymbol{x}, t) = \nabla_{\boldsymbol{x}} \log p_t(\boldsymbol{x})
$$</p>
<p><strong>å¾—åˆ†å‡½æ•°çš„ç‰©ç†æ„ä¹‰ï¼š</strong></p>
<p>å¾—åˆ†å‡½æ•°æŒ‡å‘æ¦‚ç‡å¯†åº¦å¢åŠ æœ€å¿«çš„æ–¹å‘ï¼Œç±»ä¼¼äº"æ¦‚ç‡åœº"çš„æ¢¯åº¦ã€‚</p>
<hr />
<p><strong>æ¨å¯¼7.2ï¼šå¼•åŠ›åŠ¿ä¸æ¦‚ç‡çš„å¯¹åº”</strong></p>
<p>åœ¨PFGMä¸­ï¼Œå¼•åŠ›åœº$\boldsymbol{F}$ä¸å¼•åŠ›åŠ¿$\phi$çš„å…³ç³»ä¸ºï¼š</p>
<p>$$
\boldsymbol{F} = -\nabla \phi
$$</p>
<p>ç±»æ¯”åœ°ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰"æ¦‚ç‡åŠ¿"$\Phi(\boldsymbol{x}, t)$ï¼Œä½¿å¾—ï¼š</p>
<p>$$
\boldsymbol{s}(\boldsymbol{x}, t) = \nabla \Phi(\boldsymbol{x}, t)
$$</p>
<p>å…¶ä¸­ï¼š</p>
<p>$$
\Phi(\boldsymbol{x}, t) = \log p_t(\boldsymbol{x})
$$</p>
<p>å› æ­¤ï¼š</p>
<p>$$
\boldsymbol{F} = -\nabla \phi \quad \leftrightarrow \quad \boldsymbol{s} = \nabla \Phi = \nabla \log p
$$</p>
<p><strong>å¯¹æ¯”ï¼š</strong></p>
<table>
<thead>
<tr>
<th>å¼•åŠ›åœºè®º</th>
<th>æ‰©æ•£æ¨¡å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¼•åŠ›åŠ¿$\phi$</td>
<td>æ¦‚ç‡åŠ¿$\Phi = \log p$</td>
</tr>
<tr>
<td>å¼•åŠ›åœº$\boldsymbol{F} = -\nabla \phi$</td>
<td>å¾—åˆ†$\boldsymbol{s} = \nabla \log p$</td>
</tr>
<tr>
<td>è´¨é‡åˆ†å¸ƒ$\rho$</td>
<td>æ•°æ®åˆ†å¸ƒ$p_{data}$</td>
</tr>
</tbody>
</table>
<p>æ³¨æ„ç¬¦å·çš„å·®å¼‚ï¼šå¼•åŠ›æ˜¯å¸å¼•çš„ï¼ˆè´Ÿæ¢¯åº¦ï¼‰ï¼Œè€Œå¾—åˆ†æ˜¯æŒ‡å‘é«˜æ¦‚ç‡åŒºåŸŸçš„ï¼ˆæ­£æ¢¯åº¦ï¼‰ã€‚</p>
<hr />
<p><strong>æ¨å¯¼7.3ï¼šå¾—åˆ†åŒ¹é…ä¸å¼•åŠ›åœºå­¦ä¹ </strong></p>
<p>åœ¨æ ‡å‡†çš„å¾—åˆ†åŒ¹é…ä¸­ï¼Œè®­ç»ƒç›®æ ‡ä¸ºï¼š</p>
<p>$$
\mathbb{E}_{p_t(\boldsymbol{x})} \left[\|\boldsymbol{s}_{\boldsymbol{\theta}}(\boldsymbol{x}, t) - \nabla_{\boldsymbol{x}} \log p_t(\boldsymbol{x})\|^2\right]
$$</p>
<p>åœ¨PFGMä¸­ï¼Œè®­ç»ƒç›®æ ‡ä¸ºï¼š</p>
<p>$$
\mathbb{E}_{p_{forward}(\boldsymbol{x}, t)} \left[\left\|\boldsymbol{F}_{\boldsymbol{\theta}}(\boldsymbol{x}, t) - \boldsymbol{F}_{true}(\boldsymbol{x}, t)\right\|^2\right]
$$</p>
<p>å…¶ä¸­$\boldsymbol{F}_{true}$æ˜¯çœŸå®å¼•åŠ›åœºã€‚</p>
<p>ä¸¤è€…éƒ½æ˜¯é€šè¿‡æœ€å°åŒ–å¹³æ–¹è¯¯å·®æ¥å­¦ä¹ ç›®æ ‡åœºå‡½æ•°ã€‚</p>
<hr />
<p><strong>æ¨å¯¼7.4ï¼šå¾—åˆ†å‡½æ•°çš„ç§¯åˆ†è¡¨ç¤º</strong></p>
<p>å¯¹äºæ‰©æ•£è¿‡ç¨‹$q(\boldsymbol{x}_t | \boldsymbol{x}_0) = \mathcal{N}(\boldsymbol{x}_t; \sqrt{\bar{\alpha}_t} \boldsymbol{x}_0, (1 - \bar{\alpha}_t) \boldsymbol{I})$ï¼Œè¾¹ç¼˜åˆ†å¸ƒä¸ºï¼š</p>
<p>$$
p_t(\boldsymbol{x}_t) = \int q(\boldsymbol{x}_t | \boldsymbol{x}_0) p_{data}(\boldsymbol{x}_0) \, d\boldsymbol{x}_0
$$</p>
<p>å¾—åˆ†å‡½æ•°ä¸ºï¼š</p>
<p>$$
\nabla_{\boldsymbol{x}_t} \log p_t(\boldsymbol{x}_t) = \frac{\nabla_{\boldsymbol{x}_t} p_t(\boldsymbol{x}_t)}{p_t(\boldsymbol{x}_t)}
$$</p>
<p>å¯ä»¥è¯æ˜ï¼ˆé€šè¿‡Tweedieå…¬å¼ï¼‰ï¼š</p>
<p>$$
\nabla_{\boldsymbol{x}_t} \log p_t(\boldsymbol{x}_t) = -\frac{1}{1 - \bar{\alpha}_t} \mathbb{E}_{p_{data}(\boldsymbol{x}_0)} \left[\boldsymbol{x}_t - \sqrt{\bar{\alpha}_t} \boldsymbol{x}_0 \,\Big|\, \boldsymbol{x}_t\right]
$$</p>
<p>è¿™æ˜¯ä¸€ä¸ªå…³äº$\boldsymbol{x}_0$çš„æœŸæœ›ï¼Œç±»ä¼¼äºPFGMä¸­å¼•åŠ›åœºçš„ç§¯åˆ†è¡¨ç¤ºã€‚</p>
<hr />
<h3 id="8">8. èƒ½é‡æ³›å‡½ä¸æ¢¯åº¦æµ</h3>
<p><strong>æ¨å¯¼8.1ï¼šWassersteinæ¢¯åº¦æµ</strong></p>
<p>åœ¨æœ€ä¼˜ä¼ è¾“ç†è®ºä¸­ï¼ŒWasserstein-2è·ç¦»å®šä¹‰ä¸ºï¼š</p>
<p>$$
W_2(p, q)^2 = \inf_{\pi \in \Pi(p, q)} \int \|\boldsymbol{x} - \boldsymbol{y}\|^2 \, d\pi(\boldsymbol{x}, \boldsymbol{y})
$$</p>
<p>å…¶ä¸­$\Pi(p, q)$æ˜¯è¾¹ç¼˜åˆ†å¸ƒä¸º$p$å’Œ$q$çš„æ‰€æœ‰è€¦åˆã€‚</p>
<p><strong>KLæ•£åº¦çš„Wassersteinæ¢¯åº¦æµï¼š</strong></p>
<p>è€ƒè™‘æ³›å‡½ï¼š</p>
<p>$$
F[p] = \text{KL}(p \| p_{data}) = \int p(\boldsymbol{x}) \log \frac{p(\boldsymbol{x})}{p_{data}(\boldsymbol{x})} \, d\boldsymbol{x}
$$</p>
<p>æ­¤æ³›å‡½åœ¨Wassersteinåº¦é‡ä¸‹çš„æ¢¯åº¦æµä¸ºï¼š</p>
<p>$$
\frac{\partial p}{\partial t} = \nabla \cdot (p \nabla \log \frac{p}{p_{data}})
$$</p>
<p>$$
= \nabla \cdot (p (\nabla \log p - \nabla \log p_{data}))
$$</p>
<p>è¿™æ˜¯ä¸€ä¸ªFokker-Planckæ–¹ç¨‹ã€‚</p>
<p><strong>å¯¹åº”çš„SDEï¼š</strong></p>
<p>$$
d\boldsymbol{x} = -\nabla \log \frac{p_t(\boldsymbol{x})}{p_{data}(\boldsymbol{x})} \, dt + \sqrt{2} \, d\boldsymbol{w}
$$</p>
<p>å½“$p_t \to p_{data}$æ—¶ï¼Œæ¼‚ç§»é¡¹è¶‹äºé›¶ã€‚</p>
<hr />
<p><strong>æ¨å¯¼8.2ï¼šå¼•åŠ›åŠ¿çš„èƒ½é‡æ³›å‡½</strong></p>
<p>åœ¨å¼•åŠ›åœºè®ºä¸­ï¼Œå¼•åŠ›åŠ¿èƒ½ä¸ºï¼š</p>
<p>$$
E[\rho] = \frac{1}{2} \int \rho(\boldsymbol{x}) \phi(\boldsymbol{x}) \, d\boldsymbol{x}
$$</p>
<p>å…¶ä¸­$\phi$æ˜¯ç”±è´¨é‡åˆ†å¸ƒ$\rho$äº§ç”Ÿçš„å¼•åŠ›åŠ¿ï¼Œæ»¡è¶³Poissonæ–¹ç¨‹ï¼š</p>
<p>$$
\nabla^2 \phi = -\rho
$$</p>
<p><strong>èƒ½é‡çš„å˜åˆ†ï¼š</strong></p>
<p>å¯¹$E[\rho]$è¿›è¡Œå˜åˆ†ï¼ˆå›ºå®šæ€»è´¨é‡$\int \rho \, d\boldsymbol{x} = M$ï¼‰ï¼Œå¯ä»¥å¾—åˆ°å¹³è¡¡æ¡ä»¶ã€‚</p>
<p>å¼•åŠ›åŠ¿èƒ½çš„æ¢¯åº¦æµï¼ˆåœ¨é€‚å½“çš„åº¦é‡ä¸‹ï¼‰æè¿°äº†è´¨é‡åˆ†å¸ƒå¦‚ä½•æ¼”åŒ–ã€‚</p>
<p><strong>ä¸PFGMçš„è”ç³»ï¼š</strong></p>
<p>PFGMçš„å¼•åŠ›åœºå¯ä»¥çœ‹ä½œæ˜¯æœ€å°åŒ–æŸç§èƒ½é‡æ³›å‡½çš„æ¢¯åº¦æµã€‚å…·ä½“åœ°ï¼Œå¼•åŠ›åŠ¿èƒ½ä¸æ•°æ®åˆ†å¸ƒçš„"èšé›†ç¨‹åº¦"ç›¸å…³ã€‚</p>
<hr />
<p><strong>æ¨å¯¼8.3ï¼šä»èƒ½é‡åˆ°æ¦‚ç‡çš„æ˜ å°„</strong></p>
<p>Boltzmannåˆ†å¸ƒç»™å‡ºäº†èƒ½é‡$E(\boldsymbol{x})$ä¸æ¦‚ç‡çš„å…³ç³»ï¼š</p>
<p>$$
p(\boldsymbol{x}) = \frac{1}{Z} \exp(-\beta E(\boldsymbol{x}))
$$</p>
<p>å…¶ä¸­$Z$æ˜¯é…åˆ†å‡½æ•°ï¼Œ$\beta$æ˜¯é€†æ¸©åº¦ã€‚</p>
<p>å¯¹æ•°æ¦‚ç‡ä¸ºï¼š</p>
<p>$$
\log p(\boldsymbol{x}) = -\beta E(\boldsymbol{x}) - \log Z
$$</p>
<p>å› æ­¤ï¼š</p>
<p>$$
\nabla \log p(\boldsymbol{x}) = -\beta \nabla E(\boldsymbol{x})
$$</p>
<p><strong>åœ¨PFGMä¸­çš„åº”ç”¨ï¼š</strong></p>
<p>å¦‚æœæˆ‘ä»¬å®šä¹‰"å¼•åŠ›åŠ¿èƒ½"ä¸ºï¼š</p>
<p>$$
E(\boldsymbol{x}, t) = -\log p_t(\boldsymbol{x}, t)
$$</p>
<p>åˆ™ï¼š</p>
<p>$$
\nabla E = -\nabla \log p_t = -\boldsymbol{s}(\boldsymbol{x}, t)
$$</p>
<p>å¼•åŠ›åœºå¯ä»¥çœ‹ä½œæ˜¯èƒ½é‡çš„è´Ÿæ¢¯åº¦ï¼š</p>
<p>$$
\boldsymbol{F} \propto -\nabla E = \nabla \log p_t
$$</p>
<p>è¿™å»ºç«‹äº†ç‰©ç†åŠ¿èƒ½ä¸æ¦‚ç‡å¯†åº¦ä¹‹é—´çš„æ˜ å°„ã€‚</p>
<hr />
<h3 id="9">9. åœºçº¿çš„å‡ ä½•æ€§è´¨</h3>
<p><strong>æ¨å¯¼9.1ï¼šåœºçº¿ä¸ç›¸äº¤å®šç†</strong></p>
<p>å¯¹äºè¿ç»­çš„å‘é‡åœº$\boldsymbol{F}(\boldsymbol{x}, t)$ï¼Œåœºçº¿æ»¡è¶³ODEï¼š</p>
<p>$$
\frac{d\boldsymbol{x}}{dt} = \boldsymbol{F}(\boldsymbol{x}, t)
$$</p>
<p><strong>å®šç†ï¼š</strong> å¦‚æœ$\boldsymbol{F}$è¿ç»­ä¸”æ»¡è¶³Lipschitzæ¡ä»¶ï¼Œåˆ™é€šè¿‡ä¸åŒåˆå§‹ç‚¹çš„åœºçº¿ä¸ä¼šç›¸äº¤ã€‚</p>
<p><strong>è¯æ˜ï¼š</strong> åè¯æ³•ã€‚å‡è®¾ä¸¤æ¡åœºçº¿ç›¸äº¤äºç‚¹$(\boldsymbol{x}_0, t_0)$ã€‚åˆ™å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„åˆå§‹æ¡ä»¶å¯¼è‡´ç›¸åŒçš„è§£ï¼Œè¿™ä¸ODEè§£çš„å”¯ä¸€æ€§å®šç†çŸ›ç›¾ã€‚</p>
<p><strong>æ¨è®ºï¼š</strong> åœ¨PFGMä¸­ï¼Œä»$t=T$å¹³é¢ä¸Šä¸åŒç‚¹å‡ºå‘çš„åœºçº¿ï¼Œåœ¨$t &lt; T$æ—¶ä¸ä¼šç›¸äº¤ï¼ˆé™¤éåˆ°è¾¾$t=0$å¹³é¢ä¸Šçš„åŒä¸€ä¸ªæ•°æ®ç‚¹ï¼‰ã€‚</p>
<hr />
<p><strong>æ¨å¯¼9.2ï¼šåœºçº¿çš„ä¿æµ‹åº¦æ€§è´¨</strong></p>
<p>å¯¹äºå“ˆå¯†é¡¿ç³»ç»Ÿæˆ–æŸäº›ç‰¹æ®Šçš„å‘é‡åœºï¼Œåœºçº¿æµä¿æŒç›¸ç©ºé—´çš„æµ‹åº¦ï¼ˆLiouvilleå®šç†ï¼‰ã€‚</p>
<p>å¯¹äºPFGMçš„å‘é‡åœºï¼Œæˆ‘ä»¬è€ƒè™‘æ¦‚ç‡å¯†åº¦$p(\boldsymbol{x}, t)$æ²¿åœºçº¿çš„æ¼”åŒ–ã€‚</p>
<p><strong>Fokker-Planckæ–¹ç¨‹ï¼š</strong></p>
<p>å¦‚æœåœºçº¿æµç”±$\frac{d\boldsymbol{x}}{dt} = \boldsymbol{F}(\boldsymbol{x}, t)$ç»™å‡ºï¼Œåˆ™æ¦‚ç‡å¯†åº¦æ»¡è¶³ï¼š</p>
<p>$$
\frac{\partial p}{\partial t} + \nabla \cdot (p \boldsymbol{F}) = 0
$$</p>
<p>è¿™æ˜¯è¿ç»­æ€§æ–¹ç¨‹ï¼Œè¡¨è¾¾äº†æ¦‚ç‡å®ˆæ’ã€‚</p>
<p>å±•å¼€ï¼š</p>
<p>$$
\frac{\partial p}{\partial t} + \boldsymbol{F} \cdot \nabla p + p (\nabla \cdot \boldsymbol{F}) = 0
$$</p>
<p>å¦‚æœ$\nabla \cdot \boldsymbol{F} = 0$ï¼ˆæ— æ•£åœºï¼‰ï¼Œåˆ™ï¼š</p>
<p>$$
\frac{\partial p}{\partial t} + \boldsymbol{F} \cdot \nabla p = 0
$$</p>
<p>è¿™æ„å‘³ç€$p$æ²¿åœºçº¿ä¿æŒä¸å˜ï¼ˆå¯¹æµæ–¹ç¨‹ï¼‰ã€‚</p>
<hr />
<p><strong>æ¨å¯¼9.3ï¼šåœºçº¿çš„é•¿åº¦ä¸ä½œç”¨é‡</strong></p>
<p>åœºçº¿çš„é•¿åº¦å¯ä»¥å®šä¹‰ä¸ºï¼š</p>
<p>$$
L = \int_{t_0}^{t_1} \left\|\frac{d\boldsymbol{x}}{dt}\right\| \, dt = \int_{t_0}^{t_1} \|\boldsymbol{F}(\boldsymbol{x}(t), t)\| \, dt
$$</p>
<p>åœ¨ç‰©ç†ä¸­ï¼Œä½œç”¨é‡å®šä¹‰ä¸ºï¼š</p>
<p>$$
S = \int_{t_0}^{t_1} \mathcal{L}(\boldsymbol{x}, \dot{\boldsymbol{x}}, t) \, dt
$$</p>
<p>å…¶ä¸­$\mathcal{L}$æ˜¯Lagrangianã€‚</p>
<p>å¯¹äºå¼•åŠ›åœºï¼Œå¯ä»¥å®šä¹‰åŠ¨èƒ½ä¸åŠ¿èƒ½çš„Lagrangianï¼š</p>
<p>$$
\mathcal{L} = \frac{1}{2} \|\dot{\boldsymbol{x}}\|^2 - \phi(\boldsymbol{x}, t)
$$</p>
<p>æœ€å°ä½œç”¨é‡åŸç†å¯¼å‡ºè¿åŠ¨æ–¹ç¨‹ï¼ˆEuler-Lagrangeæ–¹ç¨‹ï¼‰ã€‚</p>
<p><strong>ä¸ODEçš„å…³ç³»ï¼š</strong></p>
<p>PFGMçš„ODEæ˜¯ä¸€ä¸ªç‰¹å®šçš„åœºçº¿æ–¹ç¨‹ï¼Œä½†ä¸ä¸€å®šå¯¹åº”äºæœ€å°ä½œç”¨é‡åŸç†ã€‚ç„¶è€Œï¼Œå¯ä»¥é€šè¿‡å˜åˆ†æ–¹æ³•ç ”ç©¶åœºçº¿çš„æ€§è´¨ã€‚</p>
<hr />
<h3 id="10">10. è®­ç»ƒç›®æ ‡çš„æ·±å…¥åˆ†æ</h3>
<p><strong>æ¨å¯¼10.1ï¼šæœŸæœ›ä¸æœ€ä¼˜åŒ–çš„å…³ç³»</strong></p>
<p>PFGMçš„è®­ç»ƒç›®æ ‡ï¼ˆå¼$\eqref{eq:loss}$ï¼‰ä¸ºï¼š</p>
<p>$$
\mathcal{L}(\boldsymbol{\theta}) = \mathbb{E}_{p(\boldsymbol{x}_0, \boldsymbol{x}, t)} \left[\left\|\boldsymbol{F}_{\boldsymbol{\theta}}(\boldsymbol{x}, t) - \boldsymbol{F}_{target}(\boldsymbol{x}, t, \boldsymbol{x}_0)\right\|^2\right]
$$</p>
<p>å…¶ä¸­ï¼š</p>
<p>$$
\boldsymbol{F}_{target}(\boldsymbol{x}, t, \boldsymbol{x}_0) = -\frac{(\boldsymbol{x} - \boldsymbol{x}_0, t)}{(\|\boldsymbol{x} - \boldsymbol{x}_0\|^2 + t^2)^{(d+1)/2}}
$$</p>
<p><strong>æœ€ä¼˜è§£ï¼š</strong></p>
<p>å¯¹äºå›ºå®šçš„$(\boldsymbol{x}, t)$ï¼Œæœ€ä¼˜çš„$\boldsymbol{F}_{\boldsymbol{\theta}}$æ˜¯ï¼š</p>
<p>$$
\boldsymbol{F}_{\boldsymbol{\theta}}^*(\boldsymbol{x}, t) = \mathbb{E}_{\boldsymbol{x}_0 | \boldsymbol{x}, t} [\boldsymbol{F}_{target}(\boldsymbol{x}, t, \boldsymbol{x}_0)]
$$</p>
<p>è¿™æ­£æ˜¯çœŸå®å¼•åŠ›åœº$\boldsymbol{F}_{true}(\boldsymbol{x}, t)$çš„å®šä¹‰ã€‚</p>
<p><strong>è¯æ˜ï¼š</strong> å¯¹äºå¹³æ–¹æŸå¤±ï¼Œæœ€ä¼˜é¢„æµ‹æ˜¯æ¡ä»¶æœŸæœ›ã€‚è®¾$Y = \boldsymbol{F}_{target}$ï¼Œåˆ™ï¼š</p>
<p>$$
\min_{\boldsymbol{\mu}} \mathbb{E}[\|Y - \boldsymbol{\mu}\|^2] = \mathbb{E}[\|Y - \mathbb{E}[Y]\|^2]
$$</p>
<p>å½“$\boldsymbol{\mu} = \mathbb{E}[Y]$æ—¶è¾¾åˆ°æœ€å°ã€‚</p>
<hr />
<p><strong>æ¨å¯¼10.2ï¼šå‰å‘è¿‡ç¨‹çš„é‡‡æ ·åˆ†å¸ƒ</strong></p>
<p>æ–‡ç« ä¸­å®šä¹‰çš„å‰å‘è¿‡ç¨‹ä¸ºï¼š</p>
<p>$$
\boldsymbol{x} = \boldsymbol{x}_0 + \|\boldsymbol{\varepsilon}_{\boldsymbol{x}}\| (1+\tau)^m \boldsymbol{u}
$$</p>
<p>$$
t = |\varepsilon_t| (1+\tau)^m
$$</p>
<p>å…¶ä¸­$(\boldsymbol{\varepsilon}<em d_1="d+1">{\boldsymbol{x}}, \varepsilon_t) \sim \mathcal{N}(\boldsymbol{0}, \sigma^2 \boldsymbol{I}</em>$æ˜¯å‡åŒ€æ–¹å‘ã€‚})$ï¼Œ$m \sim U[0, M]$ï¼Œ$\boldsymbol{u</p>
<p><strong>åˆ†æï¼š</strong></p>
<p>è¿™ä¸ªè®¾è®¡ä½¿å¾—$(\boldsymbol{x}, t)$åœ¨$d+1$ç»´ç©ºé—´ä¸­å¤§è‡´å‡åŒ€åœ°åˆ†å¸ƒåœ¨å„ä¸ªå°ºåº¦ä¸Šã€‚</p>
<ul>
<li>$(1+\tau)^m$ï¼šæŒ‡æ•°å¢é•¿ï¼Œè¦†ç›–ä»å°åˆ°å¤§çš„å°ºåº¦</li>
<li>$|\boldsymbol{\varepsilon}_{\boldsymbol{x}}|$ï¼šå¾„å‘éšæœºæ€§</li>
<li>$\boldsymbol{u}$ï¼šè§’å‘å‡åŒ€æ€§</li>
</ul>
<p><strong>ä¸æ ‡å‡†æ‰©æ•£çš„å¯¹æ¯”ï¼š</strong></p>
<p>æ ‡å‡†æ‰©æ•£æ¨¡å‹ä½¿ç”¨$\boldsymbol{x}_t = \sqrt{\bar{\alpha}_t} \boldsymbol{x}_0 + \sqrt{1 - \bar{\alpha}_t} \boldsymbol{\varepsilon}$ï¼Œè¿™æ˜¯å„å‘åŒæ€§çš„é«˜æ–¯å™ªå£°ã€‚</p>
<p>PFGMçš„å‰å‘è¿‡ç¨‹æ›´åŠ çµæ´»ï¼Œä¸ä¾èµ–äºé«˜æ–¯å‡è®¾ã€‚</p>
<hr />
<p><strong>æ¨å¯¼10.3ï¼šå½’ä¸€åŒ–çš„å½±å“</strong></p>
<p>æ–‡ç« æåˆ°åŸè®ºæ–‡ä½¿ç”¨äº†å½’ä¸€åŒ–çš„ç›®æ ‡ï¼š</p>
<p>$$
\mathcal{L}_{normalized} = \left\|\boldsymbol{F}_{\boldsymbol{\theta}} - \text{Normalize}(\mathbb{E}[\boldsymbol{F}_{target}])\right\|^2
$$</p>
<p>å…¶ä¸­Normalizeè¡¨ç¤ºå½’ä¸€åŒ–ä¸ºå•ä½å‘é‡ã€‚</p>
<p><strong>å½’ä¸€åŒ–çš„ä½œç”¨ï¼š</strong></p>
<ol>
<li><strong>å°ºåº¦ä¸å˜æ€§</strong>ï¼šåªå…³å¿ƒæ–¹å‘ï¼Œä¸å…³å¿ƒå¤§å°</li>
<li><strong>æ•°å€¼ç¨³å®šæ€§</strong>ï¼šé¿å…æ¢¯åº¦çˆ†ç‚¸æˆ–æ¶ˆå¤±</li>
<li><strong>å‡ ä½•æ„ä¹‰</strong>ï¼šä¼˜åŒ–"æ–¹å‘"è€Œé"å¼ºåº¦"</li>
</ol>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li><strong>æœ‰åä¼°è®¡</strong>ï¼š$\text{Normalize}(\mathbb{E}[X]) \neq \mathbb{E}[\text{Normalize}(X)]$</li>
<li><strong>éœ€è¦å¤§batch size</strong>ï¼šä¸ºäº†å‡†ç¡®ä¼°è®¡æœŸæœ›</li>
</ul>
<hr />
<h3 id="11">11. ä¸å…¶ä»–ç”Ÿæˆæ¨¡å‹çš„ç†è®ºè”ç³»</h3>
<p><strong>æ¨å¯¼11.1ï¼šä¸Normalizing Flowçš„å…³ç³»</strong></p>
<p>Normalizing Flowé€šè¿‡å¯é€†å˜æ¢$\boldsymbol{f}: \mathbb{R}^d \to \mathbb{R}^d$å»ºç«‹åˆ†å¸ƒä¹‹é—´çš„æ˜ å°„ï¼š</p>
<p>$$
\boldsymbol{x} = \boldsymbol{f}(\boldsymbol{z}), \quad \boldsymbol{z} \sim p_{prior}
$$</p>
<p>æ¦‚ç‡å¯†åº¦çš„å˜æ¢å…¬å¼ä¸ºï¼š</p>
<p>$$
p_{\boldsymbol{x}}(\boldsymbol{x}) = p_{\boldsymbol{z}}(\boldsymbol{f}^{-1}(\boldsymbol{x})) \left|\det \frac{\partial \boldsymbol{f}^{-1}}{\partial \boldsymbol{x}}\right|
$$</p>
<p><strong>ä¸ODE Flowçš„è”ç³»ï¼š</strong></p>
<p>è¿ç»­çš„Normalizing Flowå¯ä»¥è¡¨ç¤ºä¸ºODEï¼š</p>
<p>$$
\frac{d\boldsymbol{x}}{dt} = \boldsymbol{v}(\boldsymbol{x}, t)
$$</p>
<p>ä»$t=0$åˆ°$t=T$æ±‚è§£æ­¤ODEï¼Œå¾—åˆ°å˜æ¢$\boldsymbol{x}_T = \boldsymbol{f}(\boldsymbol{x}_0)$ã€‚</p>
<p>PFGMçš„ODE$\frac{d\boldsymbol{x}}{dt} = \frac{\boldsymbol{F}_{\boldsymbol{x}}}{\boldsymbol{F}_t}$ç±»ä¼¼ï¼Œä½†é€Ÿåº¦åœº$\boldsymbol{v}$çš„å®šä¹‰ä¸åŒã€‚</p>
<hr />
<p><strong>æ¨å¯¼11.2ï¼šä¸Score-basedæ¨¡å‹çš„å¯¹æ¯”</strong></p>
<p>Score-basedæ¨¡å‹å­¦ä¹ å¾—åˆ†å‡½æ•°$\boldsymbol{s}_{\boldsymbol{\theta}}(\boldsymbol{x}, t) = \nabla \log p_t(\boldsymbol{x})$ï¼Œç„¶åé€šè¿‡åå‘SDEæˆ–ODEç”Ÿæˆæ ·æœ¬ã€‚</p>
<p><strong>åå‘SDEï¼š</strong></p>
<p>$$
d\boldsymbol{x} = [\boldsymbol{f}(\boldsymbol{x}, t) - g(t)^2 \nabla \log p_t(\boldsymbol{x})] dt + g(t) d\boldsymbol{w}
$$</p>
<p><strong>åå‘ODEï¼ˆProbability Flow ODEï¼‰ï¼š</strong></p>
<p>$$
\frac{d\boldsymbol{x}}{dt} = \boldsymbol{f}(\boldsymbol{x}, t) - \frac{1}{2} g(t)^2 \nabla \log p_t(\boldsymbol{x})
$$</p>
<p><strong>PFGMä¸Score-basedçš„å¯¹æ¯”ï¼š</strong></p>
<table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th>Score-based</th>
<th>PFGM</th>
</tr>
</thead>
<tbody>
<tr>
<td>å­¦ä¹ ç›®æ ‡</td>
<td>å¾—åˆ†å‡½æ•°$\nabla \log p_t$</td>
<td>å¼•åŠ›åœº$\boldsymbol{F}$</td>
</tr>
<tr>
<td>å‰å‘è¿‡ç¨‹</td>
<td>é«˜æ–¯æ‰©æ•£</td>
<td>ä¸æ˜ç¡®ï¼ˆéšå¼ï¼‰</td>
</tr>
<tr>
<td>åå‘è¿‡ç¨‹</td>
<td>SDEæˆ–ODE</td>
<td>ODE</td>
</tr>
<tr>
<td>ç†è®ºåŸºç¡€</td>
<td>éšæœºè¿‡ç¨‹</td>
<td>åœºè®º</td>
</tr>
</tbody>
</table>
<hr />
<p><strong>æ¨å¯¼11.3ï¼šä¸VAEçš„èƒ½é‡è§‚ç‚¹</strong></p>
<p>VAEçš„ELBOå¯ä»¥å†™ä¸ºï¼š</p>
<p>$$
\mathcal{L} = \mathbb{E}_{q(\boldsymbol{z}|\boldsymbol{x})} [\log p(\boldsymbol{x}|\boldsymbol{z})] - \text{KL}(q(\boldsymbol{z}|\boldsymbol{x}) \| p(\boldsymbol{z}))
$$</p>
<p>ä»èƒ½é‡è§‚ç‚¹ï¼Œå¯ä»¥å®šä¹‰ï¼š</p>
<p>$$
E(\boldsymbol{x}, \boldsymbol{z}) = -\log p(\boldsymbol{x}, \boldsymbol{z})
$$</p>
<p>åˆ™VAEè¯•å›¾æœ€å°åŒ–è‡ªç”±èƒ½ï¼š</p>
<p>$$
F(\boldsymbol{x}) = -\log p(\boldsymbol{x}) = -\log \int e^{-E(\boldsymbol{x}, \boldsymbol{z})} d\boldsymbol{z}
$$</p>
<p><strong>ä¸PFGMçš„è”ç³»ï¼š</strong></p>
<p>PFGMå¯ä»¥çœ‹ä½œæ˜¯ç›´æ¥åœ¨æ•°æ®ç©ºé—´å®šä¹‰èƒ½é‡ï¼ˆé€šè¿‡å¼•åŠ›åŠ¿ï¼‰ï¼Œç„¶åé€šè¿‡æ¢¯åº¦æµæœ€å°åŒ–èƒ½é‡ã€‚</p>
<hr />
<h3 id="12">12. æ”¶æ•›æ€§ä¸ç¨³å®šæ€§åˆ†æ</h3>
<p><strong>æ¨å¯¼12.1ï¼šODEæ±‚è§£çš„è¯¯å·®åˆ†æ</strong></p>
<p>æ±‚è§£ODE$\frac{d\boldsymbol{x}}{dt} = \boldsymbol{F}(\boldsymbol{x}, t)$æ—¶ï¼Œå¸¸ç”¨æ•°å€¼æ–¹æ³•å¦‚Euleræ–¹æ³•ï¼š</p>
<p>$$
\boldsymbol{x}_{n+1} = \boldsymbol{x}_n + h \boldsymbol{F}(\boldsymbol{x}_n, t_n)
$$</p>
<p>å…¶ä¸­$h$æ˜¯æ­¥é•¿ã€‚</p>
<p><strong>å±€éƒ¨æˆªæ–­è¯¯å·®ï¼š</strong></p>
<p>Euleræ–¹æ³•çš„å±€éƒ¨æˆªæ–­è¯¯å·®ä¸º$O(h^2)$ã€‚</p>
<p><strong>å…¨å±€è¯¯å·®ï¼š</strong></p>
<p>ç»è¿‡$N = T/h$æ­¥åï¼Œå…¨å±€è¯¯å·®ä¸º$O(h)$ã€‚</p>
<p><strong>å¯¹PFGMçš„å½±å“ï¼š</strong></p>
<p>ç”Ÿæˆè´¨é‡ä¾èµ–äºODEæ±‚è§£çš„ç²¾åº¦ã€‚ä½¿ç”¨é«˜é˜¶æ–¹æ³•ï¼ˆå¦‚RK4ï¼‰å¯ä»¥æé«˜ç²¾åº¦ï¼Œä½†è®¡ç®—æˆæœ¬å¢åŠ ã€‚</p>
<hr />
<p><strong>æ¨å¯¼12.2ï¼šLipschitzè¿ç»­æ€§</strong></p>
<p>å¦‚æœ$\boldsymbol{F}$æ»¡è¶³Lipschitzæ¡ä»¶ï¼š</p>
<p>$$
\|\boldsymbol{F}(\boldsymbol{x}_1, t) - \boldsymbol{F}(\boldsymbol{x}_2, t)\| \leq L \|\boldsymbol{x}_1 - \boldsymbol{x}_2\|
$$</p>
<p>åˆ™ODEçš„è§£å­˜åœ¨ä¸”å”¯ä¸€ï¼Œå¹¶ä¸”å¯¹åˆå§‹æ¡ä»¶è¿ç»­ä¾èµ–ã€‚</p>
<p><strong>éªŒè¯PFGMçš„å¼•åŠ›åœºï¼š</strong></p>
<p>å¯¹äºå•æºå¼•åŠ›åœºï¼š</p>
<p>$$
\boldsymbol{F}(\boldsymbol{x}) = -\frac{\boldsymbol{x} - \boldsymbol{x}_0}{\|\boldsymbol{x} - \boldsymbol{x}_0\|^d}
$$</p>
<p>åœ¨è¿œç¦»$\boldsymbol{x}_0$çš„åŒºåŸŸï¼Œ$\boldsymbol{F}$æ˜¯å…‰æ»‘çš„ï¼Œæ»¡è¶³Lipschitzæ¡ä»¶ã€‚ä½†åœ¨$\boldsymbol{x} \to \boldsymbol{x}_0$æ—¶ï¼Œ$\boldsymbol{F}$è¶‹äºæ— ç©·ï¼Œä¸æ»¡è¶³Lipschitzæ¡ä»¶ã€‚</p>
<p><strong>è§£å†³æ–¹æ³•ï¼š</strong></p>
<p>åœ¨å®é™…å®ç°ä¸­ï¼Œå½“$|\boldsymbol{x} - \boldsymbol{x}_0|$å¾ˆå°æ—¶ï¼Œåœæ­¢ç§¯åˆ†æˆ–ä½¿ç”¨æ­£åˆ™åŒ–ã€‚</p>
<hr />
<p><strong>æ¨å¯¼12.3ï¼šæ¨¡å¼è¦†ç›–ä¸æ¨¡å¼åç¼©</strong></p>
<p><strong>æ¨¡å¼è¦†ç›–ï¼ˆMode Coverageï¼‰ï¼š</strong> ç”Ÿæˆæ¨¡å‹èƒ½å¦è¦†ç›–çœŸå®åˆ†å¸ƒçš„æ‰€æœ‰æ¨¡å¼ã€‚</p>
<p><strong>æ¨¡å¼åç¼©ï¼ˆMode Collapseï¼‰ï¼š</strong> ç”Ÿæˆæ¨¡å‹åªç”Ÿæˆéƒ¨åˆ†æ¨¡å¼ï¼Œå¿½ç•¥å…¶ä»–æ¨¡å¼ã€‚</p>
<p><strong>PFGMçš„ä¼˜åŠ¿ï¼š</strong></p>
<p>é€šè¿‡å¢åŠ ç»´åº¦é¿å…äº†å¼•åŠ›æºçš„ç›¸äº’æŠµæ¶ˆï¼Œç†è®ºä¸Šä¿è¯äº†æ¯ä¸ªæ•°æ®ç‚¹éƒ½æœ‰å¯¹åº”çš„åœºçº¿åˆ°è¾¾ï¼Œä»è€Œé¿å…æ¨¡å¼åç¼©ã€‚</p>
<p><strong>æ•°å­¦è¯æ˜ï¼ˆè‰å›¾ï¼‰ï¼š</strong></p>
<p>åœ¨$d+1$ç»´ç©ºé—´ä¸­ï¼Œå¼•åŠ›æºä½äº$t=0$å¹³é¢ï¼Œä¸å½¢æˆé—­åˆçš„å¯¹ç§°ç»“æ„ï¼ˆå¦‚çƒå£³ï¼‰ï¼Œå› æ­¤ä¸ä¼šå‡ºç°å†…éƒ¨å¼•åŠ›æŠµæ¶ˆçš„ç°è±¡ã€‚</p>
<p>æ¯æ¡ä»$t=T$å¹³é¢å‡ºå‘çš„åœºçº¿ï¼Œéƒ½ä¼šå•è°ƒåœ°å‡å°$t$ï¼Œæœ€ç»ˆåˆ°è¾¾$t=0$å¹³é¢çš„æŸä¸ªç‚¹ã€‚</p>
<hr />
<h3 id="13">13. è®¡ç®—å¤æ‚åº¦ä¸æ•ˆç‡</h3>
<p><strong>æ¨å¯¼13.1ï¼šå•æ­¥ODEç§¯åˆ†çš„å¤æ‚åº¦</strong></p>
<p>æ¯æ­¥ODEç§¯åˆ†éœ€è¦è®¡ç®—$\boldsymbol{F}(\boldsymbol{x}, t)$ï¼Œè¿™éœ€è¦ä¸€æ¬¡ç¥ç»ç½‘ç»œå‰å‘ä¼ æ’­ã€‚</p>
<p>å‡è®¾ç½‘ç»œå‚æ•°é‡ä¸º$P$ï¼Œåˆ™å•æ­¥å¤æ‚åº¦ä¸º$O(P)$ã€‚</p>
<p>æ€»å…±éœ€è¦$N$æ­¥ï¼ˆ$N = T/h$ï¼‰ï¼Œåˆ™æ€»å¤æ‚åº¦ä¸º$O(NP)$ã€‚</p>
<hr />
<p><strong>æ¨å¯¼13.2ï¼šä¸æ‰©æ•£æ¨¡å‹çš„å¯¹æ¯”</strong></p>
<p><strong>DDPMï¼š</strong> éœ€è¦$T \approx 1000$æ­¥
<strong>DDIMï¼š</strong> å¯ä»¥å‡å°‘åˆ°$N \approx 50$æ­¥
<strong>PFGMï¼š</strong> æ ¹æ®è®ºæ–‡ï¼Œ$N \approx 100$æ­¥</p>
<p>å› æ­¤ï¼ŒPFGMçš„ç”Ÿæˆé€Ÿåº¦ä¸DDIMç›¸å½“ï¼Œæ¯”DDPMå¿«ã€‚</p>
<hr />
<p><strong>æ¨å¯¼13.3ï¼šè®­ç»ƒæˆæœ¬</strong></p>
<p>è®­ç»ƒæ—¶éœ€è¦è®¡ç®—æŸå¤±$\mathcal{L}$ï¼Œæ¯ä¸ªæ ·æœ¬éœ€è¦ï¼š</p>
<ol>
<li>é‡‡æ ·$\boldsymbol{x}<em data="data">0 \sim p</em>$</li>
<li>é‡‡æ ·$(\boldsymbol{x}, t)$æ ¹æ®å‰å‘è¿‡ç¨‹</li>
<li>è®¡ç®—$\boldsymbol{F}_{\boldsymbol{\theta}}(\boldsymbol{x}, t)$ï¼ˆç½‘ç»œå‰å‘ä¼ æ’­ï¼‰</li>
<li>è®¡ç®—ç›®æ ‡$\boldsymbol{F}_{target}$</li>
<li>è®¡ç®—æŸå¤±å¹¶åå‘ä¼ æ’­</li>
</ol>
<p>æ€»ä½“è®­ç»ƒæˆæœ¬ä¸æ ‡å‡†æ‰©æ•£æ¨¡å‹ç›¸å½“ã€‚</p>
<hr />
<h3 id="14">14. æ€»ç»“ä¸å±•æœ›</h3>
<p>é€šè¿‡ä»¥ä¸Šè¯¦ç»†çš„æ•°å­¦æ¨å¯¼ï¼Œæˆ‘ä»¬æ·±å…¥ç†è§£äº†PFGMçš„ç†è®ºåŸºç¡€ï¼š</p>
<ol>
<li><strong>å¼•åŠ›åœºç†è®º</strong>ï¼šä»ç‰›é¡¿ä¸‡æœ‰å¼•åŠ›å‡ºå‘ï¼Œå»ºç«‹äº†$d$ç»´ç©ºé—´çš„å¼•åŠ›åœºæ•°å­¦å½¢å¼</li>
<li><strong>Poissonæ–¹ç¨‹ä¸Greenå‡½æ•°</strong>ï¼šæ­ç¤ºäº†å¼•åŠ›åŠ¿ä¸å¼•åŠ›åœºçš„æ·±åˆ»è”ç³»</li>
<li><strong>å¤šæºå åŠ ä¸è´¨å¿ƒç­‰æ•ˆ</strong>ï¼šè¯æ˜äº†è¿œåœºè¿‘ä¼¼çš„åˆç†æ€§</li>
<li><strong>ç»´åº¦æå‡æŠ€å·§</strong>ï¼šé€šè¿‡å¢åŠ ä¸€ç»´å·§å¦™åœ°é¿å…äº†æ¨¡å¼åç¼©</li>
<li><strong>åŠ¿å‡½æ•°ä¸å¾—åˆ†å‡½æ•°</strong>ï¼šå»ºç«‹äº†ç‰©ç†åœºè®ºä¸æ¦‚ç‡ç”Ÿæˆæ¨¡å‹çš„æ¡¥æ¢</li>
<li><strong>èƒ½é‡æ³›å‡½ä¸æ¢¯åº¦æµ</strong>ï¼šä»èƒ½é‡è§‚ç‚¹ç†è§£ç”Ÿæˆè¿‡ç¨‹</li>
<li><strong>å‡ ä½•ä¸æ‹“æ‰‘æ€§è´¨</strong>ï¼šåˆ†æäº†åœºçº¿çš„ä¸ç›¸äº¤æ€§å’Œæ”¶æ•›æ€§</li>
</ol>
<p>PFGMå±•ç¤ºäº†ç‰©ç†å­¦ä¸æœºå™¨å­¦ä¹ æ·±åº¦èåˆçš„å¯èƒ½æ€§ï¼Œä¸ºç”Ÿæˆæ¨¡å‹çš„ç ”ç©¶å¼€è¾Ÿäº†æ–°çš„æ–¹å‘ã€‚æœªæ¥çš„ç ”ç©¶å¯èƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>æ›´é«˜æ•ˆçš„åœºå‡½æ•°è¡¨ç¤º</li>
<li>è‡ªé€‚åº”çš„ODEæ±‚è§£å™¨</li>
<li>æ¡ä»¶ç”Ÿæˆçš„æ‰©å±•</li>
<li>æ›´æ·±å…¥çš„ç†è®ºä¿è¯</li>
</ul>
<p>è¿™ä¸ªæ¡†æ¶ä¸ä»…åœ¨æŠ€æœ¯ä¸Šåˆ›æ–°ï¼Œæ›´é‡è¦çš„æ˜¯å®ƒæä¾›äº†ä¸€ç§å…¨æ–°çš„æ€ç»´æ–¹å¼ï¼Œè®©æˆ‘ä»¬é‡æ–°å®¡è§†ç”Ÿæˆæ¨¡å‹ä¸ç‰©ç†ä¸–ç•Œçš„æ·±åˆ»è”ç³»ã€‚</p>
        </div>
    </div>
</body>
</html>