<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäºŒåä¸€ï¼‰ï¼šä¸­å€¼å®šç†åŠ é€ŸODEé‡‡æ ·</title>
    <style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    line-height: 1.6; color: #333; max-width: 900px; margin: 0 auto; padding: 20px; background: #f5f5f5;
}
.container { background: white; padding: 40px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
header { border-bottom: 2px solid #e0e0e0; padding-bottom: 20px; margin-bottom: 30px; }
h1 { color: #2c3e50; margin-bottom: 10px; font-size: 2em; }
.meta { color: #666; font-size: 0.9em; margin-bottom: 20px; }
.content { margin-top: 30px; overflow-wrap: break-word; }
.content h2 { color: #34495e; margin-top: 30px; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
.content p { margin-bottom: 15px; }
.content pre { background: #f8f8f8; padding: 15px; border-radius: 5px; overflow-x: auto; border-left: 3px solid #3498db; margin: 15px 0; }
.content code { background: #f8f8f8; padding: 2px 5px; border-radius: 3px; font-family: monospace; font-size: 0.9em; }
.content blockquote { border-left: 4px solid #3498db; padding-left: 20px; margin: 20px 0; color: #555; font-style: italic; }
.content table { border-collapse: collapse; width: 100%; margin: 20px 0; }
.content th, .content td { border: 1px solid #ddd; padding: 10px; text-align: left; }
.back-link { display: inline-block; margin-bottom: 20px; color: #3498db; text-decoration: none; font-weight: 500; }
</style>
    
<script>
    window.MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\(', '\)']],
            displayMath: [['$$', '$$'], ['\[', '\]']],
            processEscapes: true
        }
    };
</script>
<script id="MathJax-script" async src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
        <header>
            <h1>ç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäºŒåä¸€ï¼‰ï¼šä¸­å€¼å®šç†åŠ é€ŸODEé‡‡æ ·</h1>
            <div class="meta">ğŸ“… æœ€åæ›´æ–°: 2025-11-26 | ğŸ“„ å¤§å°: 57.0 KB</div>
        </header>
        <div class="content">
            <p><strong>åŸæ–‡é“¾æ¥</strong>: <a href="https://spaces.ac.cn/archives/9881">https://spaces.ac.cn/archives/9881</a></p>
<p><strong>å‘å¸ƒæ—¥æœŸ</strong>: </p>
<hr />
<p>åœ¨ç”Ÿæˆæ‰©æ•£æ¨¡å‹çš„å‘å±•å²ä¸Šï¼Œ<a href="/archives/9181">DDIM</a>å’ŒåŒæœŸSong Yangçš„<a href="/archives/9209">æ‰©æ•£SDE</a>éƒ½ç§°å¾—ä¸Šæ˜¯é‡Œç¨‹ç¢‘å¼çš„å·¥ä½œï¼Œå› ä¸ºå®ƒä»¬å»ºç«‹èµ·äº†æ‰©æ•£æ¨¡å‹ä¸éšæœºå¾®åˆ†æ–¹ç¨‹ï¼ˆSDEï¼‰ã€å¸¸å¾®åˆ†æ–¹ç¨‹ï¼ˆODEï¼‰è¿™ä¸¤ä¸ªæ•°å­¦é¢†åŸŸçš„ç´§å¯†è”ç³»ï¼Œä»è€Œå…è®¸æˆ‘ä»¬å¯ä»¥åˆ©ç”¨SDEã€ODEå·²æœ‰çš„å„ç§æ•°å­¦å·¥å…·æ¥å¯¹åˆ†æã€æ±‚è§£å’Œæ‹“å±•æ‰©æ•£æ¨¡å‹ï¼Œæ¯”å¦‚åç»­å¤§é‡çš„åŠ é€Ÿé‡‡æ ·å·¥ä½œéƒ½ä»¥æ­¤ä¸ºåŸºç¡€ï¼Œå¯ä»¥è¯´è¿™æ‰“å¼€äº†ç”Ÿæˆæ‰©æ•£æ¨¡å‹çš„ä¸€ä¸ªå…¨æ–°è§†è§’ã€‚</p>
<p>æœ¬æ–‡æˆ‘ä»¬èšç„¦äºODEã€‚åœ¨æœ¬ç³»åˆ—çš„<a href="/archives/9228">ï¼ˆå…­ï¼‰</a>ã€<a href="/archives/9280">ï¼ˆåäºŒï¼‰</a>ã€<a href="/archives/9370">ï¼ˆåå››ï¼‰</a>ã€<a href="/archives/9379">ï¼ˆåäº”ï¼‰</a>ã€<a href="/archives/9497">ï¼ˆåä¸ƒï¼‰</a>ç­‰åšå®¢ä¸­ï¼Œæˆ‘ä»¬å·²ç»æ¨å¯¼è¿‡ODEä¸æ‰©æ•£æ¨¡å‹çš„è”ç³»ï¼Œæœ¬æ–‡åˆ™å¯¹æ‰©æ•£ODEçš„é‡‡æ ·åŠ é€Ÿåšç®€å•ä»‹ç»ï¼Œå¹¶é‡ç‚¹ä»‹ç»ä¸€ç§å·§å¦™åœ°åˆ©ç”¨â€œä¸­å€¼å®šç†â€æ€æƒ³çš„æ–°é¢–é‡‡æ ·åŠ é€Ÿæ–¹æ¡ˆâ€œAMEDâ€ã€‚</p>
<h2 id="_1">æ¬§æ‹‰æ–¹æ³•</h2>
<p>æ­£å¦‚å‰é¢æ‰€è¯´ï¼Œæˆ‘ä»¬å·²ç»æœ‰å¤šç¯‡æ–‡ç« æ¨å¯¼è¿‡æ‰©æ•£æ¨¡å‹ä¸ODEçš„è”ç³»ï¼Œæ‰€ä»¥è¿™é‡Œä¸é‡å¤ä»‹ç»ï¼Œè€Œæ˜¯ç›´æ¥å°†æ‰©æ•£ODEçš„é‡‡æ ·å®šä¹‰ä¸ºå¦‚ä¸‹ODEçš„æ±‚è§£ï¼š<br />
\begin{equation}\frac{d\boldsymbol{x}<em _boldsymbol_theta="\boldsymbol{\theta">t}{dt} = \boldsymbol{v}</em>}}(\boldsymbol{x}_t, t)\label{eq:dm-ode}\end{equation<br />
å…¶ä¸­$t\in[0,T]$ï¼Œåˆå€¼æ¡ä»¶æ˜¯$\boldsymbol{x}_T$ï¼Œè¦è¿”å›çš„ç»“æœæ˜¯$\boldsymbol{x}_0$ã€‚åŸåˆ™ä¸Šæˆ‘ä»¬å¹¶ä¸å…³å¿ƒ$t\in(0,1)$æ—¶çš„ä¸­é—´å€¼$\boldsymbol{x}_t$ï¼Œåªéœ€è¦æœ€ç»ˆçš„$\boldsymbol{x}_0$ã€‚ä¸ºäº†æ•°å€¼æ±‚è§£ï¼Œæˆ‘ä»¬è¿˜éœ€è¦é€‰å®šèŠ‚ç‚¹$0=t_0 &lt; t_1 &lt; t_2 &lt; \cdots &lt; t_N = T$ï¼Œå¸¸è§çš„é€‰æ‹©æ˜¯<br />
\begin{equation}t_n=\left(t_1^{1 / \rho}+\frac{n-1}{N-1}\left(t_N^{1 / \rho}-t_1^{1 / \rho}\right)\right)^\rho\end{equation}<br />
å…¶ä¸­$\rho &gt; 0$ã€‚è¯¥å½¢å¼æ¥è‡ª<a href="https://papers.cool/arxiv/2206.00364">ã€ŠElucidating the Design Space of Diffusion-Based Generative Modelsã€‹</a>ï¼ˆEDMï¼‰ï¼ŒAMEDä¹Ÿæ²¿ç”¨äº†è¯¥æ–¹æ¡ˆï¼Œä¸ªäººè®¤ä¸ºèŠ‚ç‚¹çš„é€‰æ‹©ä¸ç®—å…³é”®è¦ç´ ï¼Œå› æ­¤æœ¬æ–‡å¯¹æ­¤ä¸åšæ·±ç©¶ã€‚</p>
<p>æœ€ç®€å•çš„æ±‚è§£å™¨æ˜¯â€œæ¬§æ‹‰æ–¹æ³•â€ï¼šåˆ©ç”¨å·®åˆ†è¿‘ä¼¼<br />
\begin{equation}\left.\frac{d\boldsymbol{x}<em t="t_{n+1">t}{dt}\right|</em>}}\approx \frac{\boldsymbol{x<em n_1="n+1">{t</em>}} - \boldsymbol{x<em n_1="n+1">{t_n}}{t</em>} - t_n}\end{equation<br />
æˆ‘ä»¬å¯ä»¥å¾—åˆ°<br />
\begin{equation}\boldsymbol{x}<em t__n_1="t_{n+1">{t_n}\approx \boldsymbol{x}</em>}} - \boldsymbol{v<em t__n_1="t_{n+1">{\boldsymbol{\theta}}(\boldsymbol{x}</em>}}, t_{n+1})(t_{n+1} - t_n)\end{equation<br />
è¿™é€šå¸¸ä¹Ÿç›´æ¥ç§°ä¸ºDDIMæ–¹æ³•ï¼Œå› ä¸ºæ˜¯DDIMé¦–å…ˆæ³¨æ„åˆ°å®ƒçš„é‡‡æ ·è¿‡ç¨‹å¯¹åº”äºODEçš„æ¬§æ‹‰æ³•ï¼Œç»§è€Œåæ¨å‡ºå¯¹åº”çš„ODEã€‚</p>
<h2 id="_2">é«˜é˜¶æ–¹æ³•</h2>
<p>ä»æ•°å€¼æ±‚è§£çš„è§’åº¦æ¥çœ‹ï¼Œæ¬§æ‹‰æ–¹æ³•å±äºä¸€é˜¶è¿‘ä¼¼ï¼Œç‰¹ç‚¹æ˜¯ç®€å•å¿«æ·ï¼Œç¼ºç‚¹æ˜¯ç²¾åº¦å·®ï¼Œæ‰€ä»¥æ­¥é•¿ä¸èƒ½å¤ªå°ï¼Œè¿™æ„å‘³ç€å•çº¯åˆ©ç”¨æ¬§æ‹‰æ³•ä¸å¤§å¯èƒ½æ˜æ˜¾é™ä½é‡‡æ ·æ­¥æ•°å¹¶ä¸”ä¿è¯é‡‡æ ·è´¨é‡ã€‚å› æ­¤ï¼Œåç»­çš„é‡‡æ ·åŠ é€Ÿå·¥ä½œéƒ½åº”ç”¨äº†æ›´é«˜é˜¶çš„æ–¹æ³•ã€‚</p>
<p>æ¯”å¦‚ï¼Œç›´è§‰ä¸Šå·®åˆ†$\frac{\boldsymbol{x}<em n_1="n+1">{t</em>}} - \boldsymbol{x<em n_1="n+1">{t_n}}{t</em>$çš„å¹³å‡åº”è¯¥ä¼šæœ‰æ›´é«˜çš„ç²¾åº¦ï¼š} - t_n}$åº”è¯¥æ›´æ¥è¿‘ä¸­é—´ç‚¹çš„å¯¼æ•°è€Œä¸æ˜¯è¾¹ç•Œçš„å¯¼æ•°ï¼Œæ‰€ä»¥å³ç«¯ä¹Ÿæ¢æˆ$t_n$å’Œ$t_{n+1<br />
\begin{equation}\frac{\boldsymbol{x}<em n_1="n+1">{t</em>}} - \boldsymbol{x<em n_1="n+1">{t_n}}{t</em>} - t_n}\approx \frac{1}{2}\left[\boldsymbol{v<em t_n="t_n">{\boldsymbol{\theta}}(\boldsymbol{x}</em>}, t_n) + \boldsymbol{v<em t__n_1="t_{n+1">{\boldsymbol{\theta}}(\boldsymbol{x}</em>}}, t_{n+1})\right]\label{eq:heun-0}\end{equation<br />
ç”±æ­¤æˆ‘ä»¬å¯ä»¥å¾—åˆ°<br />
\begin{equation}\boldsymbol{x}<em t__n_1="t_{n+1">{t_n}\approx \boldsymbol{x}</em>\left}} - \frac{1}{2<a href="t_{n+1} - t_n">\boldsymbol{v}<em t_n="t_n">{\boldsymbol{\theta}}(\boldsymbol{x}</em>}, t_n) + \boldsymbol{v<em t__n_1="t_{n+1">{\boldsymbol{\theta}}(\boldsymbol{x}</em>)\right}}, t_{n+1</a> \end{equation}<br />
ç„¶è€Œï¼Œå³ç«¯å‡ºç°äº†$\boldsymbol{x}<em t_n="t_n">{t_n}$ï¼Œè€Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯è®¡ç®—$\boldsymbol{x}</em>}$ï¼Œæ‰€ä»¥è¿™æ ·çš„ç­‰å¼å¹¶ä¸èƒ½ç›´æ¥ç”¨æ¥è¿­ä»£ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬ç”¨æ¬§æ‹‰æ–¹æ³•â€œé¢„ä¼°â€ä¸€ä¸‹$\boldsymbol{x<em t_n="t_n">{t_n}$ï¼Œç„¶åæ›¿æ¢æ‰ä¸Šå¼ä¸­çš„$\boldsymbol{x}</em>$ï¼š<br />
\begin{equation}\begin{aligned}<br />
\tilde{\boldsymbol{x}}<em t__n_1="t_{n+1">{t_n}=&amp;\, \boldsymbol{x}</em>}} - \boldsymbol{v<em t__n_1="t_{n+1">{\boldsymbol{\theta}}(\boldsymbol{x}</em> - t_n) \\\}}, t_{n+1})(t_{n+1<br />
\boldsymbol{x}<em t__n_1="t_{n+1">{t_n}\approx&amp;\, \boldsymbol{x}</em>\left}} - \frac{1}{2<a href="t_{n+1} - t_n">\boldsymbol{v}<em t_n="t_n">{\boldsymbol{\theta}}(\tilde{\boldsymbol{x}}</em>}, t_n) + \boldsymbol{v<em t__n_1="t_{n+1">{\boldsymbol{\theta}}(\boldsymbol{x}</em>)\right}}, t_{n+1</a><br />
\end{aligned}\label{eq:heun}\end{equation}<br />
è¿™å°±æ˜¯EDMæ‰€ç”¨çš„â€œ<a href="https://en.wikipedia.org/wiki/Heun%27s_method">Heunæ–¹æ³•</a>â€ï¼Œæ˜¯ä¸€ç§äºŒé˜¶æ–¹æ³•ã€‚è¿™æ ·æ¯æ­¥è¿­ä»£éœ€è¦ç®—ä¸¤æ¬¡$\boldsymbol{v}_{\boldsymbol{\theta}}(\boldsymbol{x}_t, t)$ï¼Œä½†ç²¾åº¦æ˜æ˜¾æé«˜ï¼Œå› æ­¤å¯ä»¥æ˜æ˜¾å‡å°‘è¿­ä»£æ­¥æ•°ï¼Œæ€»çš„è®¡ç®—æˆæœ¬æ˜¯é™ä½çš„ã€‚</p>
<p>äºŒé˜¶æ–¹æ³•è¿˜æœ‰å¾ˆå¤šå˜ä½“ï¼Œæ¯”å¦‚å¼$\eqref{eq:heun-0}$çš„å³ç«¯æˆ‘ä»¬å¯ä»¥ç›´æ¥æ¢æˆä¸­é—´ç‚¹$t=(t_n+t_{n+1})/2$çš„å‡½æ•°å€¼ï¼Œè¿™å¾—åˆ°<br />
\begin{equation}\boldsymbol{x}<em t__n_1="t_{n+1">{t_n}\approx \boldsymbol{x}</em>}} - \boldsymbol{v<em _t_n_t__n_1="(t_n+t_{n+1">{\boldsymbol{\theta}}\left(\boldsymbol{x}</em>})/2}, \frac{t_n+t_{n+1}}{2}\right)(t_{n+1} - t_n) \end{equation<br />
ä¸­é—´ç‚¹ä¹Ÿæœ‰ä¸åŒçš„æ±‚æ³•ï¼Œé™¤äº†ä»£æ•°å¹³å‡$(t_n+t_{n+1})/2$å¤–ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘å‡ ä½•å¹³å‡<br />
\begin{equation}\boldsymbol{x}<em t__n_1="t_{n+1">{t_n}\approx \boldsymbol{x}</em>}} - \boldsymbol{v<em _sqrt_t_n="\sqrt{t_n" t__n_1="t_{n+1">{\boldsymbol{\theta}}\left(\boldsymbol{x}</em>}}}, \sqrt{t_n t_{n+1}}\right)(t_{n+1} - t_n) \label{eq:dpm-solver-2}\end{equation<br />
äº‹å®ä¸Šï¼Œå¼$\eqref{eq:dpm-solver-2}$å°±æ˜¯<a href="https://papers.cool/arxiv/2206.00927">DPM-Solver-2</a>çš„ä¸€ä¸ªç‰¹ä¾‹ã€‚</p>
<p>é™¤äº†äºŒé˜¶æ–¹æ³•å¤–ï¼ŒODEçš„æ±‚è§£è¿˜æœ‰ä¸å°‘æ›´é«˜é˜¶çš„æ–¹æ³•ï¼Œå¦‚"<a href="https://en.wikipedia.org/wiki/Runge%E2%80%93Kutta_methods">Runge-Kuttaæ–¹æ³•</a>â€ã€â€œ<a href="https://en.wikipedia.org/wiki/Linear_multistep_method">çº¿æ€§å¤šæ­¥æ³•</a>â€ç­‰ã€‚ç„¶è€Œï¼Œä¸ç®¡æ˜¯äºŒé˜¶æ–¹æ³•è¿˜æ˜¯é«˜é˜¶æ–¹æ³•ï¼Œè™½ç„¶éƒ½èƒ½ä¸€å®šç¨‹åº¦ä¸ŠåŠ é€Ÿæ‰©æ•£ODEçš„é‡‡æ ·ï¼Œä½†ç”±äºè¿™äº›éƒ½æ˜¯â€œé€šæ³•â€ï¼Œæ²¡æœ‰é’ˆå¯¹æ‰©æ•£æ¨¡å‹çš„èƒŒæ™¯å’Œå½¢å¼è¿›è¡Œå®šåˆ¶ï¼Œå› æ­¤å¾ˆéš¾å°†é‡‡æ ·è¿‡ç¨‹çš„è®¡ç®—æ­¥æ•°é™åˆ°æè‡´ï¼ˆä¸ªä½æ•°ï¼‰ã€‚</p>
<h2 id="_3">ä¸­å€¼å®šç†</h2>
<p>è‡³æ­¤ï¼Œæœ¬æ–‡çš„ä¸»è§’AMEDç™»åœºäº†ï¼Œå…¶è®ºæ–‡<a href="https://papers.cool/arxiv/2312.00094">ã€ŠFast ODE-based Sampling for Diffusion Models in Around 5 Stepsã€‹</a>å‰ä¸¤å¤©æ‰æ”¾åˆ°Arxivï¼Œå¯è°“â€œæ–°é²œæ»šçƒ­è¾£â€ã€‚AMEDå¹¶éåƒä¼ ç»Ÿçš„ODEæ±‚è§£å™¨é‚£æ ·ä¸€å‘³æé«˜ç†è®ºç²¾åº¦ï¼Œè€Œæ˜¯å·§å¦™åœ°ç±»æ¯”äº†â€œä¸­å€¼å®šç†â€ï¼Œå¹¶åŠ ä¸Šéå¸¸å°çš„è’¸é¦æˆæœ¬ï¼Œä¸ºæ‰©æ•£ODE<strong> <em>å®šåˆ¶</em></strong> äº†é«˜é€Ÿçš„æ±‚è§£å™¨ã€‚</p>
<p><a href="/usr/uploads/2023/12/1641140949.png" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="å‡ ç§æ‰©æ•£ODE-Solverç¤ºæ„å›¾" src="/usr/uploads/2023/12/1641140949.png" /></a></p>
<p>å‡ ç§æ‰©æ•£ODE-Solverç¤ºæ„å›¾</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯¹æ–¹ç¨‹$\eqref{eq:dm-ode}$ä¸¤ç«¯ç§¯åˆ†ï¼Œé‚£ä¹ˆå¯ä»¥å†™å‡ºç²¾ç¡®çš„ç­‰å¼ï¼š<br />
\begin{equation} \boldsymbol{x}<em n_1="n+1">{t</em>}} - \boldsymbol{x<em t_n="t_n">{t_n} = \int</em>}^{t_{n+1}}\boldsymbol{v<em n_1="n+1">{\boldsymbol{\theta}}(\boldsymbol{x}_t, t)dt\end{equation}<br />
å¦‚æœ$\boldsymbol{v}$åªæ˜¯ä¸€ç»´çš„æ ‡é‡å‡½æ•°ï¼Œé‚£ä¹ˆç”±â€œ<a href="https://en.wikipedia.org/wiki/Mean_value_theorem#Mean_value_theorems_for_definite_integrals">ç§¯åˆ†ä¸­å€¼å®šç†</a>â€æˆ‘ä»¬å¯ä»¥çŸ¥é“å­˜åœ¨ç‚¹$s_n\in(t_n, t</em>)$ï¼Œä½¿å¾—<br />
\begin{equation}\frac{1}{t_{n+1} - t_n}\int_{t_n}^{t_{n+1}}\boldsymbol{v}<em _boldsymbol_theta="\boldsymbol{\theta">{\boldsymbol{\theta}}(\boldsymbol{x}_t, t)dt = \boldsymbol{v}</em>}}(\boldsymbol{x<em n_1="n+1">{s_n}, s_n) \end{equation}<br />
å¾ˆé—æ†¾ï¼Œä¸­å€¼å®šç†å¯¹ä¸€èˆ¬çš„å‘é‡å‡½æ•°å¹¶ä¸æˆç«‹ã€‚ä¸è¿‡ï¼Œåœ¨$t</em>-t_n$ä¸å¤ªå¤§ä»¥åŠä¸€å®šçš„å‡è®¾ä¹‹ä¸‹ï¼Œæˆ‘ä»¬ä¾ç„¶å¯ä»¥ç±»æ¯”åœ°å†™å‡ºè¿‘ä¼¼<br />
\begin{equation}\frac{1}{t_{n+1} - t_n}\int_{t_n}^{t_{n+1}}\boldsymbol{v}<em _boldsymbol_theta="\boldsymbol{\theta">{\boldsymbol{\theta}}(\boldsymbol{x}_t, t)dt \approx \boldsymbol{v}</em>}}(\boldsymbol{x<em t_n="t_n">{s_n}, s_n) \end{equation}<br />
äºæ˜¯æˆ‘ä»¬å¾—åˆ°<br />
\begin{equation} \boldsymbol{x}</em>}\approx \boldsymbol{x<em n_1="n+1">{t</em>}} - \boldsymbol{v<em s_n="s_n">{\boldsymbol{\theta}}(\boldsymbol{x}</em>}, s_n)(t_{n+1}-t_n)\end{equation<br />
å½“ç„¶ï¼Œç›®å‰è¿˜åªæ˜¯ä¸€ä¸ªå½¢å¼è§£ï¼Œ$s_n$å’Œ$\boldsymbol{x}<em s_n="s_n">{s_n}$æ€ä¹ˆæ¥è¿˜æœªè§£å†³ã€‚å¯¹äº$\boldsymbol{x}</em>}$ï¼Œæˆ‘ä»¬ä¾ç„¶ç”¨æ¬§æ‹‰æ–¹æ³•è¿›è¡Œé¢„ä¼°ï¼Œå³$\tilde{\boldsymbol{x}<em t__n_1="t_{n+1">{s_n}= \boldsymbol{x}</em>}} - \boldsymbol{v<em t__n_1="t_{n+1">{\boldsymbol{\theta}}(\boldsymbol{x}</em> - s_n)$ï¼›å¯¹äº$s_n$ï¼Œæˆ‘ä»¬åˆ™ç”¨ä¸€ä¸ªå°å‹çš„ç¥ç»ç½‘ç»œå»ä¼°è®¡å®ƒï¼š}}, t_{n+1})(t_{n+1<br />
\begin{equation}s_n = g_{\boldsymbol{\phi}}(\boldsymbol{h}<em n_1="n+1">{t</em>}}, t_{n+1})\end{equation<br />
å…¶ä¸­$\boldsymbol{\phi}$æ˜¯è®­ç»ƒå‚æ•°ï¼Œ$\boldsymbol{h}<em n_1="n+1">{t</em>}}$æ˜¯U-Netæ¨¡å‹$\boldsymbol{v<em t__n_1="t_{n+1">{\boldsymbol{\theta}}(\boldsymbol{x}</em>}}, t_{n+1})$çš„ä¸­é—´ç‰¹å¾ã€‚æœ€åï¼Œä¸ºäº†æ±‚è§£å‚æ•°$\boldsymbol{\phi}$ï¼Œæˆ‘ä»¬é‡‡ç”¨è’¸é¦çš„æ€æƒ³ï¼Œé¢„å…ˆç”¨æ­¥æ•°æ›´å¤šçš„æ±‚è§£å™¨æ±‚å‡ºç²¾åº¦æ›´é«˜çš„è½¨è¿¹ç‚¹å¯¹$(\boldsymbol{x<em t__n_1="t_{n+1">{t_n},\boldsymbol{x}</em>)$ï¼Œç„¶åæœ€å°åŒ–ä¼°è®¡è¯¯å·®ã€‚è¿™å°±æ˜¯è®ºæ–‡ä¸­çš„AMED-Solverï¼ˆ}<strong>A</strong> pproximate <strong>ME</strong> an-<strong>D</strong> irection Solverï¼‰ï¼Œå®ƒå…·å¤‡å¸¸è§„ODE-Solverçš„å½¢å¼ï¼Œä½†åˆéœ€è¦é¢å¤–çš„è’¸é¦æˆæœ¬ï¼Œç„¶è€Œè¿™ç‚¹è’¸é¦æˆæœ¬ç›¸æ¯”å…¶ä»–è’¸é¦åŠ é€Ÿæ–¹æ³•åˆå‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œæ‰€ä»¥ç¬”è€…å°†å®ƒç†è§£ä¸ºâ€œå®šåˆ¶â€æ±‚è§£å™¨ã€‚</p>
<p>å®šåˆ¶ä¸€è¯éå¸¸å…³é”®ï¼Œæ‰©æ•£ODEçš„é‡‡æ ·åŠ é€Ÿç ”ç©¶ç”±æ¥å·²ä¹…ï¼Œåœ¨ä¼—å¤šç ”ç©¶äººå‘˜çš„è´¡çŒ®åŠ æˆä¸‹ï¼Œéè®­ç»ƒçš„æ±‚è§£å™¨å¤§æ¦‚å·²ç»èµ°äº†éå¸¸è¿œï¼Œä½†ä¾ç„¶æœªèƒ½å°†é‡‡æ ·æ­¥æ•°é™åˆ°æè‡´ï¼Œé™¤éæœªæ¥æˆ‘ä»¬å¯¹æ‰©æ•£æ¨¡å‹çš„ç†è®ºç†è§£æœ‰è¿›ä¸€æ­¥çš„çªç ´ï¼Œå¦åˆ™ç¬”è€…ä¸è®¤ä¸ºéè®­ç»ƒçš„æ±‚è§£å™¨è¿˜æœ‰æ˜¾è‘—çš„æå‡ç©ºé—´ã€‚å› æ­¤ï¼ŒAMEDè¿™ç§å¸¦æœ‰å°‘é‡è®­ç»ƒæˆæœ¬çš„åŠ é€Ÿåº¦ï¼Œæ—¢æ˜¯â€œå‰‘èµ°åé”‹â€ã€â€œå¦è¾Ÿè¹Šå¾„â€ï¼Œä¹Ÿæ˜¯â€œåº”è¿è€Œç”Ÿâ€ã€â€œé¡ºç†æˆç« â€ã€‚</p>
<h2 id="_4">å®éªŒç»“æœ</h2>
<p>åœ¨çœ‹å®éªŒç»“æœä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆäº†è§£ä¸€ä¸ªåä¸ºâ€œNFEâ€çš„æ¦‚å¿µï¼Œå…¨ç§°æ˜¯â€œNumber of Function Evaluationsâ€ï¼Œè¯´ç™½äº†å°±æ˜¯æ¨¡å‹$\boldsymbol{v}<em _boldsymbol_theta="\boldsymbol{\theta">{\boldsymbol{\theta}}(\boldsymbol{x}_t, t)$çš„æ‰§è¡Œæ¬¡æ•°ï¼Œå®ƒè·Ÿè®¡ç®—é‡ç›´æ¥æŒ‚é’©ã€‚æ¯”å¦‚ï¼Œä¸€é˜¶æ–¹æ³•æ¯æ­¥è¿­ä»£çš„NFEæ˜¯1ï¼Œå› ä¸ºåªéœ€è¦æ‰§è¡Œä¸€æ¬¡$\boldsymbol{v}</em>}}(\boldsymbol{x<em _boldsymbol_phi="\boldsymbol{\phi">t, t)$ï¼Œè€ŒäºŒé˜¶æ–¹æ³•æ¯ä¸€æ­¥è¿­ä»£çš„NFEæ˜¯2ï¼ŒAMED-Solverçš„$g</em>$è®¡ç®—é‡å¾ˆå°ï¼Œå¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œæ‰€ä»¥AMED-Solveræ¯ä¸€æ­¥çš„NFEä¹Ÿç®—æ˜¯2ã€‚ä¸ºäº†å®ç°å…¬å¹³çš„æ¯”è¾ƒï¼Œéœ€è¦ä¿æŒæ•´ä¸ªé‡‡æ ·è¿‡ç¨‹ä¸­æ€»çš„NFEä¸å˜ï¼Œæ¥å¯¹æ¯”ä¸åŒSolverçš„æ•ˆæœã€‚}</p>
<p>åŸºæœ¬çš„å®éªŒç»“æœæ˜¯åŸè®ºæ–‡çš„Table 2ï¼š  </p>
<p><a href="/usr/uploads/2023/12/3251445298.png" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="AMEDçš„å®éªŒç»“æœï¼ˆTable 2ï¼‰" src="/usr/uploads/2023/12/3251445298.png" /></a></p>
<p>AMEDçš„å®éªŒç»“æœï¼ˆTable 2ï¼‰</p>
<p>è¿™ä¸ªè¡¨æ ¼æœ‰å‡ ä¸ªå€¼å¾—ç‰¹åˆ«ç•™æ„çš„åœ°æ–¹ã€‚ç¬¬ä¸€ï¼Œåœ¨NFEä¸è¶…è¿‡5æ—¶ï¼ŒäºŒé˜¶çš„DPM-Solverã€EDMæ•ˆæœè¿˜ä¸å¦‚ä¸€é˜¶çš„DDIMï¼Œè¿™æ˜¯å› ä¸ºSolverçš„è¯¯å·®ä¸ä»…è·Ÿé˜¶æ¬¡æœ‰å…³ï¼Œè¿˜è·Ÿæ­¥é•¿$t_{n+1}-t_n$æœ‰å…³ï¼Œå¤§è‡´ä¸Šçš„å…³ç³»å°±æ˜¯$\mathcal{O}((t_{n+1}-t_n)^m)$ï¼Œå…¶ä¸­$m$å°±æ˜¯â€œé˜¶â€ï¼Œåœ¨æ€»NFEè¾ƒå°æ—¶ï¼Œé«˜é˜¶æ–¹æ³•åªèƒ½å–è¾ƒå¤§çš„æ­¥é•¿ï¼Œæ‰€ä»¥å®é™…ç²¾åº¦åè€Œæ›´å·®ï¼Œä»è€Œæ•ˆæœä¸ä½³ï¼›ç¬¬äºŒï¼ŒåŒæ ·æ˜¯äºŒé˜¶æ–¹æ³•çš„SMED-Solverï¼Œåœ¨å°NFEæ—¶æ•ˆæœå–å¾—äº†å…¨é¢SOTAï¼Œè¿™å……åˆ†ä½“ç°äº†â€œå®šåˆ¶â€çš„é‡è¦æ€§ï¼›ç¬¬ä¸‰ï¼Œè¿™é‡Œçš„â€œAMED-Pluginâ€æ˜¯åŸè®ºæ–‡æå‡ºçš„å°†AMEDçš„æ€æƒ³ä½œä¸ºå…¶ä»–ODESolverçš„â€œæ’ä»¶â€çš„ç”¨æ³•ï¼Œç»†èŠ‚æ›´åŠ å¤æ‚ä¸€äº›ï¼Œä½†å–å¾—äº†æ›´å¥½çš„æ•ˆæœã€‚</p>
<p>å¯èƒ½æœ‰è¯»è€…ä¼šç–‘é—®ï¼šæ—¢ç„¶äºŒé˜¶æ–¹æ³•æ¯ä¸€æ­¥è¿­ä»£éƒ½éœ€è¦2ä¸ªNFEï¼Œé‚£ä¹ˆè¡¨æ ¼ä¸­æ€ä¹ˆä¼šå‡ºç°å¥‡æ•°çš„NFEï¼Ÿå…¶å®ï¼Œè¿™æ˜¯å› ä¸ºä½œè€…ç”¨åˆ°äº†ä¸€ä¸ªåä¸ºâ€œAFSï¼ˆAnalytical First Stepï¼‰â€çš„æŠ€å·§æ¥å‡å°‘äº†1ä¸ªNFEã€‚è¯¥æŠ€å·§å‡ºè‡ª<a href="https://papers.cool/arxiv/2210.05475">ã€ŠGenie: Higher-order denoising diffusion solversã€‹</a>ï¼Œå…·ä½“æ˜¯æŒ‡åœ¨æ‰©æ•£æ¨¡å‹èƒŒæ™¯ä¸‹æˆ‘ä»¬å‘ç°$\boldsymbol{v}<em t_N="t_N">{\boldsymbol{\theta}}(\boldsymbol{x}</em>}, t_N)$ä¸$\boldsymbol{x<em t_N="t_N">{t_N}$éå¸¸æ¥è¿‘ï¼ˆä¸åŒçš„æ‰©æ•£æ¨¡å‹è¡¨ç°å¯èƒ½ä¸å¤§ä¸€æ ·ï¼Œä½†æ ¸å¿ƒæ€æƒ³éƒ½æ˜¯ç¬¬ä¸€æ­¥å¯ä»¥ç›´æ¥è§£ææ±‚è§£ï¼‰ï¼Œäºæ˜¯åœ¨é‡‡æ ·çš„ç¬¬ä¸€æ­¥ç›´æ¥ç”¨$\boldsymbol{x}</em>}$æ›¿ä»£$\boldsymbol{v<em t_N="t_N">{\boldsymbol{\theta}}(\boldsymbol{x}</em>, t_N)$ï¼Œè¿™å°±çœäº†ä¸€ä¸ªNFEã€‚è®ºæ–‡é™„å½•çš„Table 8ã€Table 9ã€Table 10ä¹Ÿæ›´è¯¦å°½åœ°è¯„ä¼°äº†AFSå¯¹æ•ˆæœçš„å½±å“ï¼Œæœ‰å…´è¶£çš„è¯»è€…å¯ä»¥è‡ªè¡Œåˆ†æã€‚</p>
<p>æœ€åï¼Œç”±äºAMEDä½¿ç”¨äº†è’¸é¦çš„æ–¹æ³•æ¥è®­ç»ƒ$g_{\boldsymbol{\phi}}$ï¼Œé‚£ä¹ˆä¹Ÿè®¸ä¼šæœ‰è¯»è€…æƒ³çŸ¥é“å®ƒè·Ÿå…¶ä»–è’¸é¦åŠ é€Ÿçš„æ–¹æ¡ˆçš„æ•ˆæœå·®å¼‚ï¼Œä¸è¿‡å¾ˆé—æ†¾ï¼Œè®ºæ–‡æ²¡æœ‰æä¾›ç›¸å…³å¯¹æ¯”ã€‚ä¸ºæ­¤æˆ‘ä¹Ÿé‚®ä»¶å’¨è¯¢è¿‡ä½œè€…ï¼Œä½œè€…è¡¨ç¤ºAMEDçš„è’¸é¦æˆæœ¬æ˜¯æä½çš„ï¼ŒCIFAR10åªéœ€è¦åœ¨å•å¼ A100ä¸Šè®­ç»ƒä¸åˆ°20åˆ†é’Ÿï¼Œ256å¤§å°çš„å›¾ç‰‡ä¹Ÿåªéœ€è¦åœ¨4å¼ A100ä¸Šè®­ç»ƒå‡ ä¸ªå°æ—¶ï¼Œè€Œç›¸æ¯”ä¹‹ä¸‹å…¶ä»–è’¸é¦åŠ é€Ÿçš„æ€è·¯éœ€è¦çš„æ—¶é—´æ˜¯æ•°å¤©ç”šè‡³æ•°åå¤©ï¼Œå› æ­¤ä½œè€…å°†AMEDè§†ä¸ºSolverçš„å·¥ä½œè€Œä¸æ˜¯è’¸é¦çš„å·¥ä½œã€‚ä¸è¿‡ä½œè€…ä¹Ÿè¡¨ç¤ºï¼Œåé¢æœ‰æœºä¼šä¹Ÿå°½å¯èƒ½è¡¥ä¸Šè·Ÿè’¸é¦å·¥ä½œçš„å¯¹æ¯”ã€‚</p>
<h2 id="_5">å‡è®¾åˆ†æ</h2>
<p>å‰é¢åœ¨è®¨è®ºä¸­å€¼å®šç†åˆ°å‘é‡å‡½æ•°çš„æ¨å¹¿æ—¶ï¼Œæˆ‘ä»¬æåˆ°â€œä¸€å®šçš„å‡è®¾ä¹‹ä¸‹â€ï¼Œé‚£ä¹ˆè¿™é‡Œçš„å‡è®¾æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ˜¯å¦çœŸçš„æˆç«‹å‘¢ï¼Ÿ</p>
<p>ä¸éš¾ä¸¾å‡ºåä¾‹è¯æ˜ï¼Œå³ä¾¿æ˜¯äºŒç»´å‡½æ•°ç§¯åˆ†ä¸­å€¼å®šç†éƒ½ä¸æ’æˆç«‹ï¼Œæ¢è¨€ä¹‹ç§¯åˆ†ä¸­å€¼å®šç†åªåœ¨ä¸€ç»´å‡½æ•°ä¸Šæˆç«‹ï¼Œè¿™æ„å‘³ç€å¦‚æœé«˜ç»´å‡½æ•°æˆç«‹ç§¯åˆ†ä¸­å€¼å®šç†ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°æ‰€æè¿°çš„ç©ºé—´è½¨è¿¹åªèƒ½æ˜¯ä¸€æ¡ç›´çº¿ï¼Œä¹Ÿå°±æ˜¯è¯´é‡‡æ ·è¿‡ç¨‹ä¸­æ‰€æœ‰çš„$\boldsymbol{x}<em t_1="t_1">{t_0},\boldsymbol{x}</em>$æ„æˆä¸€æ¡ç›´çº¿ã€‚è¿™ä¸ªå‡è®¾è‡ªç„¶éå¸¸å¼ºï¼Œå®é™…ä¸Šå‡ ä¹ä¸å¯èƒ½æˆç«‹ï¼Œä½†ä¹Ÿä¾§é¢å‘Šè¯‰æˆ‘ä»¬ï¼Œè¦æƒ³ç§¯åˆ†ä¸­å€¼å®šç†åœ¨é«˜ç»´ç©ºé—´å°½å¯èƒ½æˆç«‹ï¼Œé‚£ä¹ˆé‡‡æ ·è½¨è¿¹è¦ä¿æŒåœ¨ä¸€ä¸ªå°½å¯èƒ½ä½ç»´çš„å­ç©ºé—´ä¸­ã€‚},\cdots,\boldsymbol{x}_{t_N</p>
<p>ä¸ºäº†éªŒè¯è¿™ä¸€ç‚¹ï¼Œè®ºæ–‡ä½œè€…åŠ å¤§äº†é‡‡æ ·æ­¥æ•°å¾—åˆ°äº†è¾ƒä¸ºç²¾ç¡®çš„é‡‡æ ·è½¨è¿¹ï¼Œç„¶åå¯¹è½¨è¿¹åšä¸»æˆåˆ†åˆ†æï¼Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š  </p>
<p><a href="/usr/uploads/2023/12/3425568740.png" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="æ‰©æ•£ODEé‡‡æ ·è½¨è¿¹çš„ä¸»æˆåˆ†åˆ†æ" src="/usr/uploads/2023/12/3425568740.png" /></a></p>
<p>æ‰©æ•£ODEé‡‡æ ·è½¨è¿¹çš„ä¸»æˆåˆ†åˆ†æ</p>
<p>ä¸»æˆåˆ†åˆ†æçš„ç»“æœæ˜¾ç¤ºï¼Œåªä¿ç•™top1çš„ä¸»æˆåˆ†ï¼Œå°±å¯ä»¥ä¿ç•™è½¨è¿¹çš„å¤§éƒ¨åˆ†ç²¾åº¦ï¼Œè€ŒåŒæ—¶ä¿ç•™å‰ä¸¤ä¸ªä¸»æˆæœ¬ï¼Œé‚£ä¹ˆåé¢çš„è¯¯å·®å‡ ä¹å¯ä»¥å¿½ç•¥äº†ï¼Œè¿™å‘Šè¯‰æˆ‘ä»¬é‡‡æ ·è½¨è¿¹å‡ ä¹éƒ½é›†ä¸­åœ¨ä¸€ä¸ªäºŒç»´å­å¹³é¢ä¸Šï¼Œç”šè‡³éå¸¸æ¥è¿‘è¿™ä¸ªå­å¹³é¢ä¸Šçš„çš„ä¸€ä¸ªç›´çº¿ï¼Œäºæ˜¯åœ¨$t_{n+1}-t_n$å¹¶ä¸æ˜¯ç‰¹åˆ«å¤§çš„æ—¶å€™ï¼Œæ‰©æ•£æ¨¡å‹çš„é«˜ç»´ç©ºé—´çš„ç§¯åˆ†ä¸­å€¼å®šç†ä¹Ÿè¿‘ä¼¼æˆç«‹ã€‚</p>
<p>è¿™ä¸ªç»“æœå¯èƒ½ä¼šè®©äººæ¯”è¾ƒæ„å¤–ï¼Œä½†äº‹åæ¥çœ‹å…¶å®ä¹Ÿèƒ½è§£é‡Šï¼šåœ¨<a href="/archives/9379">ã€Šç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆåäº”ï¼‰ï¼šæ„å»ºODEçš„ä¸€èˆ¬æ­¥éª¤ï¼ˆä¸­ï¼‰ã€‹</a>ã€<a href="/archives/9497">ã€Šç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆåä¸ƒï¼‰ï¼šæ„å»ºODEçš„ä¸€èˆ¬æ­¥éª¤ï¼ˆä¸‹ï¼‰ã€‹</a>æˆ‘ä»¬ä»‹ç»äº†å…ˆæŒ‡å®š$\boldsymbol{x}_T$åˆ°$\boldsymbol{x}_0$çš„â€œä¼ªè½¨è¿¹â€ï¼Œç„¶åå†æ„å»ºå¯¹åº”çš„æ‰©æ•£ODEçš„ä¸€èˆ¬æ­¥éª¤ï¼Œè€Œå®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬æ‰€æ„å»ºçš„â€œä¼ªè½¨è¿¹â€éƒ½æ˜¯$\boldsymbol{x}_T$ä¸$\boldsymbol{x}_0$çš„çº¿æ€§æ’å€¼ï¼ˆå…³äº$t$å¯èƒ½æ˜¯éçº¿æ€§çš„ï¼Œå…³äº$\boldsymbol{x}_T$å’Œ$\boldsymbol{x}_0$åˆ™æ˜¯çº¿æ€§çš„ï¼‰ï¼Œäºæ˜¯æ„å»ºçš„â€œä¼ªè½¨è¿¹â€éƒ½æ˜¯ç›´çº¿ï¼Œè¿™ä¼šè¿›ä¸€æ­¥é¼“åŠ±çœŸå®çš„æ‰©æ•£è½¨è¿¹æ˜¯ä¸€æ¡ç›´çº¿ï¼Œè¿™å°±è§£é‡Šäº†ä¸»æˆåˆ†åˆ†æçš„ç»“æœã€‚</p>
<h2 id="_6">æ–‡ç« å°ç»“</h2>
<p>æœ¬æ–‡ç®€å•å›é¡¾äº†æ‰©æ•£ODEçš„é‡‡æ ·åŠ é€Ÿæ–¹æ³•ï¼Œå¹¶é‡ç‚¹ä»‹ç»äº†å‰ä¸¤å¤©åˆšå‘å¸ƒçš„ä¸€ä¸ªåä¸ºâ€œAMEDâ€çš„æ–°é¢–åŠ é€Ÿé‡‡æ ·æ–¹æ¡ˆï¼Œè¯¥Solverç±»æ¯”äº†ç§¯åˆ†ä¸­å€¼å®šç†æ¥æ„å»ºè¿­ä»£æ ¼å¼ï¼Œä»¥æä½çš„è’¸é¦æˆæœ¬æé«˜äº†Solveråœ¨ä½NFEæ—¶çš„è¡¨ç°ã€‚</p>
<p><em><strong>è½¬è½½åˆ°è¯·åŒ…æ‹¬æœ¬æ–‡åœ°å€ï¼š</strong><a href="https://spaces.ac.cn/archives/9881">https://spaces.ac.cn/archives/9881</a></em></p>
<p><em><strong>æ›´è¯¦ç»†çš„è½¬è½½äº‹å®œè¯·å‚è€ƒï¼š</strong></em><a href="https://spaces.ac.cn/archives/6508#%E6%96%87%E7%AB%A0%E5%A6%82%E4%BD%95%E8%BD%AC%E8%BD%BD/%E5%BC%95%E7%94%A8" title="ã€Šç§‘å­¦ç©ºé—´FAQã€‹">ã€Šç§‘å­¦ç©ºé—´FAQã€‹</a></p>
<p><strong>å¦‚æœæ‚¨è¿˜æœ‰ä»€ä¹ˆç–‘æƒ‘æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹è¯„è®ºåŒºç»§ç»­è®¨è®ºã€‚</strong></p>
<p><strong>å¦‚æœæ‚¨è§‰å¾—æœ¬æ–‡è¿˜ä¸é”™ï¼Œæ¬¢è¿åˆ†äº«/æ‰“èµæœ¬æ–‡ã€‚æ‰“èµå¹¶éè¦ä»ä¸­è·å¾—æ”¶ç›Šï¼Œè€Œæ˜¯å¸Œæœ›çŸ¥é“ç§‘å­¦ç©ºé—´è·å¾—äº†å¤šå°‘è¯»è€…çš„çœŸå¿ƒå…³æ³¨ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æ— è§†å®ƒï¼Œä¹Ÿä¸ä¼šå½±å“ä½ çš„é˜…è¯»ã€‚å†æ¬¡è¡¨ç¤ºæ¬¢è¿å’Œæ„Ÿè°¢ï¼</strong></p>
<p>æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/wx.png" /></p>
<p>å¾®ä¿¡æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/zfb.png" /></p>
<p>æ”¯ä»˜å®æ‰“èµ</p>
<p>å› ä¸ºç½‘ç«™åå°å¯¹æ‰“èµå¹¶æ— è®°å½•ï¼Œå› æ­¤æ¬¢è¿åœ¨æ‰“èµæ—¶å€™å¤‡æ³¨ç•™è¨€ã€‚ä½ è¿˜å¯ä»¥<a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=tN7d1drY3drrx8H0xcWa19vZ"><strong>ç‚¹å‡»è¿™é‡Œ</strong></a>æˆ–åœ¨ä¸‹æ–¹è¯„è®ºåŒºç•™è¨€æ¥å‘ŠçŸ¥ä½ çš„å»ºè®®æˆ–éœ€æ±‚ã€‚</p>
<p><strong>å¦‚æœæ‚¨éœ€è¦å¼•ç”¨æœ¬æ–‡ï¼Œè¯·å‚è€ƒï¼š</strong></p>
<p>è‹å‰‘æ—. (Dec. 07, 2023). ã€Šç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäºŒåä¸€ï¼‰ï¼šä¸­å€¼å®šç†åŠ é€ŸODEé‡‡æ · ã€‹[Blog post]. Retrieved from <a href="https://spaces.ac.cn/archives/9881">https://spaces.ac.cn/archives/9881</a></p>
<p>@online{kexuefm-9881,<br />
title={ç”Ÿæˆæ‰©æ•£æ¨¡å‹æ¼«è°ˆï¼ˆäºŒåä¸€ï¼‰ï¼šä¸­å€¼å®šç†åŠ é€ŸODEé‡‡æ ·},<br />
author={è‹å‰‘æ—},<br />
year={2023},<br />
month={Dec},<br />
url={\url{https://spaces.ac.cn/archives/9881}},<br />
} </p>
<hr />
<h2 id="_7">æ¨å¯¼</h2>
<p>æœ¬èŠ‚æä¾›å…³äºä¸­å€¼å®šç†åŠ é€ŸODEé‡‡æ ·çš„è¯¦ç»†æ•°å­¦æ¨å¯¼ï¼Œä»å¾®ç§¯åˆ†åŸºç¡€åˆ°æ‰©æ•£æ¨¡å‹çš„å…·ä½“åº”ç”¨ï¼Œå…¨æ–¹ä½è§£æå„ç§æ•°å€¼æ–¹æ³•çš„åŸç†ã€è¯¯å·®åˆ†æåŠå…¶åœ¨ç”Ÿæˆæ¨¡å‹ä¸­çš„å®è·µã€‚</p>
<h3 id="1">1. å¾®ç§¯åˆ†ä¸­å€¼å®šç†å›é¡¾</h3>
<h4 id="11">1.1 ç§¯åˆ†ä¸­å€¼å®šç†</h4>
<p><strong>å®šç†ï¼ˆç§¯åˆ†ç¬¬ä¸€ä¸­å€¼å®šç†ï¼‰</strong>ï¼šè®¾å‡½æ•°$f(x)$åœ¨é—­åŒºé—´$[a,b]$ä¸Šè¿ç»­ï¼Œåˆ™è‡³å°‘å­˜åœ¨ä¸€ç‚¹$\xi\in[a,b]$ï¼Œä½¿å¾—
$$\int_a^b f(x)dx = f(\xi)(b-a)$$</p>
<p><strong>è¯æ˜</strong>ï¼šç”±è¿ç»­å‡½æ•°çš„æ€§è´¨ï¼Œ$f(x)$åœ¨$[a,b]$ä¸Šå¿…æœ‰æœ€å¤§å€¼$M$å’Œæœ€å°å€¼$m$ã€‚å› æ­¤å¯¹ä»»æ„$x\in[a,b]$ï¼Œæœ‰
$$m \leq f(x) \leq M$$</p>
<p>å¯¹ä¸Šå¼åœ¨$[a,b]$ä¸Šç§¯åˆ†ï¼Œå¾—
$$m(b-a) \leq \int_a^b f(x)dx \leq M(b-a)$$</p>
<p>å³
$$m \leq \frac{1}{b-a}\int_a^b f(x)dx \leq M$$</p>
<p>è®°$\mu = \frac{1}{b-a}\int_a^b f(x)dx$ï¼Œåˆ™$m\leq \mu \leq M$ã€‚ç”±è¿ç»­å‡½æ•°çš„ä»‹å€¼å®šç†ï¼Œå­˜åœ¨$\xi\in[a,b]$ä½¿å¾—$f(\xi)=\mu$ï¼Œå³
$$f(\xi) = \frac{1}{b-a}\int_a^b f(x)dx$$</p>
<p>æ•´ç†å³å¾—åŸå¼ã€‚$\square$</p>
<p><strong>æ¨å¹¿ï¼ˆç§¯åˆ†ç¬¬äºŒä¸­å€¼å®šç†ï¼‰</strong>ï¼šè‹¥$f(x)$åœ¨$[a,b]$ä¸Šè¿ç»­ï¼Œ$g(x)$åœ¨$[a,b]$ä¸Šå¯ç§¯ä¸”ä¸å˜å·ï¼Œåˆ™å­˜åœ¨$\xi\in[a,b]$ä½¿å¾—
$$\int_a^b f(x)g(x)dx = f(\xi)\int_a^b g(x)dx$$</p>
<p>è¿™ä¸ªå®šç†å¯ä»¥ç†è§£ä¸ºå¸¦æƒé‡çš„ä¸­å€¼å®šç†ã€‚ç‰¹åˆ«åœ°ï¼Œå½“$g(x)\equiv 1$æ—¶ï¼Œå³å›åˆ°ç¬¬ä¸€ä¸­å€¼å®šç†ã€‚</p>
<h4 id="12">1.2 å¾®åˆ†ä¸­å€¼å®šç†</h4>
<p><strong>å®šç†ï¼ˆLagrangeä¸­å€¼å®šç†ï¼‰</strong>ï¼šè‹¥å‡½æ•°$f(x)$åœ¨$[a,b]$ä¸Šè¿ç»­ï¼Œåœ¨$(a,b)$å†…å¯å¯¼ï¼Œåˆ™å­˜åœ¨$\xi\in(a,b)$ä½¿å¾—
$$f(b) - f(a) = f'(\xi)(b-a)$$</p>
<p>è¿™ä¸ªå®šç†å‘Šè¯‰æˆ‘ä»¬ï¼Œå‡½æ•°åœ¨ä¸¤ç‚¹é—´çš„å¹³å‡å˜åŒ–ç‡ç­‰äºæŸä¸ªä¸­é—´ç‚¹çš„ç¬æ—¶å˜åŒ–ç‡ã€‚</p>
<p><strong>ä¸ç§¯åˆ†ä¸­å€¼å®šç†çš„è”ç³»</strong>ï¼šç”±å¾®ç§¯åˆ†åŸºæœ¬å®šç†ï¼Œ
$$f(b) - f(a) = \int_a^b f'(x)dx$$</p>
<p>ç»“åˆç§¯åˆ†ä¸­å€¼å®šç†ï¼Œå­˜åœ¨$\xi\in[a,b]$ä½¿å¾—
$$\int_a^b f'(x)dx = f'(\xi)(b-a)$$</p>
<p>å› æ­¤$f(b) - f(a) = f'(\xi)(b-a)$ï¼Œè¿™æ­£æ˜¯Lagrangeä¸­å€¼å®šç†ã€‚</p>
<h4 id="13">1.3 å‘é‡å€¼å‡½æ•°çš„ä¸­å€¼å®šç†</h4>
<p>å¯¹äºå‘é‡å€¼å‡½æ•°$\boldsymbol{f}:[a,b]\to\mathbb{R}^d$ï¼Œç§¯åˆ†ä¸­å€¼å®šç†<strong>ä¸ä¸€å®šæˆç«‹</strong>ã€‚</p>
<p><strong>åä¾‹</strong>ï¼šè€ƒè™‘äºŒç»´å‡½æ•°$\boldsymbol{f}(t) = (\cos t, \sin t)$ï¼Œ$t\in[0,2\pi]$ã€‚åˆ™
$$\int_0^{2\pi}\boldsymbol{f}(t)dt = \left(\int_0^{2\pi}\cos t\,dt, \int_0^{2\pi}\sin t\,dt\right) = (0, 0)$$</p>
<p>ä½†å¯¹ä»»æ„$\xi\in[0,2\pi]$ï¼Œæœ‰$|\boldsymbol{f}(\xi)| = 1 \neq 0$ï¼Œå› æ­¤ä¸å­˜åœ¨$\xi$ä½¿å¾—
$$\boldsymbol{f}(\xi) = \frac{1}{2\pi}\int_0^{2\pi}\boldsymbol{f}(t)dt = \boldsymbol{0}$$</p>
<p><strong>è¿‘ä¼¼æˆç«‹çš„æ¡ä»¶</strong>ï¼šå°½ç®¡ä¸¥æ ¼çš„ä¸­å€¼å®šç†ä¸æˆç«‹ï¼Œä½†åœ¨ä»¥ä¸‹æƒ…å†µä¸‹å¯ä»¥è¿‘ä¼¼æˆç«‹ï¼š</p>
<ol>
<li>
<p><strong>è½¨è¿¹è¿‘ä¼¼ç›´çº¿</strong>ï¼šè‹¥$\boldsymbol{f}(t) \approx \boldsymbol{f}(a) + \frac{t-a}{b-a}(\boldsymbol{f}(b)-\boldsymbol{f}(a))$ï¼Œå³è½¨è¿¹æ¥è¿‘ç›´çº¿æ®µï¼Œåˆ™ä¸­å€¼å®šç†è¿‘ä¼¼æˆç«‹ã€‚</p>
</li>
<li>
<p><strong>ä½ç»´å­ç©ºé—´</strong>ï¼šè‹¥$\boldsymbol{f}(t)$çš„å€¼åŸŸä¸»è¦é›†ä¸­åœ¨ä¸€ä¸ªä½ç»´å­ç©ºé—´ä¸­ï¼Œç‰¹åˆ«æ˜¯ä¸€ç»´å­ç©ºé—´ï¼ˆç›´çº¿ï¼‰ï¼Œåˆ™è¿‘ä¼¼ç¨‹åº¦æ›´å¥½ã€‚</p>
</li>
<li>
<p><strong>æ­¥é•¿å……åˆ†å°</strong>ï¼šå½“$b-a$è¶³å¤Ÿå°æ—¶ï¼Œ$\boldsymbol{f}(t)$åœ¨$[a,b]$ä¸Šçš„å˜åŒ–å¯ä»¥ç”¨çº¿æ€§è¿‘ä¼¼ï¼Œæ­¤æ—¶ä¸­å€¼å®šç†è¿‘ä¼¼æˆç«‹ã€‚</p>
</li>
</ol>
<p>è¿™äº›è§‚å¯Ÿå¯¹äºç†è§£æ‰©æ•£ODEä¸­AMEDæ–¹æ³•çš„æœ‰æ•ˆæ€§è‡³å…³é‡è¦ã€‚</p>
<h3 id="2-ode">2. ODEæ•°å€¼ç§¯åˆ†åŸºç¡€ç†è®º</h3>
<h4 id="21">2.1 é—®é¢˜æè¿°</h4>
<p>è€ƒè™‘ä¸€é˜¶å¸¸å¾®åˆ†æ–¹ç¨‹çš„åˆå€¼é—®é¢˜ï¼ˆIVPï¼‰ï¼š
$$\begin{cases}
\frac{d\boldsymbol{x}}{dt} = \boldsymbol{f}(\boldsymbol{x}, t), & t\in[t_0, T]\\
\boldsymbol{x}(t_0) = \boldsymbol{x}_0
\end{cases}$$</p>
<p>å…¶ä¸­$\boldsymbol{x}\in\mathbb{R}^d$ï¼Œ$\boldsymbol{f}:\mathbb{R}^d\times\mathbb{R}\to\mathbb{R}^d$ã€‚</p>
<p><strong>è§£çš„å­˜åœ¨å”¯ä¸€æ€§</strong>ï¼šåœ¨Lipschitzæ¡ä»¶ä¸‹ï¼ˆå³å­˜åœ¨å¸¸æ•°$L$ä½¿å¾—$|\boldsymbol{f}(\boldsymbol{x}_1,t) - \boldsymbol{f}(\boldsymbol{x}_2,t)| \leq L|\boldsymbol{x}_1-\boldsymbol{x}_2|$ï¼‰ï¼Œåˆå€¼é—®é¢˜æœ‰å”¯ä¸€è§£ã€‚</p>
<p><strong>æ•°å€¼æ±‚è§£çš„åŸºæœ¬æ€æƒ³</strong>ï¼š
1. å°†æ—¶é—´åŒºé—´ç¦»æ•£åŒ–ï¼š$t_0 &lt; t_1 &lt; \cdots &lt; t_N = T$
2. å®šä¹‰æ­¥é•¿ï¼š$h_n = t_{n+1} - t_n$
3. ç”¨ç¦»æ•£ç‚¹ä¸Šçš„å€¼$\boldsymbol{x}<em n_1="n+1">n \approx \boldsymbol{x}(t_n)$é€¼è¿‘çœŸå®è§£
4. æ„é€ é€’æ¨å…³ç³»ï¼š$\boldsymbol{x}</em>_n, t_n, h_n)$} = \boldsymbol{x}_n + h_n\boldsymbol{\Phi}(\boldsymbol{x</p>
<p>å…¶ä¸­$\boldsymbol{\Phi}$ç§°ä¸º<strong>å¢é‡å‡½æ•°</strong>ï¼Œä¸åŒçš„æ•°å€¼æ–¹æ³•å¯¹åº”ä¸åŒçš„$\boldsymbol{\Phi}$ã€‚</p>
<h4 id="22-taylor">2.2 Taylorå±•å¼€ä¸å±€éƒ¨æˆªæ–­è¯¯å·®</h4>
<p>è®¾$\boldsymbol{x}(t)$æ˜¯ç²¾ç¡®è§£ï¼Œåœ¨$t_n$å¤„è¿›è¡ŒTaylorå±•å¼€ï¼š
$$\boldsymbol{x}(t_{n+1}) = \boldsymbol{x}(t_n) + h_n\boldsymbol{x}'(t_n) + \frac{h_n^2}{2}\boldsymbol{x}''(t_n) + \frac{h_n^3}{6}\boldsymbol{x}'''(t_n) + \mathcal{O}(h_n^4)$$</p>
<p>ç”±äº$\boldsymbol{x}'(t) = \boldsymbol{f}(\boldsymbol{x}(t), t)$ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—é«˜é˜¶å¯¼æ•°ï¼š</p>
<p><strong>ä¸€é˜¶å¯¼æ•°</strong>ï¼š
$$\boldsymbol{x}'(t) = \boldsymbol{f}(\boldsymbol{x}(t), t)$$</p>
<p><strong>äºŒé˜¶å¯¼æ•°</strong>ï¼š
$$\boldsymbol{x}''(t) = \frac{d}{dt}\boldsymbol{f}(\boldsymbol{x}(t), t) = \frac{\partial \boldsymbol{f}}{\partial \boldsymbol{x}}\boldsymbol{x}'(t) + \frac{\partial \boldsymbol{f}}{\partial t} = \frac{\partial \boldsymbol{f}}{\partial \boldsymbol{x}}\boldsymbol{f} + \frac{\partial \boldsymbol{f}}{\partial t}$$</p>
<p><strong>ä¸‰é˜¶å¯¼æ•°</strong>ï¼šé€šè¿‡é“¾å¼æ³•åˆ™ç»§ç»­æ±‚å¯¼ï¼Œ
$$\boldsymbol{x}'''(t) = \frac{\partial^2\boldsymbol{f}}{\partial \boldsymbol{x}^2}(\boldsymbol{f}, \boldsymbol{f}) + \frac{\partial \boldsymbol{f}}{\partial \boldsymbol{x}}\left(\frac{\partial\boldsymbol{f}}{\partial \boldsymbol{x}}\boldsymbol{f} + \frac{\partial\boldsymbol{f}}{\partial t}\right) + \frac{\partial^2\boldsymbol{f}}{\partial \boldsymbol{x}\partial t}\boldsymbol{f} + \frac{\partial^2\boldsymbol{f}}{\partial t^2}$$</p>
<p><strong>å±€éƒ¨æˆªæ–­è¯¯å·®ï¼ˆLocal Truncation Error, LTEï¼‰</strong>ï¼šå®šä¹‰ä¸ºåœ¨å‡è®¾$\boldsymbol{x}_n = \boldsymbol{x}(t_n)$ç²¾ç¡®çš„æƒ…å†µä¸‹ï¼Œå•æ­¥è®¡ç®—äº§ç”Ÿçš„è¯¯å·®ï¼š
$$\boldsymbol{\tau}_{n+1} = \boldsymbol{x}(t_{n+1}) - [\boldsymbol{x}_n + h_n\boldsymbol{\Phi}(\boldsymbol{x}_n, t_n, h_n)]$$</p>
<p>è‹¥$\boldsymbol{\tau}_{n+1} = \mathcal{O}(h_n^{p+1})$ï¼Œåˆ™ç§°è¯¥æ–¹æ³•å…·æœ‰<strong>pé˜¶ç²¾åº¦</strong>ã€‚</p>
<h4 id="23">2.3 å…¨å±€è¯¯å·®åˆ†æ</h4>
<p><strong>å…¨å±€è¯¯å·®</strong>å®šä¹‰ä¸º$\boldsymbol{e}_n = \boldsymbol{x}(t_n) - \boldsymbol{x}_n$ï¼Œæ˜¯ç´¯ç§¯è¯¯å·®ã€‚</p>
<p>è®¾æ•°å€¼æ–¹æ³•ä¸º
$$\boldsymbol{x}_{n+1} = \boldsymbol{x}_n + h_n\boldsymbol{\Phi}(\boldsymbol{x}_n, t_n, h_n)$$</p>
<p>åˆ™å…¨å±€è¯¯å·®æ»¡è¶³é€’æ¨å…³ç³»ï¼š
$$\boldsymbol{e}_{n+1} = \boldsymbol{x}(t_{n+1}) - \boldsymbol{x}_{n+1} = \boldsymbol{x}(t_{n+1}) - \boldsymbol{x}_n - h_n\boldsymbol{\Phi}(\boldsymbol{x}_n, t_n, h_n)$$</p>
<p>ä»£å…¥$\boldsymbol{x}_n = \boldsymbol{x}(t_n) - \boldsymbol{e}_n$ï¼š
$$\boldsymbol{e}_{n+1} = \boldsymbol{x}(t_{n+1}) - \boldsymbol{x}(t_n) + \boldsymbol{e}_n - h_n\boldsymbol{\Phi}(\boldsymbol{x}(t_n)-\boldsymbol{e}_n, t_n, h_n)$$</p>
<p>åˆ©ç”¨Taylorå±•å¼€å’ŒLipschitzæ¡ä»¶ï¼Œå¯ä»¥è¯æ˜ï¼š</p>
<p><strong>å®šç†</strong>ï¼šè‹¥æ•°å€¼æ–¹æ³•çš„å±€éƒ¨æˆªæ–­è¯¯å·®ä¸º$\mathcal{O}(h^{p+1})$ï¼Œä¸”å¢é‡å‡½æ•°$\boldsymbol{\Phi}$å…³äº$\boldsymbol{x}$æ»¡è¶³Lipschitzæ¡ä»¶ï¼Œåˆ™å…¨å±€è¯¯å·®ä¸º$\mathcal{O}(h^p)$ã€‚</p>
<p>å³ï¼š<strong>å±€éƒ¨p+1é˜¶ç²¾åº¦ $\Rightarrow$ å…¨å±€pé˜¶ç²¾åº¦</strong>ã€‚</p>
<p><strong>è¯æ˜æ¢—æ¦‚</strong>ï¼šå‡è®¾æ­¥é•¿å›ºå®šä¸º$h$ï¼Œæ€»æ­¥æ•°ä¸º$N = (T-t_0)/h$ã€‚æ¯æ­¥çš„å±€éƒ¨è¯¯å·®ä¸º$\mathcal{O}(h^{p+1})$ï¼Œç´¯ç§¯$N$æ­¥åï¼š
$$\|\boldsymbol{e}_N\| \leq C_1 Nh^{p+1} = C_1\frac{T-t_0}{h}h^{p+1} = C_1(T-t_0)h^p = \mathcal{O}(h^p)$$</p>
<p>è¿™è¯´æ˜å±€éƒ¨è¯¯å·®çš„é˜¶æ•°ä¼šåœ¨å…¨å±€ç´¯ç§¯æ—¶é™ä½ä¸€é˜¶ã€‚</p>
<h3 id="3">3. ç»å…¸æ•°å€¼æ–¹æ³•è¯¦è§£</h3>
<h4 id="31-euler-method">3.1 æ¬§æ‹‰æ–¹æ³•ï¼ˆEuler Methodï¼‰</h4>
<p><strong>æ˜¾å¼æ¬§æ‹‰æ–¹æ³•ï¼ˆå‰å‘æ¬§æ‹‰ï¼‰</strong>ï¼š
$$\boldsymbol{x}_{n+1} = \boldsymbol{x}_n + h_n\boldsymbol{f}(\boldsymbol{x}_n, t_n)$$</p>
<p><strong>æ¨å¯¼</strong>ï¼šå°†ODEç§¯åˆ†å½¢å¼
$$\boldsymbol{x}(t_{n+1}) = \boldsymbol{x}(t_n) + \int_{t_n}^{t_{n+1}}\boldsymbol{f}(\boldsymbol{x}(t), t)dt$$</p>
<p>ç”¨æœ€ç®€å•çš„å·¦ç«¯ç‚¹çŸ©å½¢å…¬å¼è¿‘ä¼¼ç§¯åˆ†ï¼š
$$\int_{t_n}^{t_{n+1}}\boldsymbol{f}(\boldsymbol{x}(t), t)dt \approx \boldsymbol{f}(\boldsymbol{x}(t_n), t_n)(t_{n+1}-t_n)$$</p>
<p><strong>å±€éƒ¨æˆªæ–­è¯¯å·®åˆ†æ</strong>ï¼š
$$\begin{align}
\boldsymbol{\tau}_{n+1} &= \boldsymbol{x}(t_{n+1}) - [\boldsymbol{x}(t_n) + h_n\boldsymbol{f}(\boldsymbol{x}(t_n), t_n)]\\
&= \boldsymbol{x}(t_n) + h_n\boldsymbol{x}'(t_n) + \frac{h_n^2}{2}\boldsymbol{x}''(t_n) + \mathcal{O}(h_n^3) - \boldsymbol{x}(t_n) - h_n\boldsymbol{f}(\boldsymbol{x}(t_n), t_n)\\
&= \frac{h_n^2}{2}\boldsymbol{x}''(t_n) + \mathcal{O}(h_n^3)\\
&= \mathcal{O}(h_n^2)
\end{align}$$</p>
<p>å› æ­¤æ¬§æ‹‰æ–¹æ³•æ˜¯<strong>1é˜¶æ–¹æ³•</strong>ï¼ˆå±€éƒ¨2é˜¶ï¼Œå…¨å±€1é˜¶ï¼‰ã€‚</p>
<p><strong>åœ¨æ‰©æ•£æ¨¡å‹ä¸­çš„åº”ç”¨</strong>ï¼šå¯¹äºæ‰©æ•£ODEï¼ˆè®°ä¸ºé€†å‘æ—¶é—´ï¼‰
$$\frac{d\boldsymbol{x}_t}{dt} = \boldsymbol{v}_{\theta}(\boldsymbol{x}_t, t)$$</p>
<p>ä»$t_{n+1}$åˆ°$t_n$ï¼ˆ$t_{n+1} &gt; t_n$ï¼‰ï¼Œæ¬§æ‹‰æ³•ç»™å‡ºï¼š
$$\boldsymbol{x}_{t_n} = \boldsymbol{x}_{t_{n+1}} + (t_n - t_{n+1})\boldsymbol{v}_{\theta}(\boldsymbol{x}_{t_{n+1}}, t_{n+1}) = \boldsymbol{x}_{t_{n+1}} - h_n\boldsymbol{v}_{\theta}(\boldsymbol{x}_{t_{n+1}}, t_{n+1})$$</p>
<p>å…¶ä¸­$h_n = t_{n+1} - t_n &gt; 0$ã€‚è¿™æ­£æ˜¯DDIMé‡‡æ ·çš„å½¢å¼ã€‚</p>
<p><strong>éšå¼æ¬§æ‹‰æ–¹æ³•ï¼ˆåå‘æ¬§æ‹‰ï¼‰</strong>ï¼š
$$\boldsymbol{x}_{n+1} = \boldsymbol{x}_n + h_n\boldsymbol{f}(\boldsymbol{x}_{n+1}, t_{n+1})$$</p>
<p>è¿™æ˜¯ä¸€ä¸ªå…³äº$\boldsymbol{x}_{n+1}$çš„éšå¼æ–¹ç¨‹ï¼Œéœ€è¦è¿­ä»£æ±‚è§£ï¼ˆå¦‚Newtonè¿­ä»£ï¼‰ï¼Œä½†ç¨³å®šæ€§æ›´å¥½ï¼Œç‰¹åˆ«é€‚åˆåˆšæ€§ï¼ˆstiffï¼‰é—®é¢˜ã€‚</p>
<h4 id="32-midpoint-method">3.2 ä¸­ç‚¹æ–¹æ³•ï¼ˆMidpoint Methodï¼‰</h4>
<p><strong>ä¸­ç‚¹æ–¹æ³•</strong>ï¼š
$$\boldsymbol{x}_{n+1} = \boldsymbol{x}_n + h_n\boldsymbol{f}\left(\boldsymbol{x}_{n+1/2}, t_{n+1/2}\right)$$</p>
<p>å…¶ä¸­$t_{n+1/2} = \frac{t_n + t_{n+1}}{2}$ï¼Œä¸­ç‚¹å€¼$\boldsymbol{x}_{n+1/2}$éœ€è¦å…ˆä¼°è®¡ã€‚</p>
<p><strong>æ˜¾å¼ä¸­ç‚¹æ³•ï¼ˆé¢„æµ‹-æ ¡æ­£ï¼‰</strong>ï¼š
$$\begin{cases}
\boldsymbol{x}_{n+1/2}^* = \boldsymbol{x}_n + \frac{h_n}{2}\boldsymbol{f}(\boldsymbol{x}_n, t_n) & \text{(é¢„æµ‹)}\\
\boldsymbol{x}_{n+1} = \boldsymbol{x}_n + h_n\boldsymbol{f}(\boldsymbol{x}_{n+1/2}^*, t_{n+1/2}) & \text{(æ ¡æ­£)}
\end{cases}$$</p>
<p><strong>å‡ ä½•æ„ä¹‰</strong>ï¼šç”¨åŒºé—´ä¸­ç‚¹çš„æ–œç‡ä»£è¡¨æ•´ä¸ªåŒºé—´çš„å¹³å‡æ–œç‡ï¼Œæ¯”ç«¯ç‚¹æ›´å‡†ç¡®ã€‚</p>
<p><strong>ç²¾åº¦åˆ†æ</strong>ï¼šå°†$\boldsymbol{x}(t_{n+1})$å’Œ$\boldsymbol{f}(\boldsymbol{x}<em n_1_2="n+1/2">{n+1/2}^*, t</em>)$éƒ½åœ¨$t_n$å¤„å±•å¼€ï¼š</p>
<p>é¦–å…ˆï¼Œ$\boldsymbol{x}_{n+1/2}^*$çš„è¯¯å·®ä¸ºï¼š
$$\boldsymbol{x}_{n+1/2}^* = \boldsymbol{x}(t_n) + \frac{h_n}{2}\boldsymbol{f}(\boldsymbol{x}(t_n), t_n)$$</p>
<p>è€ŒçœŸå®çš„$\boldsymbol{x}(t_{n+1/2})$ä¸ºï¼š
$$\boldsymbol{x}(t_{n+1/2}) = \boldsymbol{x}(t_n) + \frac{h_n}{2}\boldsymbol{f}(\boldsymbol{x}(t_n), t_n) + \frac{1}{2}\left(\frac{h_n}{2}\right)^2\boldsymbol{x}''(t_n) + \mathcal{O}(h_n^3)$$</p>
<p>å› æ­¤$\boldsymbol{x}<em n_1_2="n+1/2">{n+1/2}^* = \boldsymbol{x}(t</em>(h_n^2)$ã€‚}) + \mathcal{O</p>
<p>æ¥ç€å±•å¼€$\boldsymbol{f}(\boldsymbol{x}<em n_1_2="n+1/2">{n+1/2}^*, t</em>)$ï¼š
$$\begin{align}
\boldsymbol{f}(\boldsymbol{x}_{n+1/2}^*, t_{n+1/2}) &= \boldsymbol{f}(\boldsymbol{x}(t_{n+1/2}), t_{n+1/2}) + \mathcal{O}(h_n^2)\\
&= \boldsymbol{f}(\boldsymbol{x}(t_n), t_n) + \frac{h_n}{2}\boldsymbol{x}''(t_n) + \mathcal{O}(h_n^2)
\end{align}$$</p>
<p>ä»£å…¥ä¸­ç‚¹å…¬å¼ï¼š
$$\begin{align}
\boldsymbol{x}_{n+1} &= \boldsymbol{x}(t_n) + h_n\left[\boldsymbol{f}(\boldsymbol{x}(t_n), t_n) + \frac{h_n}{2}\boldsymbol{x}''(t_n) + \mathcal{O}(h_n^2)\right]\\
&= \boldsymbol{x}(t_n) + h_n\boldsymbol{f}(\boldsymbol{x}(t_n), t_n) + \frac{h_n^2}{2}\boldsymbol{x}''(t_n) + \mathcal{O}(h_n^3)
\end{align}$$</p>
<p>ä¸Taylorå±•å¼€æ¯”è¾ƒï¼š
$$\boldsymbol{x}(t_{n+1}) = \boldsymbol{x}(t_n) + h_n\boldsymbol{f}(\boldsymbol{x}(t_n), t_n) + \frac{h_n^2}{2}\boldsymbol{x}''(t_n) + \frac{h_n^3}{6}\boldsymbol{x}'''(t_n) + \mathcal{O}(h_n^4)$$</p>
<p>å› æ­¤å±€éƒ¨æˆªæ–­è¯¯å·®ä¸ºï¼š
$$\boldsymbol{\tau}_{n+1} = \frac{h_n^3}{6}\boldsymbol{x}'''(t_n) + \mathcal{O}(h_n^4) = \mathcal{O}(h_n^3)$$</p>
<p><strong>ä¸­ç‚¹æ³•æ˜¯2é˜¶æ–¹æ³•</strong>ï¼ˆå±€éƒ¨3é˜¶ï¼Œå…¨å±€2é˜¶ï¼‰ã€‚</p>
<h4 id="33-trapezoidal-rule">3.3 æ¢¯å½¢æ³•åˆ™ï¼ˆTrapezoidal Ruleï¼‰</h4>
<p><strong>æ¢¯å½¢æ³•åˆ™</strong>åŸºäºç”¨æ¢¯å½¢é¢ç§¯è¿‘ä¼¼ç§¯åˆ†ï¼š
$$\int_{t_n}^{t_{n+1}}\boldsymbol{f}(\boldsymbol{x}(t), t)dt \approx \frac{h_n}{2}[\boldsymbol{f}(\boldsymbol{x}(t_n), t_n) + \boldsymbol{f}(\boldsymbol{x}(t_{n+1}), t_{n+1})]$$</p>
<p><strong>éšå¼æ¢¯å½¢æ³•</strong>ï¼š
$$\boldsymbol{x}_{n+1} = \boldsymbol{x}_n + \frac{h_n}{2}[\boldsymbol{f}(\boldsymbol{x}_n, t_n) + \boldsymbol{f}(\boldsymbol{x}_{n+1}, t_{n+1})]$$</p>
<p>è¿™æ˜¯éšå¼æ–¹ç¨‹ï¼Œéœ€è¦è¿­ä»£æ±‚è§£ã€‚</p>
<p><strong>æ˜¾å¼æ¢¯å½¢æ³•ï¼ˆHeunæ–¹æ³•çš„ä¸€ç§å½¢å¼ï¼‰</strong>ï¼š
$$\begin{cases}
\tilde{\boldsymbol{x}}_{n+1} = \boldsymbol{x}_n + h_n\boldsymbol{f}(\boldsymbol{x}_n, t_n) & \text{(é¢„æµ‹)}\\
\boldsymbol{x}_{n+1} = \boldsymbol{x}_n + \frac{h_n}{2}[\boldsymbol{f}(\boldsymbol{x}_n, t_n) + \boldsymbol{f}(\tilde{\boldsymbol{x}}_{n+1}, t_{n+1})] & \text{(æ ¡æ­£)}
\end{cases}$$</p>
<p><strong>ç²¾åº¦åˆ†æ</strong>ï¼šå¯¹éšå¼æ¢¯å½¢æ³•ï¼Œè®¾$\boldsymbol{x}_n = \boldsymbol{x}(t_n)$ï¼Œåˆ™
$$\begin{align}
\boldsymbol{\tau}_{n+1} &= \boldsymbol{x}(t_{n+1}) - \boldsymbol{x}(t_n) - \frac{h_n}{2}[\boldsymbol{f}(\boldsymbol{x}(t_n), t_n) + \boldsymbol{f}(\boldsymbol{x}(t_{n+1}), t_{n+1})]\\
&= h_n\boldsymbol{x}'(t_n) + \frac{h_n^2}{2}\boldsymbol{x}''(t_n) + \frac{h_n^3}{6}\boldsymbol{x}'''(t_n) + \mathcal{O}(h_n^4)\\
&\quad - \frac{h_n}{2}[\boldsymbol{x}'(t_n) + \boldsymbol{x}'(t_{n+1})]
\end{align}$$</p>
<p>å…¶ä¸­
$$\boldsymbol{x}'(t_{n+1}) = \boldsymbol{x}'(t_n) + h_n\boldsymbol{x}''(t_n) + \frac{h_n^2}{2}\boldsymbol{x}'''(t_n) + \mathcal{O}(h_n^3)$$</p>
<p>ä»£å…¥å¾—ï¼š
$$\begin{align}
\boldsymbol{\tau}_{n+1} &= h_n\boldsymbol{x}'(t_n) + \frac{h_n^2}{2}\boldsymbol{x}''(t_n) + \frac{h_n^3}{6}\boldsymbol{x}'''(t_n)\\
&\quad - \frac{h_n}{2}\left[2\boldsymbol{x}'(t_n) + h_n\boldsymbol{x}''(t_n) + \frac{h_n^2}{2}\boldsymbol{x}'''(t_n)\right] + \mathcal{O}(h_n^4)\\
&= -\frac{h_n^3}{12}\boldsymbol{x}'''(t_n) + \mathcal{O}(h_n^4) = \mathcal{O}(h_n^3)
\end{align}$$</p>
<p><strong>æ¢¯å½¢æ³•æ˜¯2é˜¶æ–¹æ³•</strong>ï¼Œä¸”è¯¯å·®ç³»æ•°æ¯”ä¸­ç‚¹æ³•å°ã€‚</p>
<p><strong>åœ¨æ‰©æ•£æ¨¡å‹ä¸­çš„åº”ç”¨</strong>ï¼šå¯¹äºæ‰©æ•£ODEçš„é€†å‘é‡‡æ ·ï¼Œæ¢¯å½¢æ³•ç»™å‡ºï¼š
$$\boldsymbol{x}_{t_n} = \boldsymbol{x}_{t_{n+1}} - \frac{h_n}{2}[\boldsymbol{v}_{\theta}(\boldsymbol{x}_{t_n}, t_n) + \boldsymbol{v}_{\theta}(\boldsymbol{x}_{t_{n+1}}, t_{n+1})]$$</p>
<p>ç”±äºå³ç«¯å«æœ‰$\boldsymbol{x}_{t_n}$ï¼Œéœ€è¦ç”¨æ¬§æ‹‰æ³•é¢„æµ‹ï¼š
$$\begin{cases}
\tilde{\boldsymbol{x}}_{t_n} = \boldsymbol{x}_{t_{n+1}} - h_n\boldsymbol{v}_{\theta}(\boldsymbol{x}_{t_{n+1}}, t_{n+1})\\
\boldsymbol{x}_{t_n} = \boldsymbol{x}_{t_{n+1}} - \frac{h_n}{2}[\boldsymbol{v}_{\theta}(\tilde{\boldsymbol{x}}_{t_n}, t_n) + \boldsymbol{v}_{\theta}(\boldsymbol{x}_{t_{n+1}}, t_{n+1})]
\end{cases}$$</p>
<p>è¿™æ­£æ˜¯æ–‡ä¸­æåˆ°çš„Heunæ–¹æ³•ã€‚</p>
<h4 id="34-heun">3.4 Heunæ–¹æ³•è¯¦è§£</h4>
<p><strong>Heunæ–¹æ³•</strong>ï¼ˆä¹Ÿç§°æ”¹è¿›æ¬§æ‹‰æ³•ï¼‰æ˜¯é¢„æµ‹-æ ¡æ­£æ–¹æ³•çš„å…¸å‹ä»£è¡¨ï¼š</p>
<p><strong>ç®—æ³•æ­¥éª¤</strong>ï¼š
1. <strong>é¢„æµ‹</strong>ï¼ˆPredictorï¼‰ï¼šç”¨æ¬§æ‹‰æ³•é¢„æµ‹$\boldsymbol{x}_{n+1}$ï¼š
   $$\tilde{\boldsymbol{x}}_{n+1} = \boldsymbol{x}_n + h_n\boldsymbol{f}(\boldsymbol{x}_n, t_n)$$</p>
<ol>
<li><strong>æ ¡æ­£</strong>ï¼ˆCorrectorï¼‰ï¼šç”¨æ¢¯å½¢æ³•æ ¡æ­£ï¼š
   $$\boldsymbol{x}_{n+1} = \boldsymbol{x}_n + \frac{h_n}{2}[\boldsymbol{f}(\boldsymbol{x}_n, t_n) + \boldsymbol{f}(\tilde{\boldsymbol{x}}_{n+1}, t_{n+1})]$$</li>
</ol>
<p><strong>å‡ ä½•è§£é‡Š</strong>ï¼š
- é¢„æµ‹æ­¥ç”¨èµ·ç‚¹çš„æ–œç‡å¤–æ¨
- æ ¡æ­£æ­¥ç”¨èµ·ç‚¹å’Œé¢„æµ‹ç»ˆç‚¹çš„å¹³å‡æ–œç‡ä¿®æ­£
- ç›¸å½“äºç”¨æ¢¯å½¢é¢ç§¯ä»£æ›¿çŸ©å½¢é¢ç§¯</p>
<p><strong>ä¸RK2çš„å…³ç³»</strong>ï¼šHeunæ–¹æ³•æ˜¯2é˜¶Runge-Kuttaæ–¹æ³•ï¼ˆRK2ï¼‰çš„ä¸€ç§å½¢å¼ã€‚æ ‡å‡†RK2å½¢å¼ä¸ºï¼š
$$\begin{cases}
\boldsymbol{k}_1 = \boldsymbol{f}(\boldsymbol{x}_n, t_n)\\
\boldsymbol{k}_2 = \boldsymbol{f}(\boldsymbol{x}_n + h_n\boldsymbol{k}_1, t_{n+1})\\
\boldsymbol{x}_{n+1} = \boldsymbol{x}_n + \frac{h_n}{2}(\boldsymbol{k}_1 + \boldsymbol{k}_2)
\end{cases}$$</p>
<p>è¿™ä¸Heunæ–¹æ³•å®Œå…¨ç­‰ä»·ã€‚</p>
<p><strong>åœ¨æ‰©æ•£æ¨¡å‹ä¸­çš„ä¼˜åŠ¿</strong>ï¼š
1. <strong>æ¯æ­¥éœ€è¦2æ¬¡NFE</strong>ï¼Œæ¯”1é˜¶æ–¹æ³•å¤š1æ¬¡
2. <strong>ç²¾åº¦æå‡æ˜¾è‘—</strong>ï¼Œå¯ä»¥ç”¨æ›´å¤§æ­¥é•¿
3. <strong>æ€»NFEå¯ä»¥å‡å°‘</strong>ï¼Œå› ä¸ºæ‰€éœ€æ­¥æ•°å¤§å¹…é™ä½
4. <strong>å®ç°ç®€å•</strong>ï¼Œä¸éœ€è¦å¤æ‚çš„è‡ªé€‚åº”æ§åˆ¶</p>
<p>ä¾‹å¦‚ï¼Œå¯¹äºæ‰©æ•£ODEï¼Œè‹¥æ¬§æ‹‰æ³•éœ€è¦100æ­¥è¾¾åˆ°æŸç²¾åº¦ï¼ŒHeunæ–¹æ³•å¯èƒ½åªéœ€25æ­¥ï¼Œè™½ç„¶æ¯æ­¥2æ¬¡NFEï¼Œæ€»NFEä»100é™åˆ°50ï¼ŒåŠ é€Ÿ2å€ã€‚</p>
<h4 id="35-runge-kutta">3.5 Runge-Kuttaæ–¹æ³•</h4>
<p><strong>ç»å…¸4é˜¶Runge-Kuttaæ–¹æ³•ï¼ˆRK4ï¼‰</strong>ï¼š
$$\begin{cases}
\boldsymbol{k}_1 = \boldsymbol{f}(\boldsymbol{x}_n, t_n)\\
\boldsymbol{k}_2 = \boldsymbol{f}(\boldsymbol{x}_n + \frac{h_n}{2}\boldsymbol{k}_1, t_n + \frac{h_n}{2})\\
\boldsymbol{k}_3 = \boldsymbol{f}(\boldsymbol{x}_n + \frac{h_n}{2}\boldsymbol{k}_2, t_n + \frac{h_n}{2})\\
\boldsymbol{k}_4 = \boldsymbol{f}(\boldsymbol{x}_n + h_n\boldsymbol{k}_3, t_{n+1})\\
\boldsymbol{x}_{n+1} = \boldsymbol{x}_n + \frac{h_n}{6}(\boldsymbol{k}_1 + 2\boldsymbol{k}_2 + 2\boldsymbol{k}_3 + \boldsymbol{k}_4)
\end{cases}$$</p>
<p><strong>æ¨å¯¼æ€æƒ³</strong>ï¼šç”¨Simpsonç§¯åˆ†å…¬å¼ï¼š
$$\int_{t_n}^{t_{n+1}}\boldsymbol{f}(t)dt \approx \frac{h_n}{6}[\boldsymbol{f}(t_n) + 4\boldsymbol{f}(t_{n+1/2}) + \boldsymbol{f}(t_{n+1})]$$</p>
<p>ä½†$\boldsymbol{f}$ä¾èµ–äº$\boldsymbol{x}(t)$ï¼Œéœ€è¦å¤šæ¬¡é¢„æµ‹ä¸­é—´ç‚¹ã€‚</p>
<p><strong>ç²¾åº¦</strong>ï¼šRK4æ˜¯<strong>4é˜¶æ–¹æ³•</strong>ï¼ˆå±€éƒ¨5é˜¶ï¼Œå…¨å±€4é˜¶ï¼‰ï¼Œå±€éƒ¨æˆªæ–­è¯¯å·®ä¸º$\mathcal{O}(h^5)$ã€‚</p>
<p><strong>è®¡ç®—ä»£ä»·</strong>ï¼šæ¯æ­¥éœ€è¦<strong>4æ¬¡NFE</strong>ï¼Œå¯¹æ‰©æ•£æ¨¡å‹è€Œè¨€ä»£ä»·è¾ƒé«˜ï¼Œé€šå¸¸2é˜¶æ–¹æ³•å·²è¶³å¤Ÿã€‚</p>
<p><strong>ä¸€èˆ¬Runge-Kuttaæ–¹æ³•</strong>ï¼šç”±Butcherè¡¨åˆ»ç”»ï¼Œå½¢å¼ä¸ºï¼š
$$\begin{cases}
\boldsymbol{k}_i = \boldsymbol{f}\left(\boldsymbol{x}_n + h_n\sum_{j=1}^{i-1}a_{ij}\boldsymbol{k}_j, t_n + c_ih_n\right), & i=1,\ldots,s\\
\boldsymbol{x}_{n+1} = \boldsymbol{x}_n + h_n\sum_{i=1}^s b_i\boldsymbol{k}_i
\end{cases}$$</p>
<p>å…¶ä¸­$s$æ˜¯çº§æ•°ï¼Œ$(a_{ij}, b_i, c_i)$ç”±ç²¾åº¦è¦æ±‚ç¡®å®šã€‚</p>
<h3 id="4">4. è¯¯å·®ç†è®ºæ·±å…¥åˆ†æ</h3>
<h4 id="41">4.1 å±€éƒ¨æˆªæ–­è¯¯å·®çš„è¯¦ç»†æ¨å¯¼</h4>
<p>è€ƒè™‘ä¸€èˆ¬çš„sçº§Runge-Kuttaæ–¹æ³•ï¼Œå±€éƒ¨æˆªæ–­è¯¯å·®ä¸ºï¼š
$$\boldsymbol{\tau}_{n+1} = \boldsymbol{x}(t_{n+1}) - \left[\boldsymbol{x}(t_n) + h_n\sum_{i=1}^s b_i\boldsymbol{k}_i\right]$$</p>
<p>å…¶ä¸­$\boldsymbol{k}_i$å®šä¹‰å¦‚å‰ã€‚è¦ä½¿æ–¹æ³•è¾¾åˆ°pé˜¶ï¼Œéœ€è¦æ»¡è¶³ä¸€ç³»åˆ—<strong>é˜¶æ¡ä»¶</strong>ï¼ˆorder conditionsï¼‰ã€‚</p>
<p><strong>1é˜¶æ¡ä»¶</strong>ï¼ˆ$\mathcal{O}(h)$ï¼‰ï¼š
$$\sum_{i=1}^s b_i = 1$$</p>
<p>è¿™ç¡®ä¿äº†ä¸Taylorå±•å¼€çš„0é˜¶é¡¹åŒ¹é…ã€‚</p>
<p><strong>2é˜¶æ¡ä»¶</strong>ï¼ˆ$\mathcal{O}(h^2)$ï¼‰ï¼š
$$\sum_{i=1}^s b_ic_i = \frac{1}{2}$$</p>
<p>è¿™ç¡®ä¿äº†ä¸Taylorå±•å¼€çš„1é˜¶é¡¹åŒ¹é…ã€‚</p>
<p><strong>3é˜¶æ¡ä»¶</strong>ï¼ˆ$\mathcal{O}(h^3)$ï¼‰ï¼šéœ€è¦æ»¡è¶³
$$\sum_{i=1}^s b_ic_i^2 = \frac{1}{3}, \quad \sum_{i,j}b_ia_{ij}c_j = \frac{1}{6}$$</p>
<p><strong>éªŒè¯Heunæ–¹æ³•</strong>ï¼šHeunæ–¹æ³•å¯¹åº”$s=2$ï¼Œ
$$a_{11}=0, a_{12}=0, a_{21}=1, a_{22}=0, \quad b_1=\frac{1}{2}, b_2=\frac{1}{2}, \quad c_1=0, c_2=1$$</p>
<p>æ£€éªŒ1é˜¶æ¡ä»¶ï¼š$b_1+b_2 = \frac{1}{2}+\frac{1}{2} = 1$ âœ“</p>
<p>æ£€éªŒ2é˜¶æ¡ä»¶ï¼š$b_1c_1+b_2c_2 = 0 + \frac{1}{2}\cdot 1 = \frac{1}{2}$ âœ“</p>
<p>æ£€éªŒ3é˜¶æ¡ä»¶ï¼š$b_1c_1^2+b_2c_2^2 = 0 + \frac{1}{2} = \frac{1}{2} \neq \frac{1}{3}$ âœ—</p>
<p>å› æ­¤Heunæ–¹æ³•æ»¡è¶³2é˜¶æ¡ä»¶ï¼Œä¸æ»¡è¶³3é˜¶æ¡ä»¶ï¼Œç¡®å®æ˜¯2é˜¶æ–¹æ³•ã€‚</p>
<h4 id="42">4.2 å…¨å±€è¯¯å·®çš„ä¼ æ’­</h4>
<p>è®¾ç¬¬$n$æ­¥çš„å…¨å±€è¯¯å·®ä¸º$\boldsymbol{e}_n = \boldsymbol{x}(t_n) - \boldsymbol{x}_n$ï¼Œåˆ™
$$\begin{align}
\boldsymbol{e}_{n+1} &= \boldsymbol{x}(t_{n+1}) - \boldsymbol{x}_{n+1}\\
&= \boldsymbol{x}(t_{n+1}) - [\boldsymbol{x}_n + h_n\boldsymbol{\Phi}(\boldsymbol{x}_n, t_n, h_n)]\\
&= \boldsymbol{x}(t_{n+1}) - [\boldsymbol{x}(t_n) - \boldsymbol{e}_n + h_n\boldsymbol{\Phi}(\boldsymbol{x}(t_n)-\boldsymbol{e}_n, t_n, h_n)]
\end{align}$$</p>
<p>åˆ©ç”¨Taylorå±•å¼€ï¼š
$$\boldsymbol{x}(t_{n+1}) = \boldsymbol{x}(t_n) + h_n\boldsymbol{\Phi}(\boldsymbol{x}(t_n), t_n, h_n) + \boldsymbol{\tau}_{n+1}$$</p>
<p>ä»¥åŠLipschitzæ¡ä»¶ï¼š
$$\|\boldsymbol{\Phi}(\boldsymbol{x}(t_n), t_n, h_n) - \boldsymbol{\Phi}(\boldsymbol{x}(t_n)-\boldsymbol{e}_n, t_n, h_n)\| \leq L\|\boldsymbol{e}_n\|$$</p>
<p>å¾—åˆ°ï¼š
$$\|\boldsymbol{e}_{n+1}\| \leq \|\boldsymbol{e}_n\| + h_nL\|\boldsymbol{e}_n\| + \|\boldsymbol{\tau}_{n+1}\| = (1+h_nL)\|\boldsymbol{e}_n\| + \|\boldsymbol{\tau}_{n+1}\|$$</p>
<p>é€’æ¨åœ°ï¼Œåˆå§‹è¯¯å·®$\boldsymbol{e}_0 = 0$ï¼Œåˆ™
$$\begin{align}
\|\boldsymbol{e}_N\| &\leq (1+h_{N-1}L)\|\boldsymbol{e}_{N-1}\| + \|\boldsymbol{\tau}_N\|\\
&\leq (1+h_{N-1}L)[(1+h_{N-2}L)\|\boldsymbol{e}_{N-2}\| + \|\boldsymbol{\tau}_{N-1}\|] + \|\boldsymbol{\tau}_N\|\\
&\leq \cdots\\
&\leq \sum_{n=1}^N \|\boldsymbol{\tau}_n\|\prod_{k=n}^{N-1}(1+h_kL)
\end{align}$$</p>
<p>è‹¥æ­¥é•¿å›ºå®š$h_n = h$ï¼Œä¸”å±€éƒ¨è¯¯å·®$|\boldsymbol{\tau}_n| \leq Ch^{p+1}$ï¼Œåˆ™
$$\begin{align}
\|\boldsymbol{e}_N\| &\leq NCh^{p+1}(1+hL)^{N-1}\\
&\leq NCh^{p+1}e^{(N-1)hL}\\
&\leq \frac{T-t_0}{h}Ch^{p+1}e^{(T-t_0)L}\\
&= C(T-t_0)e^{(T-t_0)L}h^p = \mathcal{O}(h^p)
\end{align}$$</p>
<p>å…¶ä¸­ç”¨åˆ°äº†$1+x\leq e^x$å’Œ$Nh = T-t_0$ã€‚</p>
<p><strong>ç»“è®º</strong>ï¼šå±€éƒ¨$p+1$é˜¶æ–¹æ³•çš„å…¨å±€è¯¯å·®ä¸º$\mathcal{O}(h^p)$ã€‚</p>
<h4 id="43">4.3 ç¨³å®šæ€§åˆ†æ</h4>
<p>è€ƒè™‘æµ‹è¯•æ–¹ç¨‹ï¼ˆtest equationï¼‰ï¼š
$$\frac{dx}{dt} = \lambda x, \quad \lambda\in\mathbb{C}$$</p>
<p>ç²¾ç¡®è§£ä¸º$x(t) = x_0 e^{\lambda t}$ã€‚å½“$\text{Re}(\lambda) &lt; 0$æ—¶ï¼Œè§£æŒ‡æ•°è¡°å‡ã€‚</p>
<p><strong>æ¬§æ‹‰æ–¹æ³•çš„ç¨³å®šæ€§</strong>ï¼šåº”ç”¨æ¬§æ‹‰æ³•å¾—
$$x_{n+1} = x_n + h\lambda x_n = (1+h\lambda)x_n$$</p>
<p>å› æ­¤$x_n = (1+h\lambda)^n x_0$ã€‚è¦ä½¿æ•°å€¼è§£ä¹Ÿè¡°å‡ï¼ˆ$|x_n|\to 0$ï¼‰ï¼Œéœ€è¦
$$|1+h\lambda| < 1$$</p>
<p>è¿™å®šä¹‰äº†<strong>ç»å¯¹ç¨³å®šåŸŸ</strong>ï¼š${z\in\mathbb{C}: |1+z|&lt;1}$ï¼Œå…¶ä¸­$z=h\lambda$ã€‚</p>
<p><strong>A-ç¨³å®šæ€§</strong>ï¼šè‹¥æ–¹æ³•å¯¹æ‰€æœ‰$\text{Re}(h\lambda)&lt;0$éƒ½ç¨³å®šï¼Œç§°è¯¥æ–¹æ³•<strong>A-ç¨³å®š</strong>ã€‚</p>
<ul>
<li>æ˜¾å¼æ¬§æ‹‰æ³•ï¼šä¸æ˜¯A-ç¨³å®š</li>
<li>éšå¼æ¬§æ‹‰æ³•ï¼šA-ç¨³å®š</li>
<li>æ¢¯å½¢æ³•ï¼šA-ç¨³å®š</li>
<li>RK4ï¼šä¸æ˜¯A-ç¨³å®š</li>
</ul>
<p>å¯¹äºæ‰©æ•£ODEï¼Œç¨³å®šæ€§é€šå¸¸ä¸æ˜¯ä¸»è¦é—®é¢˜ï¼Œå› ä¸ºæˆ‘ä»¬æ›´å…³å¿ƒç²¾åº¦è€Œéé•¿æ—¶é—´è¡Œä¸ºã€‚</p>
<h3 id="5-richardson">5. Richardsonå¤–æ¨æ³•</h3>
<h4 id="51">5.1 åŸºæœ¬æ€æƒ³</h4>
<p>Richardsonå¤–æ¨æ˜¯ä¸€ç§<strong>åå¤„ç†æŠ€æœ¯</strong>ï¼Œé€šè¿‡ç»„åˆä¸åŒæ­¥é•¿çš„æ•°å€¼è§£æ¥æé«˜ç²¾åº¦ã€‚</p>
<p><strong>åŸç†</strong>ï¼šå‡è®¾æ•°å€¼è§£çš„è¯¯å·®æœ‰æ¸è¿‘å±•å¼€ï¼š
$$\boldsymbol{x}_h - \boldsymbol{x}^* = C_1h^p + C_2h^{p+1} + \cdots$$</p>
<p>å…¶ä¸­$\boldsymbol{x}_h$æ˜¯æ­¥é•¿ä¸º$h$çš„æ•°å€¼è§£ï¼Œ$\boldsymbol{x}^*$æ˜¯ç²¾ç¡®è§£ã€‚</p>
<p>è‹¥ç”¨æ­¥é•¿$h$å’Œ$h/2$åˆ†åˆ«è®¡ç®—ï¼Œå¾—åˆ°$\boldsymbol{x}<em h_2="h/2">h$å’Œ$\boldsymbol{x}</em>$ï¼Œåˆ™
$$\begin{cases}
\boldsymbol{x}_h = \boldsymbol{x}^* + C_1h^p + C_2h^{p+1} + \mathcal{O}(h^{p+2})\\
\boldsymbol{x}_{h/2} = \boldsymbol{x}^* + C_1(h/2)^p + C_2(h/2)^{p+1} + \mathcal{O}(h^{p+2})
\end{cases}$$</p>
<p>å°†ç¬¬äºŒå¼ä¹˜ä»¥$2^p$å†å‡å»ç¬¬ä¸€å¼ï¼š
$$2^p\boldsymbol{x}_{h/2} - \boldsymbol{x}_h = (2^p-1)\boldsymbol{x}^* + C_2(2^{p+1}-2)h^{p+1}/2^{p+1} + \mathcal{O}(h^{p+2})$$</p>
<p>è§£å‡ºï¼š
$$\boldsymbol{x}^* = \frac{2^p\boldsymbol{x}_{h/2} - \boldsymbol{x}_h}{2^p-1} + \mathcal{O}(h^{p+1})$$</p>
<p>å®šä¹‰<strong>å¤–æ¨è§£</strong>ï¼š
$$\boldsymbol{x}_h^{\text{ext}} = \frac{2^p\boldsymbol{x}_{h/2} - \boldsymbol{x}_h}{2^p-1}$$</p>
<p>å…¶è¯¯å·®ä¸º$\mathcal{O}(h^{p+1})$ï¼Œæ¯”åŸæ–¹æ³•é«˜ä¸€é˜¶ï¼</p>
<h4 id="52-ode">5.2 åº”ç”¨äºæ‰©æ•£ODE</h4>
<p><strong>ç®—æ³•æµç¨‹</strong>ï¼š
1. ç”¨æ­¥é•¿$h$è®¡ç®—ä¸€æ¬¡ï¼Œå¾—$\boldsymbol{x}<em h_2="h/2">h$
2. ç”¨æ­¥é•¿$h/2$è®¡ç®—ä¸€æ¬¡ï¼Œå¾—$\boldsymbol{x}</em>$
3. å¤–æ¨å¾—é«˜ç²¾åº¦è§£$\boldsymbol{x}_h^{\text{ext}}$</p>
<p><strong>ç¤ºä¾‹ï¼ˆæ¬§æ‹‰æ³•ï¼‰</strong>ï¼š$p=1$ï¼Œå¤–æ¨å…¬å¼ä¸º
$$\boldsymbol{x}_h^{\text{ext}} = \frac{2\boldsymbol{x}_{h/2} - \boldsymbol{x}_h}{2-1} = 2\boldsymbol{x}_{h/2} - \boldsymbol{x}_h$$</p>
<p>è¿™å°†1é˜¶æ¬§æ‹‰æ³•æå‡åˆ°2é˜¶ï¼</p>
<p><strong>ç¤ºä¾‹ï¼ˆHeunæ³•ï¼‰</strong>ï¼š$p=2$ï¼Œå¤–æ¨å…¬å¼ä¸º
$$\boldsymbol{x}_h^{\text{ext}} = \frac{4\boldsymbol{x}_{h/2} - \boldsymbol{x}_h}{4-1} = \frac{4\boldsymbol{x}_{h/2} - \boldsymbol{x}_h}{3}$$</p>
<p>è¿™å°†2é˜¶Heunæ³•æå‡åˆ°3é˜¶ã€‚</p>
<p><strong>è®¡ç®—æˆæœ¬</strong>ï¼š
- éœ€è¦è®¡ç®—$\boldsymbol{x}<em h_2="h/2">h$ï¼ˆ1æ¬¡ç²—æ­¥é•¿ï¼‰å’Œ$\boldsymbol{x}</em>$ï¼ˆ2æ¬¡ç»†æ­¥é•¿ï¼‰
- å¯¹äºæ¬§æ‹‰æ³•ï¼šæ€»å…±3æ¬¡NFEå¾—åˆ°2é˜¶ç²¾åº¦
- å¯¹äºHeunæ³•ï¼šæ€»å…±6æ¬¡NFEå¾—åˆ°3é˜¶ç²¾åº¦</p>
<p><strong>ä¼˜åŠ£åˆ†æ</strong>ï¼š
- <strong>ä¼˜ç‚¹</strong>ï¼šä¸æ”¹å˜åŸæ–¹æ³•ï¼Œå®¹æ˜“å®ç°ï¼›å¯è¿­ä»£åº”ç”¨ï¼ˆå¤šçº§å¤–æ¨ï¼‰
- <strong>ç¼ºç‚¹</strong>ï¼šéœ€è¦é¢å¤–è®¡ç®—ï¼›ä¸èƒ½å¾ˆå¥½åœ°é€‚åº”å˜æ­¥é•¿</p>
<p>åœ¨æ‰©æ•£æ¨¡å‹ä¸­ï¼ŒRichardsonå¤–æ¨è¾ƒå°‘ä½¿ç”¨ï¼Œå› ä¸ºç›´æ¥ç”¨2é˜¶æ–¹æ³•å·²ç»è¶³å¤Ÿé«˜æ•ˆã€‚</p>
<h3 id="6">6. è‡ªé€‚åº”æ­¥é•¿æ§åˆ¶</h3>
<h4 id="61">6.1 è¯¯å·®ä¼°è®¡</h4>
<p><strong>åµŒå…¥å¼Runge-Kuttaæ–¹æ³•</strong>ï¼ˆEmbedded RKï¼‰åŒæ—¶ç»™å‡ºpé˜¶å’Œp+1é˜¶çš„è§£ï¼Œä»è€Œä¼°è®¡å±€éƒ¨è¯¯å·®ã€‚</p>
<p>æœ€è‘—åçš„æ˜¯<strong>Dormand-Princeæ–¹æ³•ï¼ˆDP45æˆ–DOPRI5ï¼‰</strong>ï¼ŒåŒæ—¶ç»™å‡º4é˜¶å’Œ5é˜¶è§£ã€‚</p>
<p><strong>ç®—æ³•</strong>ï¼š
1. è®¡ç®—pé˜¶è§£$\boldsymbol{x}<em n_1="n+1">{n+1}^{(p)}$å’Œp+1é˜¶è§£$\boldsymbol{x}</em>$
2. ä¼°è®¡å±€éƒ¨è¯¯å·®ï¼š$\boldsymbol{e}}^{(p+1)<em n_1="n+1">{n+1} \approx \boldsymbol{x}</em>}^{(p+1)} - \boldsymbol{x<em n_1="n+1">{n+1}^{(p)}$
3. è®¡ç®—è¯¯å·®èŒƒæ•°ï¼š$\text{err} = |\boldsymbol{e}</em>|$</p>
<p><strong>Heunæ–¹æ³•çš„è¯¯å·®ä¼°è®¡</strong>ï¼š
- pé˜¶è§£ï¼šHeunå…¬å¼
- p-1é˜¶è§£ï¼šæ¬§æ‹‰å…¬å¼ï¼ˆé¢„æµ‹æ­¥ï¼‰</p>
<p>è¯¯å·®ä¼°è®¡ï¼š
$$\text{err} \approx \|\boldsymbol{x}_{n+1}^{\text{Heun}} - \tilde{\boldsymbol{x}}_{n+1}^{\text{Euler}}\|$$</p>
<h4 id="62">6.2 æ­¥é•¿è°ƒæ•´ç­–ç•¥</h4>
<p>è®¾æœŸæœ›çš„å±€éƒ¨è¯¯å·®å®¹é™ä¸º$\text{tol}$ï¼Œå½“å‰æ­¥é•¿ä¸º$h$ï¼Œè¯¯å·®ä¸º$\text{err}$ã€‚</p>
<p><strong>åŸºæœ¬è°ƒæ•´å…¬å¼</strong>ï¼šç”±äº$\text{err} \sim h^{p+1}$ï¼Œè‹¥è¦ä½¿è¯¯å·®è¾¾åˆ°$\text{tol}$ï¼Œæ–°æ­¥é•¿åº”ä¸º
$$h_{\text{new}} = h\left(\frac{\text{tol}}{\text{err}}\right)^{1/(p+1)}$$</p>
<p><strong>å®‰å…¨å› å­</strong>ï¼šä¸ºé˜²æ­¢æ­¥é•¿å˜åŒ–è¿‡å¿«ï¼Œå¼•å…¥å®‰å…¨ç³»æ•°$\beta\in(0,1)$ï¼ˆé€šå¸¸å–0.9ï¼‰ï¼š
$$h_{\text{new}} = \beta h\left(\frac{\text{tol}}{\text{err}}\right)^{1/(p+1)}$$</p>
<p><strong>æ­¥é•¿é™åˆ¶</strong>ï¼š
$$h_{\text{new}} = \max(h_{\min}, \min(h_{\max}, h_{\text{new}}))$$</p>
<p>å…¶ä¸­$h_{\min}$å’Œ$h_{\max}$æ˜¯äººä¸ºè®¾å®šçš„æ­¥é•¿èŒƒå›´ã€‚</p>
<p><strong>æ­¥é•¿å˜åŒ–é™åˆ¶</strong>ï¼šé˜²æ­¢æ­¥é•¿å‰§çƒˆå˜åŒ–ï¼š
$$\frac{h_{\min}}{h} \leq \frac{h_{\text{new}}}{h} \leq \frac{h_{\max}}{h}$$</p>
<p>å…¸å‹å–å€¼ï¼š$h_{\min}/h = 0.2$ï¼Œ$h_{\max}/h = 5$ã€‚</p>
<h4 id="63-pi">6.3 PIæ§åˆ¶å™¨</h4>
<p>æ›´å…ˆè¿›çš„æ­¥é•¿æ§åˆ¶é‡‡ç”¨<strong>PIæ§åˆ¶å™¨</strong>ï¼ˆProportional-Integral Controllerï¼‰ï¼š
$$h_{n+1} = h_n\left(\frac{\text{tol}}{\text{err}_n}\right)^{k_P}\left(\frac{\text{err}_{n-1}}{\text{err}_n}\right)^{k_I}$$</p>
<p>å…¶ä¸­$k_P$å’Œ$k_I$æ˜¯æ§åˆ¶å‚æ•°ï¼Œå…¸å‹å–å€¼ï¼š
$$k_P = \frac{0.7}{p+1}, \quad k_I = \frac{0.4}{p+1}$$</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼šå¹³æ»‘æ­¥é•¿å˜åŒ–ï¼Œé¿å…æŒ¯è¡ã€‚</p>
<h4 id="64-ode">6.4 åœ¨æ‰©æ•£ODEä¸­çš„åº”ç”¨</h4>
<p>å¯¹äºæ‰©æ•£æ¨¡å‹ï¼Œè‡ªé€‚åº”æ­¥é•¿çš„åº”ç”¨è¾ƒä¸ºç‰¹æ®Šï¼š</p>
<p><strong>æŒ‘æˆ˜</strong>ï¼š
1. æ‰©æ•£ODEåœ¨ä¸åŒæ—¶é—´æ®µçš„"åˆšåº¦"ä¸åŒï¼ˆ$t$æ¥è¿‘0æˆ–$T$æ—¶å˜åŒ–æ›´å¿«ï¼‰
2. éœ€è¦æ§åˆ¶æ€»NFEè€Œéæ€»æ—¶é—´
3. å›¾åƒè´¨é‡æŒ‡æ ‡ï¼ˆå¦‚FIDï¼‰ä¸å®Œå…¨ç­‰åŒäºæ•°å€¼è¯¯å·®</p>
<p><strong>å¯èƒ½çš„ç­–ç•¥</strong>ï¼š
1. <strong>é¢„å…ˆè§„åˆ’èŠ‚ç‚¹</strong>ï¼šé€šè¿‡å®éªŒç¡®å®šæœ€ä¼˜èŠ‚ç‚¹åˆ†å¸ƒï¼ˆå¦‚EDMçš„èŠ‚ç‚¹å…¬å¼ï¼‰
2. <strong>åˆ†æ®µç­–ç•¥</strong>ï¼šåœ¨$t$æ¥è¿‘è¾¹ç•Œæ—¶ç”¨å°æ­¥é•¿ï¼Œä¸­é—´ç”¨å¤§æ­¥é•¿
3. <strong>åŸºäºæ¢¯åº¦çš„è°ƒæ•´</strong>ï¼šåœ¨$|\boldsymbol{v}_{\theta}(\boldsymbol{x}_t,t)|$å¤§çš„åŒºåŸŸç”¨å°æ­¥é•¿</p>
<p><strong>å®è·µä¸­</strong>ï¼šå¤§å¤šæ•°å·¥ä½œé‡‡ç”¨å›ºå®šèŠ‚ç‚¹ï¼Œå› ä¸ºï¼š
- ç®€å•æ˜“å®ç°
- å¯é¢„æµ‹NFE
- èŠ‚ç‚¹åˆ†å¸ƒå¯é€šè¿‡è¶…å‚æ•°æœç´¢ä¼˜åŒ–</p>
<h3 id="7-ode">7. ä¸­å€¼å®šç†åœ¨æ‰©æ•£ODEä¸­çš„åº”ç”¨</h3>
<h4 id="71-amed">7.1 AMEDæ–¹æ³•çš„æ•°å­¦åŸºç¡€</h4>
<p>å›é¡¾æ‰©æ•£ODEçš„ç§¯åˆ†å½¢å¼ï¼š
$$\boldsymbol{x}_{t_n} = \boldsymbol{x}_{t_{n+1}} + \int_{t_n}^{t_{n+1}}\boldsymbol{v}_{\theta}(\boldsymbol{x}_t, t)dt$$</p>
<p>ï¼ˆæ³¨æ„ç§¯åˆ†æ–¹å‘æ˜¯ä»$t_{n+1}$åˆ°$t_n$ï¼Œå› ä¸º$t_{n+1} &gt; t_n$ï¼Œç¬¦å·å·²åŒ…å«åœ¨æ–¹ç¨‹å®šä¹‰ä¸­ï¼‰</p>
<p><strong>æ ‡é‡æƒ…å†µçš„ä¸­å€¼å®šç†</strong>ï¼šè‹¥$v$æ˜¯æ ‡é‡å‡½æ•°ï¼Œåˆ™å­˜åœ¨$s\in(t_n, t_{n+1})$ä½¿å¾—
$$\int_{t_n}^{t_{n+1}} v(x_t, t)dt = v(x_s, s)(t_{n+1} - t_n)$$</p>
<p><strong>å‘é‡æƒ…å†µçš„æ¨å¹¿</strong>ï¼šè™½ç„¶ä¸¥æ ¼çš„ä¸­å€¼å®šç†ä¸æˆç«‹ï¼Œä½†æˆ‘ä»¬å¯ä»¥å¯»æ‰¾"æœ€ä¼˜ä¸­å€¼ç‚¹"$s^*$ä½¿å¾—
$$\left\|\int_{t_n}^{t_{n+1}}\boldsymbol{v}_{\theta}(\boldsymbol{x}_t, t)dt - \boldsymbol{v}_{\theta}(\boldsymbol{x}_{s^*}, s^*)(t_{n+1}-t_n)\right\|$$
æœ€å°åŒ–ã€‚</p>
<p><strong>AMEDçš„è¿‘ä¼¼</strong>ï¼šå‡è®¾å­˜åœ¨$s_n\approx s^*$ä½¿å¾—
$$\int_{t_n}^{t_{n+1}}\boldsymbol{v}_{\theta}(\boldsymbol{x}_t, t)dt \approx \boldsymbol{v}_{\theta}(\boldsymbol{x}_{s_n}, s_n)(t_{n+1}-t_n)$$</p>
<p>ä»è€Œ
$$\boldsymbol{x}_{t_n} \approx \boldsymbol{x}_{t_{n+1}} - \boldsymbol{v}_{\theta}(\boldsymbol{x}_{s_n}, s_n)(t_{n+1}-t_n)$$</p>
<h4 id="72">7.2 ä¸­å€¼ç‚¹çš„å­¦ä¹ </h4>
<p><strong>é—®é¢˜</strong>ï¼šå¦‚ä½•ç¡®å®š$s_n$å’Œ$\boldsymbol{x}_{s_n}$ï¼Ÿ</p>
<p><strong>AMEDçš„è§£å†³æ–¹æ¡ˆ</strong>ï¼š
1. <strong>å­¦ä¹ æ—¶é—´ç‚¹$s_n$</strong>ï¼šç”¨ç¥ç»ç½‘ç»œ$g_{\phi}$é¢„æµ‹
   $$s_n = g_{\phi}(\boldsymbol{h}_{t_{n+1}}, t_{n+1})$$
   å…¶ä¸­$\boldsymbol{h}<em n_1="n+1">{t</em>$æ˜¯U-Netä¸­é—´ç‰¹å¾ã€‚}</p>
<ol>
<li><strong>é¢„æµ‹ç©ºé—´ç‚¹$\boldsymbol{x}_{s_n}$</strong>ï¼šç”¨æ¬§æ‹‰æ³•ä»$\boldsymbol{x}<em n_1="n+1">{t</em>$å¤–æ¨
   $$\tilde{\boldsymbol{x}}_{s_n} = \boldsymbol{x}_{t_{n+1}} - \boldsymbol{v}_{\theta}(\boldsymbol{x}_{t_{n+1}}, t_{n+1})(t_{n+1} - s_n)$$}</li>
</ol>
<p><strong>è®­ç»ƒç›®æ ‡</strong>ï¼šæœ€å°åŒ–ä¸é«˜ç²¾åº¦è½¨è¿¹çš„å·®è·ã€‚è®¾ç”¨é«˜ç²¾åº¦solverï¼ˆå¦‚å¤§æ­¥æ•°Heunï¼‰å¾—åˆ°å‚è€ƒè½¨è¿¹${\bar{\boldsymbol{x}}<em t_1="t_1">{t_0}, \bar{\boldsymbol{x}}</em>}$ï¼Œåˆ™æŸå¤±å‡½æ•°ä¸º
$$\mathcal{L}(\phi) = \mathbb{E}\left[\left\|\boldsymbol{x}_{t_n}^{\text{AMED}} - \bar{\boldsymbol{x}}_{t_n}\right\|^2\right]$$}, \ldots, \bar{\boldsymbol{x}}_{t_N</p>
<p>å…¶ä¸­$\boldsymbol{x}_{t_n}^{\text{AMED}}$æ˜¯ç”¨AMED-Solverè®¡ç®—çš„ç»“æœï¼š
$$\boldsymbol{x}_{t_n}^{\text{AMED}} = \boldsymbol{x}_{t_{n+1}} - \boldsymbol{v}_{\theta}(\tilde{\boldsymbol{x}}_{s_n}, s_n)(t_{n+1}-t_n)$$</p>
<h4 id="73">7.3 è¯¯å·®åˆ†æ</h4>
<p><strong>å‡è®¾</strong>ï¼šæ‰©æ•£è½¨è¿¹è¿‘ä¼¼ä¸ºç›´çº¿ï¼Œå³å­˜åœ¨$\boldsymbol{x}_0, \boldsymbol{x}_T$ä½¿å¾—
$$\boldsymbol{x}_t \approx \boldsymbol{x}_T + \frac{t-T}{0-T}(\boldsymbol{x}_0 - \boldsymbol{x}_T) = \boldsymbol{x}_T + \frac{T-t}{T}(\boldsymbol{x}_0 - \boldsymbol{x}_T)$$</p>
<p>åˆ™é€Ÿåº¦åœºè¿‘ä¼¼ä¸º
$$\boldsymbol{v}_{\theta}(\boldsymbol{x}_t, t) = \frac{d\boldsymbol{x}_t}{dt} \approx -\frac{\boldsymbol{x}_0 - \boldsymbol{x}_T}{T} = \text{const}$$</p>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç§¯åˆ†ç²¾ç¡®ä¸ºï¼š
$$\int_{t_n}^{t_{n+1}}\boldsymbol{v}_{\theta}(\boldsymbol{x}_t, t)dt = \boldsymbol{v}_{\theta}(t_{n+1}-t_n)$$</p>
<p>æ­¤æ—¶ä»»æ„$s_n\in[t_n, t_{n+1}]$éƒ½æ˜¯ç²¾ç¡®çš„ä¸­å€¼ç‚¹ã€‚</p>
<p><strong>å®é™…æƒ…å†µ</strong>ï¼šè½¨è¿¹ä¸å®Œå…¨æ˜¯ç›´çº¿ï¼Œä½†PCAåˆ†ææ˜¾ç¤ºä¸»è¦åœ¨ä½ç»´å­ç©ºé—´ä¸­ï¼Œå› æ­¤è¿‘ä¼¼ç¨‹åº¦è¾ƒå¥½ã€‚</p>
<p>è®¾é€Ÿåº¦åœºçš„å˜åŒ–ç‡ä¸º
$$\left\|\frac{\partial \boldsymbol{v}_{\theta}}{\partial t}\right\| \leq C_v$$</p>
<p>åˆ™ä¸­å€¼è¿‘ä¼¼çš„è¯¯å·®ä¸º
$$\left\|\int_{t_n}^{t_{n+1}}\boldsymbol{v}_{\theta}(\boldsymbol{x}_t, t)dt - \boldsymbol{v}_{\theta}(\boldsymbol{x}_{s_n}, s_n)(t_{n+1}-t_n)\right\| \leq C_v\frac{(t_{n+1}-t_n)^2}{2}$$</p>
<p>è¿™æ˜¯$\mathcal{O}(h^2)$çš„è¯¯å·®ï¼Œä¸1é˜¶æ–¹æ³•ç›¸å½“ã€‚</p>
<p><strong>AMEDçš„ä¼˜åŠ¿</strong>ï¼šé€šè¿‡å­¦ä¹ æœ€ä¼˜$s_n$ï¼Œå¯ä»¥ä½¿å¸¸æ•°å› å­æ›´å°ï¼Œä»è€Œåœ¨ç›¸åŒæ­¥é•¿ä¸‹è·å¾—æ›´é«˜ç²¾åº¦ã€‚</p>
<h4 id="74">7.4 ä¸å…¶ä»–æ–¹æ³•çš„æ¯”è¾ƒ</h4>
<p><strong>AMED vs æ¬§æ‹‰æ³•</strong>ï¼š
- æ¬§æ‹‰æ³•ï¼š$s_n = t_{n+1}$ï¼ˆå›ºå®šç«¯ç‚¹ï¼‰
- AMEDï¼š$s_n$æ˜¯å­¦ä¹ å¾—åˆ°çš„æœ€ä¼˜ç‚¹
- ç²¾åº¦ï¼šAMEDæ›´é«˜ï¼ˆé€šè¿‡ä¼˜åŒ–$s_n$å‡å°è¯¯å·®å¸¸æ•°ï¼‰
- NFEï¼šéƒ½æ˜¯æ¯æ­¥2æ¬¡ï¼ˆAMEDéœ€è¦é¢å¤–è®¡ç®—$s_n$ï¼Œä½†è®¡ç®—é‡å°ï¼‰</p>
<p><strong>AMED vs Heunæ³•</strong>ï¼š
- Heunï¼šç”¨ä¸¤ä¸ªç«¯ç‚¹çš„å¹³å‡ï¼Œ$s_n$éšå«åœ¨å¹³å‡ä¸­
- AMEDï¼šæ˜¾å¼å­¦ä¹ $s_n$ï¼Œæ›´çµæ´»
- ç²¾åº¦ï¼šç†è®ºä¸Šéƒ½æ˜¯2é˜¶ï¼Œä½†AMEDåœ¨æ‰©æ•£ODEä¸Šè¡¨ç°æ›´å¥½ï¼ˆé’ˆå¯¹æ€§ä¼˜åŒ–ï¼‰
- NFEï¼šéƒ½æ˜¯æ¯æ­¥2æ¬¡</p>
<p><strong>AMED vs ä¸­ç‚¹æ³•</strong>ï¼š
- ä¸­ç‚¹æ³•ï¼š$s_n = (t_n+t_{n+1})/2$ï¼ˆå›ºå®šä¸­ç‚¹ï¼‰
- AMEDï¼š$s_n$è‡ªé€‚åº”
- ç²¾åº¦ï¼šä¸­ç‚¹æ³•ç†è®º2é˜¶ï¼ŒAMEDå®è·µæ›´ä¼˜
- NFEï¼šéƒ½æ˜¯æ¯æ­¥2æ¬¡</p>
<p><strong>å…³é”®åŒºåˆ«</strong>ï¼šAMEDé€šè¿‡æ•°æ®é©±åŠ¨çš„æ–¹å¼å­¦ä¹ æœ€ä¼˜$s_n$ï¼Œè€Œä¼ ç»Ÿæ–¹æ³•ä½¿ç”¨å›ºå®šè§„åˆ™ï¼ˆç«¯ç‚¹ã€ä¸­ç‚¹ã€åŠ æƒå¹³å‡ç­‰ï¼‰ã€‚å¯¹äºæ‰©æ•£ODEè¿™ç§ç‰¹å®šç»“æ„ï¼Œå­¦ä¹ æ–¹æ³•èƒ½æ›´å¥½åœ°é€‚åº”è½¨è¿¹ç‰¹æ€§ã€‚</p>
<h3 id="8">8. ä¸å…¶ä»–åŠ é€Ÿæ–¹æ³•çš„å¯¹æ¯”</h3>
<h4 id="81">8.1 æ–¹æ³•åˆ†ç±»</h4>
<p>æ‰©æ•£æ¨¡å‹åŠ é€Ÿæ–¹æ³•å¤§è‡´å¯åˆ†ä¸ºä¸‰ç±»ï¼š</p>
<p><strong>1. çº¯æ•°å€¼æ–¹æ³•</strong>ï¼ˆTraining-freeï¼‰ï¼š
- æ¬§æ‹‰æ³•ï¼ˆDDIMï¼‰
- Heunæ³•ï¼ˆEDMï¼‰
- é«˜é˜¶RKæ–¹æ³•
- DPM-Solverç³»åˆ—
- ä¼˜ç‚¹ï¼šæ— éœ€é¢å¤–è®­ç»ƒ
- ç¼ºç‚¹ï¼šç²¾åº¦å—é™äºé€šç”¨ODEç†è®º</p>
<p><strong>2. è’¸é¦æ–¹æ³•</strong>ï¼ˆDistillation-basedï¼‰ï¼š
- Progressive Distillation
- Consistency Models
- Latent Consistency Models
- ä¼˜ç‚¹ï¼šå¯è¾¾åˆ°æå°‘æ­¥æ•°ï¼ˆ1-4æ­¥ï¼‰
- ç¼ºç‚¹ï¼šè®­ç»ƒæˆæœ¬é«˜ï¼ˆæ•°å¤©åˆ°æ•°å‘¨ï¼‰</p>
<p><strong>3. æ··åˆæ–¹æ³•</strong>ï¼ˆHybridï¼‰ï¼š
- AMEDï¼ˆè½»é‡è’¸é¦ + æ•°å€¼æ–¹æ³•ï¼‰
- DPM-Solver++ï¼ˆåˆ†æè§£ + æ•°å€¼æ–¹æ³•ï¼‰
- ä¼˜ç‚¹ï¼šå¹³è¡¡ç²¾åº¦å’Œæˆæœ¬
- ç¼ºç‚¹ï¼šå®ç°å¤æ‚åº¦è¾ƒé«˜</p>
<h4 id="82-dpm-solver">8.2 DPM-Solverç³»åˆ—</h4>
<p><strong>DPM-Solverçš„æ ¸å¿ƒæ€æƒ³</strong>ï¼šå°†æ‰©æ•£ODEæ”¹å†™ä¸ºç‰¹æ®Šå½¢å¼ï¼Œåˆ©ç”¨åŠçº¿æ€§ç»“æ„æ±‚è§£æè§£ã€‚</p>
<p>å¯¹äºVPï¼ˆVariance Preservingï¼‰æ‰©æ•£ï¼ŒODEå¯å†™ä¸ºï¼š
$$\frac{d\boldsymbol{x}_t}{dt} = f(t)\boldsymbol{x}_t + g(t)\boldsymbol{\epsilon}_{\theta}(\boldsymbol{x}_t, t)$$</p>
<p>å…¶ä¸­$f(t), g(t)$æ˜¯ç¡®å®šçš„ç³»æ•°å‡½æ•°ã€‚</p>
<p><strong>å˜é‡æ›¿æ¢</strong>ï¼šå®šä¹‰$\boldsymbol{y}_t = \boldsymbol{x}_t/\alpha_t$ï¼ˆå…¶ä¸­$\alpha_t = e^{\int f(t)dt}$ï¼‰ï¼Œæ–¹ç¨‹å˜ä¸º
$$\frac{d\boldsymbol{y}_t}{dt} = \frac{g(t)}{\alpha_t}\boldsymbol{\epsilon}_{\theta}(\alpha_t\boldsymbol{y}_t, t)$$</p>
<p><strong>ç§¯åˆ†æ±‚è§£</strong>ï¼š
$$\boldsymbol{y}_{t_n} = \boldsymbol{y}_{t_{n+1}} + \int_{t_{n+1}}^{t_n}\frac{g(t)}{\alpha_t}\boldsymbol{\epsilon}_{\theta}(\alpha_t\boldsymbol{y}_t, t)dt$$</p>
<p>å¯¹ç§¯åˆ†éƒ¨åˆ†ç”¨æ•°å€¼æ–¹æ³•ï¼ˆå¦‚Lagrangeæ’å€¼ï¼‰ï¼Œå¾—åˆ°é«˜é˜¶å…¬å¼ã€‚</p>
<p><strong>DPM-Solver-2</strong>ï¼ˆå‰æ–‡å¼$\eqref{eq:dpm-solver-2}$ï¼‰ï¼š
$$\boldsymbol{x}_{t_n} \approx \boldsymbol{x}_{t_{n+1}} - \boldsymbol{v}_{\theta}(\boldsymbol{x}_{\sqrt{t_nt_{n+1}}}, \sqrt{t_nt_{n+1}})(t_{n+1}-t_n)$$</p>
<p>è¿™é‡Œä¸­ç‚¹å–å‡ ä½•å¹³å‡è€Œéç®—æœ¯å¹³å‡ï¼ŒæºäºVPæ‰©æ•£çš„å¯¹æ•°å°ºåº¦æ€§è´¨ã€‚</p>
<p><strong>ä¸AMEDçš„å¯¹æ¯”</strong>ï¼š
- DPM-Solverï¼šåŸºäºæ•°å­¦åˆ†æï¼Œä¸­ç‚¹ä½ç½®ç”±ç†è®ºç¡®å®š
- AMEDï¼šåŸºäºæ•°æ®å­¦ä¹ ï¼Œä¸­ç‚¹ä½ç½®ç”±è®­ç»ƒä¼˜åŒ–
- DPM-Solverï¼šé€‚ç”¨äºç‰¹å®šæ‰©æ•£å½¢å¼ï¼ˆVPï¼‰
- AMEDï¼šæ›´é€šç”¨ï¼Œå¯é€‚åº”ä¸åŒæ‰©æ•£å½¢å¼</p>
<h4 id="83-consistency-models">8.3 ä¸€è‡´æ€§æ¨¡å‹ï¼ˆConsistency Modelsï¼‰</h4>
<p><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šå­¦ä¹ ä¸€ä¸ªå‡½æ•°$f_{\theta}$ï¼Œå°†è½¨è¿¹ä¸Šä»»æ„ç‚¹æ˜ å°„åˆ°èµ·ç‚¹ï¼š
$$f_{\theta}(\boldsymbol{x}_t, t) \approx \boldsymbol{x}_0, \quad \forall t\in[0,T]$$</p>
<p><strong>ä¸€è‡´æ€§æ¡ä»¶</strong>ï¼š
$$f_{\theta}(\boldsymbol{x}_t, t) = f_{\theta}(\boldsymbol{x}_{t'}, t'), \quad \forall t, t'$$</p>
<p>å³åŒä¸€æ¡è½¨è¿¹ä¸Šçš„æ‰€æœ‰ç‚¹æ˜ å°„åˆ°ç›¸åŒçš„$\boldsymbol{x}_0$ã€‚</p>
<p><strong>è®­ç»ƒ</strong>ï¼šé€šè¿‡è’¸é¦é¢„è®­ç»ƒæ‰©æ•£æ¨¡å‹æˆ–ç›´æ¥ä»æ•°æ®è®­ç»ƒã€‚</p>
<p><strong>é‡‡æ ·</strong>ï¼šä¸€æ­¥å³å¯ï¼š$\boldsymbol{x}<em _theta="\theta">0 = f</em>_T, T)$ã€‚}(\boldsymbol{x</p>
<p><strong>ä¼˜ç¼ºç‚¹</strong>ï¼š
- ä¼˜ç‚¹ï¼šé‡‡æ ·æå¿«ï¼ˆ1æ­¥ï¼‰
- ç¼ºç‚¹ï¼šè®­ç»ƒæˆæœ¬é«˜ï¼Œè´¨é‡ç•¥ä½äºå¤šæ­¥æ–¹æ³•</p>
<p><strong>ä¸AMEDçš„å¯¹æ¯”</strong>ï¼š
- Consistency Modelsï¼šæ”¹å˜æ¨¡å‹æ¶æ„å’Œè®­ç»ƒèŒƒå¼
- AMEDï¼šä¿æŒåŸæ¨¡å‹ï¼Œä»…ä¼˜åŒ–é‡‡æ ·å™¨
- Consistency Modelsï¼š1æ­¥é‡‡æ ·
- AMEDï¼šä»éœ€å¤šæ­¥ï¼ˆ5-10æ­¥ï¼‰ï¼Œä½†æ¯æ­¥æ›´ä¼˜</p>
<h4 id="84">8.4 å®šé‡å¯¹æ¯”</h4>
<p>åŸºäºåŸè®ºæ–‡Table 2ï¼Œåœ¨CIFAR-10ä¸Šï¼ˆ32Ã—32å›¾åƒï¼‰ï¼š</p>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>NFE=5</th>
<th>NFE=9</th>
<th>NFE=13</th>
</tr>
</thead>
<tbody>
<tr>
<td>DDIM (1é˜¶)</td>
<td>67.82</td>
<td>38.59</td>
<td>25.50</td>
</tr>
<tr>
<td>DPM-Solver (2é˜¶)</td>
<td>79.16</td>
<td>21.75</td>
<td>14.34</td>
</tr>
<tr>
<td>Heun/EDM (2é˜¶)</td>
<td>75.12</td>
<td>17.43</td>
<td>11.28</td>
</tr>
<tr>
<td>AMED (2é˜¶+å­¦ä¹ )</td>
<td><strong>16.70</strong></td>
<td><strong>8.94</strong></td>
<td><strong>7.12</strong></td>
</tr>
</tbody>
</table>
<p>ï¼ˆæ•°å€¼ä¸ºFIDï¼Œè¶Šä½è¶Šå¥½ï¼‰</p>
<p><strong>å…³é”®è§‚å¯Ÿ</strong>ï¼š
1. NFE=5æ—¶ï¼Œ2é˜¶æ–¹æ³•ï¼ˆDPMã€Heunï¼‰ç”šè‡³ä¸å¦‚1é˜¶DDIMï¼Œå› ä¸ºæ­¥é•¿å¤ªå¤§
2. AMEDåœ¨æ‰€æœ‰NFEä¸‹éƒ½æ˜¾è‘—ä¼˜äºå…¶ä»–æ–¹æ³•
3. NFEä»9é™åˆ°5ï¼ŒAMEDçš„FIDä»…å¢åŠ 87%ï¼Œè€ŒHeunå¢åŠ 331%</p>
<p>è¿™æ˜¾ç¤ºAMEDåœ¨ä½NFEåŒºé—´çš„ä¼˜åŠ¿ã€‚</p>
<h3 id="9">9. æ‰©æ•£æ¨¡å‹è½¨è¿¹çš„å‡ ä½•æ€§è´¨</h3>
<h4 id="91-pca">9.1 ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰</h4>
<p>åŸè®ºæ–‡å¯¹æ‰©æ•£è½¨è¿¹è¿›è¡ŒPCAï¼ŒéªŒè¯ä¸­å€¼å®šç†è¿‘ä¼¼æˆç«‹çš„æ¡ä»¶ã€‚</p>
<p><strong>è®¾ç½®</strong>ï¼š
- ç”¨é«˜ç²¾åº¦solverï¼ˆNFE=1000ï¼‰é‡‡æ ·å¾—åˆ°è½¨è¿¹${\boldsymbol{x}<em t_1="t_1">{t_0}, \boldsymbol{x}</em>}, \ldots, \boldsymbol{x<em t_i="t_i">{t_N}}$
- æ¯ä¸ª$\boldsymbol{x}</em>^d$ï¼ˆå¦‚CIFAR-10ï¼Œ$d=32\times32\times3=3072$ï¼‰
- å¯¹è½¨è¿¹ç‚¹åšPCAï¼Œåˆ†æä¸»æˆåˆ†çš„è´¡çŒ®}\in\mathbb{R</p>
<p><strong>æ•°å­¦æè¿°</strong>ï¼šè®¾è½¨è¿¹çŸ©é˜µä¸º$\boldsymbol{X} = [\boldsymbol{x}<em t_N="t_N">{t_0}, \ldots, \boldsymbol{x}</em>$ï¼Œä¸­å¿ƒåŒ–åï¼š
$$\tilde{\boldsymbol{X}} = \boldsymbol{X} - \frac{1}{N+1}\sum_{i=0}^N \boldsymbol{x}_{t_i}$$}]^T \in\mathbb{R}^{(N+1)\times d</p>
<p>åæ–¹å·®çŸ©é˜µï¼š
$$\boldsymbol{C} = \frac{1}{N}\tilde{\boldsymbol{X}}^T\tilde{\boldsymbol{X}} \in\mathbb{R}^{d\times d}$$</p>
<p>ç‰¹å¾å€¼åˆ†è§£ï¼š$\boldsymbol{C} = \boldsymbol{U}\boldsymbol{\Lambda}\boldsymbol{U}^T$ï¼Œå…¶ä¸­$\boldsymbol{\Lambda} = \text{diag}(\lambda_1, \ldots, \lambda_d)$ï¼Œ$\lambda_1 \geq \lambda_2 \geq \cdots \geq \lambda_d$ã€‚</p>
<p><strong>ç¬¬kä¸»æˆåˆ†çš„è´¡çŒ®ç‡</strong>ï¼š
$$r_k = \frac{\lambda_k}{\sum_{i=1}^d\lambda_i}$$</p>
<p><strong>ç´¯ç§¯è´¡çŒ®ç‡</strong>ï¼š
$$R_K = \frac{\sum_{k=1}^K\lambda_k}{\sum_{i=1}^d\lambda_i}$$</p>
<p>$R_K$è¡¨ç¤ºå‰$K$ä¸ªä¸»æˆåˆ†ä¿ç•™çš„æ–¹å·®æ¯”ä¾‹ã€‚</p>
<h4 id="92">9.2 å®éªŒç»“æœ</h4>
<p>æ ¹æ®åŸè®ºæ–‡Figureï¼ˆæ‰©æ•£ODEé‡‡æ ·è½¨è¿¹çš„ä¸»æˆåˆ†åˆ†æï¼‰ï¼š</p>
<p><strong>è§‚å¯Ÿ</strong>ï¼š
1. <strong>ç¬¬1ä¸»æˆåˆ†</strong>ï¼š$r_1 \approx 95\%$ï¼Œå³ç¬¬1ä¸ªä¸»æˆåˆ†è§£é‡Šäº†95%çš„æ–¹å·®
2. <strong>å‰2ä¸»æˆåˆ†</strong>ï¼š$R_2 \approx 99\%$ï¼Œå‰2ä¸ªä¸»æˆåˆ†å‡ ä¹è§£é‡Šäº†å…¨éƒ¨æ–¹å·®
3. <strong>åç»­ä¸»æˆåˆ†</strong>ï¼š$r_k &lt; 1\%$ï¼Œ$k\geq 3$ï¼Œè´¡çŒ®æå°</p>
<p><strong>ç»“è®º</strong>ï¼šæ‰©æ•£è½¨è¿¹è¿‘ä¼¼ä½äºä¸€ä¸ª<strong>2ç»´å­ç©ºé—´</strong>ä¸­ï¼Œç”šè‡³éå¸¸æ¥è¿‘<strong>1ç»´ç›´çº¿</strong>ã€‚</p>
<h4 id="93">9.3 ç†è®ºè§£é‡Š</h4>
<p><strong>ä¸ºä½•è½¨è¿¹æ¥è¿‘ç›´çº¿ï¼Ÿ</strong></p>
<p>å›é¡¾æ‰©æ•£æ¨¡å‹çš„æ„é€ ï¼ˆè§æ–‡ç« æåˆ°çš„ï¼ˆåäº”ï¼‰ã€ï¼ˆåä¸ƒï¼‰ç¯‡ï¼‰ï¼š</p>
<p><strong>ä¼ªè½¨è¿¹</strong>ï¼šæ„é€ æ‰©æ•£ODEæ—¶ï¼Œé€šå¸¸è®¾è®¡ä¼ªè½¨è¿¹ä¸º
$$\boldsymbol{x}_t^{\text{pseudo}} = \alpha(t)\boldsymbol{x}_0 + \beta(t)\boldsymbol{x}_T$$</p>
<p>å…¶ä¸­$\alpha(t), \beta(t)$æ˜¯æ—¶é—´çš„æ ‡é‡å‡½æ•°ï¼Œæ»¡è¶³è¾¹ç•Œæ¡ä»¶$\alpha(0)=1, \beta(0)=0, \alpha(T)=0, \beta(T)=1$ã€‚</p>
<p><strong>çº¿æ€§æ’å€¼æ€§è´¨</strong>ï¼šå¯¹äºå›ºå®šçš„$\boldsymbol{x}_0, \boldsymbol{x}_T$ï¼Œä¼ªè½¨è¿¹æ˜¯è¿æ¥ä¸¤ç‚¹çš„ç›´çº¿ï¼ˆå‚æ•°åŒ–å¯èƒ½éçº¿æ€§ï¼Œä½†è½¨è¿¹æœ¬èº«æ˜¯ç›´çº¿ï¼‰ã€‚</p>
<p><strong>çœŸå®è½¨è¿¹</strong>ï¼šæ‰©æ•£ODEçš„è®¾è®¡ç›®æ ‡æ˜¯ä½¿çœŸå®è½¨è¿¹æ¥è¿‘ä¼ªè½¨è¿¹ï¼Œå› æ­¤çœŸå®è½¨è¿¹ä¹Ÿå€¾å‘äºæ¥è¿‘ç›´çº¿ã€‚</p>
<p><strong>æ•°å­¦è¡¨è¿°</strong>ï¼šè®¾$\boldsymbol{d} = \boldsymbol{x}_0 - \boldsymbol{x}_T$ä¸ºæ–¹å‘å‘é‡ï¼Œåˆ™
$$\boldsymbol{x}_t \approx \boldsymbol{x}_T + \gamma(t)\boldsymbol{d}$$</p>
<p>å…¶ä¸­$\gamma(t):[0,T]\to[0,1]$æ˜¯å•è°ƒå‡½æ•°ï¼Œ$\gamma(0)=1, \gamma(T)=0$ã€‚</p>
<p>æ‰€æœ‰ç‚¹éƒ½åœ¨å‘é‡$\boldsymbol{d}$å¼ æˆçš„1ç»´å­ç©ºé—´ä¸­ï¼ˆåŠ ä¸Šåç§»$\boldsymbol{x}_T$ï¼‰ã€‚</p>
<h4 id="94-amed">9.4 å¯¹AMEDçš„å¯ç¤º</h4>
<p><strong>ä¸­å€¼å®šç†æˆç«‹çš„æ¡ä»¶</strong>ï¼šè½¨è¿¹è¶Šæ¥è¿‘ç›´çº¿ï¼Œå‘é‡å€¼å‡½æ•°çš„ç§¯åˆ†ä¸­å€¼å®šç†è¶Šæ¥è¿‘æˆç«‹ã€‚</p>
<p><strong>PCAç»“æœçš„æ”¯æŒ</strong>ï¼š$R_1 \approx 95\%$è¯´æ˜è½¨è¿¹ä¸»è¦åœ¨1ç»´å­ç©ºé—´ä¸­ï¼Œå› æ­¤ä¸­å€¼å®šç†è¿‘ä¼¼æˆç«‹ï¼ŒAMEDçš„ç†è®ºåŸºç¡€å¾—åˆ°éªŒè¯ã€‚</p>
<p><strong>æ­¥é•¿çš„å½±å“</strong>ï¼š
- æ­¥é•¿å°æ—¶ï¼Œå±€éƒ¨è½¨è¿¹æ›´æ¥è¿‘ç›´çº¿ï¼Œè¿‘ä¼¼æ›´å¥½
- æ­¥é•¿å¤§æ—¶ï¼Œæ›²ç‡æ•ˆåº”æ˜¾ç°ï¼Œè¿‘ä¼¼è¯¯å·®å¢å¤§
- è¿™è§£é‡Šäº†ä¸ºä½•AMEDåœ¨NFE=5æ—¶ä¼˜åŠ¿æœ€æ˜æ˜¾ï¼ˆæ­¥é•¿å¤§ï¼Œä¼ ç»Ÿæ–¹æ³•è¯¯å·®å¤§ï¼ŒAMEDé€šè¿‡å­¦ä¹ $s_n$èƒ½æ›´å¥½è¡¥å¿ï¼‰</p>
<h3 id="10">10. æ€»ç»“ä¸å±•æœ›</h3>
<h4 id="101">10.1 ä¸»è¦æ–¹æ³•å¯¹æ¯”æ€»ç»“</h4>
<table>
<thead>
<tr>
<th>æ–¹æ³•ç±»å‹</th>
<th>ä»£è¡¨æ–¹æ³•</th>
<th>é˜¶æ•°</th>
<th>NFE/æ­¥</th>
<th>ä¼˜ç‚¹</th>
<th>ç¼ºç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>1é˜¶æ–¹æ³•</td>
<td>DDIM/æ¬§æ‹‰</td>
<td>1</td>
<td>1</td>
<td>ç®€å•å¿«é€Ÿ</td>
<td>ç²¾åº¦ä½ï¼Œéœ€å¤šæ­¥</td>
</tr>
<tr>
<td>2é˜¶æ–¹æ³•</td>
<td>Heun/æ¢¯å½¢</td>
<td>2</td>
<td>2</td>
<td>ç²¾åº¦æå‡æ˜¾è‘—</td>
<td>ä»éœ€è¾ƒå¤šæ­¥æ•°</td>
</tr>
<tr>
<td>é«˜é˜¶æ–¹æ³•</td>
<td>RK4</td>
<td>4</td>
<td>4</td>
<td>ç²¾åº¦é«˜</td>
<td>NFEå¼€é”€å¤§</td>
</tr>
<tr>
<td>åˆ†ææ–¹æ³•</td>
<td>DPM-Solver</td>
<td>2-3</td>
<td>1-2</td>
<td>åˆ©ç”¨æ‰©æ•£ç»“æ„</td>
<td>é™äºç‰¹å®šå½¢å¼</td>
</tr>
<tr>
<td>è’¸é¦æ–¹æ³•</td>
<td>Consistency</td>
<td>-</td>
<td>1</td>
<td>é‡‡æ ·æå¿«</td>
<td>è®­ç»ƒæˆæœ¬æé«˜</td>
</tr>
<tr>
<td>æ··åˆæ–¹æ³•</td>
<td>AMED</td>
<td>2+</td>
<td>2</td>
<td>ä½NFEä¸‹æœ€ä¼˜</td>
<td>éœ€è½»é‡è®­ç»ƒ</td>
</tr>
</tbody>
</table>
<h4 id="102">10.2 ç†è®ºè¦ç‚¹å›é¡¾</h4>
<ol>
<li>
<p><strong>å±€éƒ¨vså…¨å±€è¯¯å·®</strong>ï¼šå±€éƒ¨$p+1$é˜¶æ–¹æ³•çš„å…¨å±€è¯¯å·®ä¸º$\mathcal{O}(h^p)$</p>
</li>
<li>
<p><strong>NFEä¸æ­¥æ•°</strong>ï¼š$\text{æ€»NFE} = \text{æ­¥æ•°} \times \text{æ¯æ­¥NFE}$ï¼Œé«˜é˜¶æ–¹æ³•é€šè¿‡å‡å°‘æ­¥æ•°é™ä½æ€»NFE</p>
</li>
<li>
<p><strong>ä¸­å€¼å®šç†</strong>ï¼šå‘é‡å€¼å‡½æ•°çš„ç§¯åˆ†ä¸­å€¼å®šç†åœ¨è½¨è¿¹æ¥è¿‘ç›´çº¿æ—¶è¿‘ä¼¼æˆç«‹</p>
</li>
<li>
<p><strong>PCAåˆ†æ</strong>ï¼šæ‰©æ•£è½¨è¿¹ä¸»è¦åœ¨ä½ç»´ï¼ˆ1-2ç»´ï¼‰å­ç©ºé—´ä¸­ï¼Œæ”¯æŒä¸­å€¼å®šç†è¿‘ä¼¼</p>
</li>
<li>
<p><strong>æ­¥é•¿ç­–ç•¥</strong>ï¼š</p>
</li>
<li>å›ºå®šæ­¥é•¿ï¼šå®ç°ç®€å•ï¼Œå¯é¢„æµ‹</li>
<li>è‡ªé€‚åº”æ­¥é•¿ï¼šç²¾åº¦æ›´é«˜ï¼Œä½†å¤æ‚</li>
<li>æ‰©æ•£æ¨¡å‹å¤šç”¨å›ºå®šèŠ‚ç‚¹ï¼ˆé€šè¿‡è¶…å‚æ•°ä¼˜åŒ–ï¼‰</li>
</ol>
<h4 id="103">10.3 å®è·µå»ºè®®</h4>
<p><strong>é€‰æ‹©é‡‡æ ·å™¨çš„åŸåˆ™</strong>ï¼š</p>
<ol>
<li><strong>æä½NFEï¼ˆ&lt;5ï¼‰</strong>ï¼š</li>
<li>é¦–é€‰AMEDæˆ–è’¸é¦æ–¹æ³•</li>
<li>æ¬§æ‹‰æ³•åŸºæœ¬ä¸å¯ç”¨</li>
<li>
<p>2é˜¶æ–¹æ³•æ•ˆæœæœ‰é™</p>
</li>
<li>
<p><strong>ä½NFEï¼ˆ5-10ï¼‰</strong>ï¼š</p>
</li>
<li>AMEDè¡¨ç°æœ€ä½³</li>
<li>Heun/EDMæ˜¯Training-freeçš„å¥½é€‰æ‹©</li>
<li>
<p>DPM-Solverå¯¹VPæ‰©æ•£å¾ˆæœ‰æ•ˆ</p>
</li>
<li>
<p><strong>ä¸­ç­‰NFEï¼ˆ10-50ï¼‰</strong>ï¼š</p>
</li>
<li>Heun/EDMå·²ç»è¶³å¤Ÿå¥½</li>
<li>é«˜é˜¶æ–¹æ³•ï¼ˆRK4ï¼‰å¯èƒ½è¿‡åº¦</li>
<li>
<p>è‡ªé€‚åº”æ­¥é•¿å¯è€ƒè™‘</p>
</li>
<li>
<p><strong>é«˜NFEï¼ˆ&gt;50ï¼‰</strong>ï¼š</p>
</li>
<li>æ¬§æ‹‰æ³•å·²ç»æ”¶æ•›</li>
<li>æ— éœ€å¤æ‚æ–¹æ³•</li>
</ol>
<p><strong>è®­ç»ƒæˆæœ¬è€ƒè™‘</strong>ï¼š
- AMEDï¼šå‡ å°æ—¶ï¼ˆå¯æ¥å—ï¼‰
- Progressive Distillationï¼šæ•°å¤©ï¼ˆè¾ƒé«˜ï¼‰
- Consistency Modelsï¼šæ•°å‘¨ï¼ˆå¾ˆé«˜ï¼‰</p>
<p><strong>åº”ç”¨åœºæ™¯</strong>ï¼š
- <strong>å®æ—¶åº”ç”¨</strong>ï¼ˆå¦‚äº¤äº’å¼ç¼–è¾‘ï¼‰ï¼šéœ€è¦NFE&lt;10ï¼Œé€‰AMEDæˆ–è’¸é¦
- <strong>æ‰¹é‡ç”Ÿæˆ</strong>ï¼ˆå¦‚æ•°æ®é›†ç”Ÿæˆï¼‰ï¼šå¯ç”¨NFE=20-50ï¼Œé€‰Heun
- <strong>ç ”ç©¶è¯„ä¼°</strong>ï¼šå¯ç”¨NFE=100+ï¼Œé€‰æ¬§æ‹‰æ³•å³å¯</p>
<h4 id="104">10.4 æœªæ¥æ–¹å‘</h4>
<p><strong>ç†è®ºæ–¹å‘</strong>ï¼š
1. æ›´æ·±å…¥ç†è§£æ‰©æ•£è½¨è¿¹çš„å‡ ä½•æ€§è´¨ï¼ˆä¸ºä½•è¿‘ä¼¼ç›´çº¿ï¼Ÿï¼‰
2. ä¸¥æ ¼çš„è¯¯å·®ç•Œå’Œæ”¶æ•›æ€§è¯æ˜
3. å‘é‡å€¼ä¸­å€¼å®šç†çš„å……è¦æ¡ä»¶</p>
<p><strong>æ–¹æ³•æ–¹å‘</strong>ï¼š
1. ç»“åˆAMEDæ€æƒ³ä¸DPM-Solverçš„åˆ†æç»“æ„
2. å¯å­¦ä¹ çš„é«˜é˜¶æ–¹æ³•ï¼ˆ3é˜¶ã€4é˜¶ï¼‰
3. å¤šæ¨¡æ€é‡‡æ ·å™¨ï¼ˆä¸åŒé˜¶æ®µç”¨ä¸åŒæ–¹æ³•ï¼‰</p>
<p><strong>åº”ç”¨æ–¹å‘</strong>ï¼š
1. è§†é¢‘æ‰©æ•£æ¨¡å‹çš„åŠ é€Ÿï¼ˆæ—¶ç©ºODEï¼‰
2. 3Dæ‰©æ•£æ¨¡å‹çš„åŠ é€Ÿï¼ˆé«˜ç»´ODEï¼‰
3. æ¡ä»¶ç”Ÿæˆçš„ä¸“ç”¨é‡‡æ ·å™¨</p>
<h4 id="105">10.5 å…³é”®æ•°å­¦å·¥å…·æ€»ç»“</h4>
<p>æœ¬æ–‡æ¶‰åŠçš„æ ¸å¿ƒæ•°å­¦å·¥å…·ï¼š</p>
<ol>
<li><strong>å¾®ç§¯åˆ†</strong>ï¼šTaylorå±•å¼€ã€ä¸­å€¼å®šç†ã€ç§¯åˆ†</li>
<li><strong>æ•°å€¼åˆ†æ</strong>ï¼šæœ‰é™å·®åˆ†ã€Runge-Kuttaæ–¹æ³•ã€è¯¯å·®åˆ†æ</li>
<li><strong>çº¿æ€§ä»£æ•°</strong>ï¼šPCAã€ç‰¹å¾å€¼åˆ†è§£ã€èŒƒæ•°</li>
<li><strong>ä¼˜åŒ–ç†è®º</strong>ï¼šæ¢¯åº¦ä¸‹é™ã€æŸå¤±å‡½æ•°è®¾è®¡</li>
<li><strong>å¾®åˆ†æ–¹ç¨‹</strong>ï¼šODEç†è®ºã€ç¨³å®šæ€§åˆ†æã€Lipschitzæ¡ä»¶</li>
</ol>
<p>è¿™äº›å·¥å…·çš„ç»¼åˆåº”ç”¨å±•ç°äº†ç°ä»£æœºå™¨å­¦ä¹ ä¸ç»å…¸æ•°å­¦çš„æ·±åº¦èåˆã€‚</p>
<hr />
<p><strong>é™„æ³¨</strong>ï¼šä»¥ä¸Šæ¨å¯¼å±•ç¤ºäº†ä»åŸºç¡€çš„å¾®ç§¯åˆ†ä¸­å€¼å®šç†åˆ°å…ˆè¿›çš„æ‰©æ•£æ¨¡å‹é‡‡æ ·åŠ é€Ÿçš„å®Œæ•´ç†è®ºè„‰ç»œã€‚é€šè¿‡æ•°å€¼åˆ†æã€å¾®åˆ†æ–¹ç¨‹å’Œæœºå™¨å­¦ä¹ çš„äº¤å‰è§†è§’ï¼Œæˆ‘ä»¬ä¸ä»…ç†è§£äº†å„ç§æ–¹æ³•çš„åŸç†ï¼Œä¹Ÿçœ‹åˆ°äº†AMEDç­‰åˆ›æ–°æ–¹æ³•å¦‚ä½•å·§å¦™åœ°ç»“åˆæ•°å­¦æ´å¯Ÿä¸æ•°æ®é©±åŠ¨ä¼˜åŒ–ã€‚è¿™æ­£æ˜¯å½“ä»£AIç ”ç©¶çš„é­…åŠ›æ‰€åœ¨ï¼šæ·±åšçš„æ•°å­¦åŸºç¡€ä¸çµæ´»çš„å·¥ç¨‹å®è·µç›¸è¾…ç›¸æˆï¼Œæ¨åŠ¨æŠ€æœ¯ä¸æ–­è¿›æ­¥ã€‚</p>
        </div>
    </div>
</body>
</html>