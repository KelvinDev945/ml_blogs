<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lion/Tigerä¼˜åŒ–å™¨è®­ç»ƒä¸‹çš„Embeddingå¼‚å¸¸å’Œå¯¹ç­–</title>
    <style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    line-height: 1.6; color: #333; max-width: 900px; margin: 0 auto; padding: 20px; background: #f5f5f5;
}
.container { background: white; padding: 40px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
header { border-bottom: 2px solid #e0e0e0; padding-bottom: 20px; margin-bottom: 30px; }
h1 { color: #2c3e50; margin-bottom: 10px; font-size: 2em; }
.meta { color: #666; font-size: 0.9em; margin-bottom: 20px; }
.content { margin-top: 30px; overflow-wrap: break-word; }
.content h2 { color: #34495e; margin-top: 30px; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
.content p { margin-bottom: 15px; }
.content pre { background: #f8f8f8; padding: 15px; border-radius: 5px; overflow-x: auto; border-left: 3px solid #3498db; margin: 15px 0; }
.content code { background: #f8f8f8; padding: 2px 5px; border-radius: 3px; font-family: monospace; font-size: 0.9em; }
.content blockquote { border-left: 4px solid #3498db; padding-left: 20px; margin: 20px 0; color: #555; font-style: italic; }
.content table { border-collapse: collapse; width: 100%; margin: 20px 0; }
.content th, .content td { border: 1px solid #ddd; padding: 10px; text-align: left; }
.back-link { display: inline-block; margin-bottom: 20px; color: #3498db; text-decoration: none; font-weight: 500; }
</style>
    
<script>
    window.MathJax = {
        tex: {
            inlineMath: [['$', '$'], ['\(', '\)']],
            displayMath: [['$$', '$$'], ['\[', '\]']],
            processEscapes: true
        }
    };
</script>
<script id="MathJax-script" async src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>
<body>
    <div class="container">
        <a href="../index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
        <header>
            <h1>Lion/Tigerä¼˜åŒ–å™¨è®­ç»ƒä¸‹çš„Embeddingå¼‚å¸¸å’Œå¯¹ç­–</h1>
            <div class="meta">ğŸ“… æœ€åæ›´æ–°: 2025-11-26 | ğŸ“„ å¤§å°: 26.7 KB</div>
        </header>
        <div class="content">
            <p><strong>åŸæ–‡é“¾æ¥</strong>: <a href="https://spaces.ac.cn/archives/9736">https://spaces.ac.cn/archives/9736</a></p>
<p><strong>å‘å¸ƒæ—¥æœŸ</strong>: </p>
<hr />
<p>æ‰“ä»åœ¨<a href="/archives/9512">ã€ŠTigerï¼šä¸€ä¸ªâ€œæŠ â€åˆ°æè‡´çš„ä¼˜åŒ–å™¨ã€‹</a>æå‡ºäº†Tigerä¼˜åŒ–å™¨ä¹‹åï¼ŒTigerå°±ä¸€ç›´æˆä¸ºäº†æˆ‘è®­ç»ƒæ¨¡å‹çš„â€œæ ‡é…â€ä¼˜åŒ–å™¨ã€‚æœ€è¿‘ç¬”è€…å·²ç»å°è¯•å°†Tigerç”¨åˆ°äº†70äº¿å‚æ•°æ¨¡å‹çš„é¢„è®­ç»ƒä¹‹ä¸­ï¼Œå‰æœŸæ•ˆæœçœ‹ä¸Šæ¥å°šå¯ï¼Œåˆæ­¥è¯´æ˜Tigerä¹Ÿæ˜¯èƒ½Scale Upçš„ã€‚ä¸è¿‡ï¼Œåœ¨æŸ¥çœ‹è®­ç»ƒå¥½çš„æ¨¡å‹æƒé‡æ—¶ï¼Œç¬”è€…å‘ç°Embeddingå‡ºç°äº†ä¸€äº›å¼‚å¸¸å€¼ï¼Œæœ‰äº›Embeddingçš„åˆ†é‡è¾¾åˆ°äº†$\pm 100$çš„çº§åˆ«ã€‚</p>
<p>ç»è¿‡åˆ†æï¼Œç¬”è€…å‘ç°ç±»ä¼¼ç°è±¡å¹¶ä¸ä¼šåœ¨Adamä¸­å‡ºç°ï¼Œè¿™æ˜¯Tigeræˆ–è€…Lionè¿™ç§å¸¦ç¬¦å·å‡½æ•°$\text{sign}$çš„ä¼˜åŒ–å™¨ç‰¹æœ‰çš„é—®é¢˜ï¼Œå¯¹æ­¤æ–‡æœ«æä¾›äº†ä¸¤ç§å‚è€ƒè§£å†³æ–¹æ¡ˆã€‚æœ¬æ–‡å°†è®°å½•ç¬”è€…çš„åˆ†æè¿‡ç¨‹ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚</p>
<h2 id="_1">ç°è±¡</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çš„åˆ†æéƒ½ä»¥Tigerä¼˜åŒ–å™¨ä¸ºä¾‹ï¼Œä½†åˆ†æè¿‡ç¨‹å’Œç»“è®ºåŒæ ·é€‚ç”¨äºLionã€‚</p>
<p>é¦–å…ˆï¼Œç¬”è€…è§‚å¯Ÿåˆ°çš„ç°è±¡æ˜¯ï¼š</p>
<blockquote>
<p>1ã€éƒ¨åˆ†Tokençš„Embeddingåˆ†é‡å˜æˆäº†$\pm 100$ï¼›</p>
<p>2ã€è¿˜æœ‰ä¸€å°éƒ¨åˆ†Tokençš„Embeddingåˆ†é‡æ­£åœ¨è¶‹äº$\pm 100$ï¼›</p>
<p>3ã€è¿™äº›tokençœ‹ä¸Šå»éƒ½æ˜¯ç›¸å½“ä½é¢‘çš„tokenï¼›</p>
<p>4ã€æ•´ä¸ªEmbeddingçŸ©é˜µçš„æœ€å¤§å€¼å°±æ˜¯100ï¼Œæœ€å°å€¼å°±æ˜¯-100ï¼›</p>
<p>5ã€é™¤Embeddingå¤–ï¼Œå…¶ä»–æƒé‡æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼›</p>
<p>6ã€æ¨¡å‹çš„æ€»ä½“è¡¨ç°ï¼ˆæ¯”å¦‚è®­ç»ƒLossã€ç”Ÿæˆæµ‹è¯•ï¼‰éƒ½æ­£å¸¸ã€‚</p>
</blockquote>
<p>å¯èƒ½æœ‰è¯»è€…æƒ³é—®ï¼Œæ—¢ç„¶æ¨¡å‹è¡¨ç°æ­£å¸¸ï¼Œé‚£è¿˜ç®¡å®ƒå¹²å˜›å‘¢ï¼Ÿåœ¨ç¬”è€…çœ‹æ¥ï¼Œè‡³å°‘æœ‰ä¸¤æ–¹é¢çš„åŸå› ï¼šç¬¬ä¸€ï¼Œå¦‚æœåé¢æƒ³è¦å¾®è°ƒï¼Œæœ‰å¯èƒ½æŸäº›ä½é¢‘Tokené‡æ–°å˜å¾—é«˜é¢‘ï¼Œå¦‚æœè¿™äº›Tokençš„Embeddingå¤ªç³Ÿç³•ï¼Œé‚£ä¹ˆå¾®è°ƒä¹Ÿæ•‘ä¸å›æ¥ï¼›ç¬¬äºŒï¼Œæœ‰äº›èƒ½åŠ›åœ¨Lossä½“ç°ä¸å‡ºæ¥ï¼Œæ¯”å¦‚ä¸­è‹±çš„é¢„è®­ç»ƒæ¨¡å‹ï¼Œé€šå¸¸å› ä¸ºè®­ç»ƒè¯­æ–™å¤¹æ‚ç€éå¸¸å°‘çš„å¤šè¯­ç§è¯­æ–™ï¼Œå°±ä½“ç°å‡ºä¸€å®šçš„å¤šè¯­ç§èƒ½åŠ›ï¼Œå¾ˆæ˜æ˜¾è¿™ç§èƒ½åŠ›ä¾èµ–äºä½é¢‘Tokençš„Embeddingè´¨é‡ï¼Œå¦‚æœè¢«ä¼˜åŒ–å™¨æ‰€è¿ç´¯è€Œå¤±å»è¿™ç§èƒ½åŠ›ï¼Œå°±â€œäºå¤§å‘â€äº†ã€‚</p>
<p>å½“ç„¶ï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆä¼˜åŒ–å™¨ï¼Œéƒ½æœ‰å¯èƒ½è®­ç€è®­ç€å°±æŠŠæ¨¡å‹è®­å´©äº†ï¼Œè¿™å¹¶ä¸è®©äººæ„å¤–ï¼Œå¾ˆå¤šæ—¶å€™ä¹Ÿéš¾ä»¥æ·±ç©¶ã€‚ä½†è¿™é‡Œæœ€è€äººå¯»å‘³çš„åœ°æ–¹æ˜¯â€œå´©â€å¾—è¿™ä¹ˆæœ‰è§„å¾‹â€”â€”åˆšå¥½æ˜¯æ•´é½çš„$\pm 100$ï¼Œè¿™ä¸èƒ½ä¸è®©ç¬”è€…æƒ³è¦è¿›ä¸€æ­¥æ‰¾å‡ºå®ƒèƒŒåçš„åŸå› ã€‚</p>
<h2 id="_2">æ€è€ƒ</h2>
<p>æ ¹æ®ä»¥ä¸Šè§‚å¯Ÿç»“æœï¼Œåˆæ­¥å¯ä»¥å¾—å‡ºè¿™äº›å¼‚å¸¸å€¼åªå‡ºç°åœ¨â€œä½é¢‘Tokençš„Embeddingâ€ä¸Šï¼Œè¿™è®©ç¬”è€…ä¸ç¦è”æƒ³åˆ°<a href="/archives/6869#LazyOptimizer">ã€ŠKeraså®ç°ä¸¤ä¸ªä¼˜åŒ–å™¨ï¼šLookaheadå’ŒLazyOptimizerã€‹</a>è®¨è®ºè¿‡çš„å¸¦åŠ¨é‡çš„ä¼˜åŒ–å™¨ä¼šå¯¼è‡´Embeddingå±‚è¿‡åº¦ä¼˜åŒ–é—®é¢˜ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œåªè¦ä¸€ä¸ªtokenå‡ºç°è¿‡ï¼Œé‚£ä¹ˆè¯¥tokençš„Embeddingå¯¹åº”çš„åŠ¨é‡å°±è¢«æ›´æ–°ä¸ºéé›¶ï¼ˆå‡è®¾è¯¥tokençš„æ¢¯åº¦ä¸ä¼šæ­£å¥½æ˜¯é›¶ï¼‰ï¼Œäºæ˜¯åœ¨åé¢çš„æ›´æ–°ä¸­ï¼Œå³ä¾¿å½“å‰æ ·æœ¬æ²¡æœ‰å‡ºç°è¿‡è¯¥tokenï¼ˆæ¢¯åº¦ä¸ºé›¶ï¼‰ï¼Œä½†è¯¥tokençš„Embeddingä¾ç„¶ä¼šè¢«æ›´æ–°ï¼ˆåŠ¨é‡ä¸ä¸ºé›¶ï¼‰ï¼Œè¿™å°±æ˜¯ä½é¢‘tokençš„è¿‡åº¦ä¼˜åŒ–é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜ä¼šå‡ºç°åœ¨æ‰€æœ‰å¸¦åŠ¨é‡çš„ä¼˜åŒ–å™¨ä¸­ï¼ŒåŒ…æ‹¬Adamå’ŒTigerï¼Œä¸è¿‡åœ¨Adamä¸­ï¼Œè¿™å¯èƒ½ä¸ä¼šæœ‰æ˜æ˜¾æ„ŸçŸ¥ï¼Œå› ä¸ºAdamçš„æ›´æ–°é‡è·ŸåŠ¨é‡æˆæ­£æ¯”ï¼Œå¦‚æœä¸€ä¸ªtokené•¿æœŸä¸é‡å¤å‡ºç°ï¼Œé‚£ä¹ˆåŠ¨é‡å°±ä¼šæŒ‡æ•°ä¸‹é™ï¼Œæ‰€ä»¥å¾ˆå¿«å°±è¶‹äºé›¶äº†ï¼Œæ¢å¥è¯è¯´æ›´æ–°é‡ä¹Ÿå¾ˆå¿«è¶‹äºé›¶ï¼Œå³è¿‡åº¦æ›´æ–°å¾ˆå¿«å°±ä¼šæ¶ˆå¤±ã€‚</p>
<p>ç„¶è€Œï¼Œåœ¨Tigerä¸­æƒ…å†µæœ‰ç‚¹ä¸ä¸€æ ·ã€‚Tigerçš„æ›´æ–°é‡æ˜¯è·ŸåŠ¨é‡çš„ç¬¦å·å‡½æ•°$\text{sign}(\boldsymbol{m}_t)$æˆæ­£æ¯”ï¼Œå°½ç®¡åŠ¨é‡$\boldsymbol{m}_t$ä¼šæŒ‡æ•°ä¸‹é™ï¼Œä½†ç¬¦å·å‡½æ•°ä¸ä¼šï¼Œåœ¨$\boldsymbol{m}_t$ç”±äºèˆå…¥è¯¯å·®å˜æˆ0ä¹‹å‰ï¼Œ$\text{sign}(\boldsymbol{m}_t)$éƒ½ä¿æŒ$\pm 1$çš„å€¼ä¸å˜ï¼Œä¹Ÿå°±æ˜¯æ›´æ–°é‡ä¸€ç›´éƒ½æ˜¯å¸¸æ•°ï¼Œæ‰€ä»¥Tigerçš„Embeddingè¿‡åº¦æ›´æ–°é—®é¢˜æ›´åŠ ä¸¥é‡ã€‚â€œå±‹æ¼åé€¢è¿å¤œé›¨â€çš„æ˜¯ï¼Œä¸€ä¸ªtokençš„Embeddingç”±äºè¿‡åº¦æ›´æ–°åå‘äº†æŸä¸ªæ–¹å‘ä¹‹åï¼Œå®ƒçš„æ¢¯åº¦å¯èƒ½ä¼šé€‚åº”å¹¶åŠ©é•¿è¿™ç§å˜åŒ–ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸‹ä¸€æ¬¡å®ƒå‡ºç°æ—¶çš„æ¢¯åº¦æ˜¯åŒä¸€æ–¹å‘è€Œä¸æ˜¯ç›¸åæ–¹å‘ï¼Œè¿™å°±å¯¼è‡´äº†å®ƒé•¿æœŸåœ¨åŒä¸€æ–¹å‘ä¸Šè¿‡åº¦æ›´æ–°ï¼Œæœ€ç»ˆå¯¼è‡´äº†å¼‚å¸¸å€¼ã€‚</p>
<h2 id="_3">è®¡ç®—</h2>
<p>é‚£ä¹ˆå¼‚å¸¸å€¼ä¸ºä»€ä¹ˆååæ˜¯$\pm 100$å‘¢ï¼Ÿè¿™å°±è¦é‚€è¯·æƒé‡è¡°å‡ç™»åœºäº†ã€‚Tigeræ€»çš„ä¼˜åŒ–å…¬å¼æ˜¯ï¼š<br />
\begin{equation}\boldsymbol{\theta}<em t-1="t-1">t = \boldsymbol{\theta}</em>} - \eta_t \left[\text{sign}(\boldsymbol{m<em t-1="t-1">t) + \lambda \boldsymbol{\theta}</em>}\right]\end{equation<br />
ä¹Ÿå°±æ˜¯è¯´ï¼Œé™¤äº†åŠ¨é‡çš„ç¬¦å·å‡½æ•°å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªæƒé‡è¡°å‡é¡¹ã€‚åœ¨æ–‡ç« å¼€å¤´æåˆ°çš„å¼‚å¸¸å®éªŒä¸­ï¼Œè¡°å‡ç‡$\lambda$è®¾ä¸ºäº†0.01ã€‚</p>
<p>ä¸éš¾å‘ç°ï¼Œå¦‚æœ$\text{sign}(\boldsymbol{m}_t)$é•¿æœŸä¸ºå¸¸é‡ï¼Œé‚£ä¹ˆä¸Šè¿°è¿­ä»£å…¬å¼å°†ä¼šæœ‰ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼Œå®ƒå‡ºç°åœ¨$\text{sign}(\boldsymbol{m}_t) + \lambda \boldsymbol{\theta}^<em>=\boldsymbol{0}$æ—¶ï¼Œå³<br />
\begin{equation}\boldsymbol{\theta}^</em> = -\frac{\text{sign}(\boldsymbol{m}_t)}{\lambda}\end{equation}<br />
è¿™æ­£å¥½å¯¹åº”ä¸€ä¸ªå…ƒç´ æ˜¯$\pm 100$çš„å‘é‡ï¼Œè¿™å°±è§£é‡Šäº†å¼‚å¸¸å€¼ä¸º$\pm 100$çš„ç»“æœã€‚å¦‚æœæœ‰å…´è¶£ï¼Œè¯»è€…è¿˜å¯ä»¥å‡è®¾$\eta_t$ä¹Ÿæ˜¯å¸¸æ•°ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥æ±‚å‡º$\boldsymbol{\theta}_t$çš„è§£æå¼ï¼Œä»è€Œè¿›ä¸€æ­¥åˆ†ææ”¶æ•›é€Ÿåº¦ç­‰ã€‚è¿™é‡Œç¬”è€…å°±ä¸ç»§ç»­å±•å¼€äº†ã€‚</p>
<h2 id="_4">å¯¹ç­–</h2>
<p>æ—¢ç„¶é—®é¢˜å‡ºç°åœ¨å¯¹ä½é¢‘Tokençš„Embeddingçš„è¿‡åº¦æ›´æ–°ï¼Œé‚£ä¹ˆä¸€ä¸ªè‡ªç„¶çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯åƒ<a href="/archives/6869#LazyOptimizer">ã€ŠKeraså®ç°ä¸¤ä¸ªä¼˜åŒ–å™¨ï¼šLookaheadå’ŒLazyOptimizerã€‹</a>æ‰€æçš„é‚£æ ·ï¼Œå°†Embeddingçš„æ›´æ–°LazyåŒ–ï¼Œå³åªæœ‰å½“Tokenå‡ºç°è¿‡çš„æ—¶å€™ï¼Œæ‰æ›´æ–°ç›¸åº”çš„Embeddingã€‚å¦‚æœèƒ½è·å–åˆ°æ‰€æœ‰çš„è¾“å…¥Token Idsçš„é›†åˆï¼Œé‚£ä¹ˆç›´æ¥åªæ›´æ–°è¿™äº›Tokençš„Embeddingå³å¯ï¼Œå¦‚æœä¸èƒ½ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ¤æ–­Embeddingçš„æ¢¯åº¦æ¨¡é•¿æ˜¯å¦éé›¶ï¼Œæ¥åˆ¤æ–­è¯¥Embeddingæ˜¯å¦éœ€è¦è¢«æ›´æ–°ã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼Œä»æ›´ä¸€èˆ¬çš„è§†è§’çœ‹ï¼Œè¯¥é—®é¢˜æ˜¯Lion/Tigerä¼˜åŒ–å™¨å¯¹äºæ¢¯åº¦ç¨€ç–çš„å‚æ•°çš„å…±åŒç¼ºé™·ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºEmbeddingå±‚ã€‚äºæ˜¯ï¼Œè§£å†³é—®é¢˜çš„å¦ä¸€ä¸ªæ€è·¯æ˜¯å°†Embeddingçš„æ¢¯åº¦å˜å¾—ä¸å†ç¨€ç–ï¼Œä¸ºæ­¤æˆ‘ä»¬å¯ä»¥è€ƒè™‘Tied Embeddingsï¼Œå³è¾“å…¥å’Œè¾“å‡ºçš„Embeddingå…±äº«ï¼Œè¿™æ ·ç”±äºè¾“å‡ºç«¯é‡ç”¨äº†æ•´ä¸ªEmbeddingçŸ©é˜µï¼Œå› æ­¤æ•´ä¸ªEmbeddingçŸ©é˜µéƒ½æœ‰éé›¶æ¢¯åº¦ï¼Œä»è€Œè®©$\boldsymbol{m}_t$ä¸è‡³äºé•¿æœŸä¸ºå¸¸é‡ã€‚å½“ç„¶Tied Embeddingå¯èƒ½ä¼šå¸¦æ¥å¦å¤–çš„ä¸€äº›é—®é¢˜ï¼Œç›¸åº”çš„è§£å†³æ–¹æ¡ˆå¯ä»¥å‚è€ƒ<a href="/archives/9698">ã€Šè¯­è¨€æ¨¡å‹è¾“å‡ºç«¯å…±äº«Embeddingçš„é‡æ–°æ¢ç´¢ã€‹</a>ã€‚åœ¨ç¬”è€…çš„å®éªŒä¸­ï¼Œä½¿ç”¨å°†æ¨¡å‹ç‰¹å¾çš„channelså¯¹åŠäº¤æ¢çš„Tied Embeddingï¼Œèƒ½è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œå¹¶ä¸”æ•ˆæœä¼¼ä¹æ¯”Untied Embeddingè¿˜è¦å¥½ä¸€ç‚¹ã€‚</p>
<p>æœ€åï¼Œç¬”è€…ä¹Ÿå°±æ­¤é—®é¢˜è¯·æ•™äº†Lionä¼˜åŒ–å™¨çš„ä½œè€…ï¼Œå¾—åˆ°çš„å›å¤æ˜¯ä»–ä»¬ä¹‹å‰ä¹Ÿç•™æ„åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œä»–ä»¬çš„è§£å†³æ–¹æ¡ˆæ˜¯æ··åˆä¼˜åŒ–å™¨ï¼Œæ¯”å¦‚Embeddingå±‚å°±ç”¨Adamï¼Œå…¶ä»–å±‚æ‰ç”¨Lion/Tigerã€‚å‘ƒï¼Œè¿™ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯ç¬”è€…æ²¡æƒ³åˆ°çš„ï¼Œæ„Ÿè§‰ä¸æ˜¯ç‰¹åˆ«ä¼˜é›…ï¼Œä½†ä¹Ÿç¡®å®èƒ½è§£å†³ï¼Œè¯»è€…è‡ªè¡Œé€‰æ‹©å°±å¥½ã€‚</p>
<h2 id="_5">å°ç»“</h2>
<p>æœ¬æ–‡ä»‹ç»äº†Lion/Tigerä¼˜åŒ–å™¨è®­ç»ƒä¸‹çš„Embeddingå¼‚å¸¸ç°è±¡ï¼Œå¹¶åˆ†æäº†èƒŒåçš„åŸå› ï¼Œæœ€åç»™å‡ºäº†å‚è€ƒçš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p><em><strong>è½¬è½½åˆ°è¯·åŒ…æ‹¬æœ¬æ–‡åœ°å€ï¼š</strong><a href="https://spaces.ac.cn/archives/9736">https://spaces.ac.cn/archives/9736</a></em></p>
<p><em><strong>æ›´è¯¦ç»†çš„è½¬è½½äº‹å®œè¯·å‚è€ƒï¼š</strong></em><a href="https://spaces.ac.cn/archives/6508#%E6%96%87%E7%AB%A0%E5%A6%82%E4%BD%95%E8%BD%AC%E8%BD%BD/%E5%BC%95%E7%94%A8" title="ã€Šç§‘å­¦ç©ºé—´FAQã€‹">ã€Šç§‘å­¦ç©ºé—´FAQã€‹</a></p>
<p><strong>å¦‚æœæ‚¨è¿˜æœ‰ä»€ä¹ˆç–‘æƒ‘æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹è¯„è®ºåŒºç»§ç»­è®¨è®ºã€‚</strong></p>
<p><strong>å¦‚æœæ‚¨è§‰å¾—æœ¬æ–‡è¿˜ä¸é”™ï¼Œæ¬¢è¿åˆ†äº«/æ‰“èµæœ¬æ–‡ã€‚æ‰“èµå¹¶éè¦ä»ä¸­è·å¾—æ”¶ç›Šï¼Œè€Œæ˜¯å¸Œæœ›çŸ¥é“ç§‘å­¦ç©ºé—´è·å¾—äº†å¤šå°‘è¯»è€…çš„çœŸå¿ƒå…³æ³¨ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æ— è§†å®ƒï¼Œä¹Ÿä¸ä¼šå½±å“ä½ çš„é˜…è¯»ã€‚å†æ¬¡è¡¨ç¤ºæ¬¢è¿å’Œæ„Ÿè°¢ï¼</strong></p>
<p>æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/wx.png" /></p>
<p>å¾®ä¿¡æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/zfb.png" /></p>
<p>æ”¯ä»˜å®æ‰“èµ</p>
<p>å› ä¸ºç½‘ç«™åå°å¯¹æ‰“èµå¹¶æ— è®°å½•ï¼Œå› æ­¤æ¬¢è¿åœ¨æ‰“èµæ—¶å€™å¤‡æ³¨ç•™è¨€ã€‚ä½ è¿˜å¯ä»¥<a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=tN7d1drY3drrx8H0xcWa19vZ"><strong>ç‚¹å‡»è¿™é‡Œ</strong></a>æˆ–åœ¨ä¸‹æ–¹è¯„è®ºåŒºç•™è¨€æ¥å‘ŠçŸ¥ä½ çš„å»ºè®®æˆ–éœ€æ±‚ã€‚</p>
<p><strong>å¦‚æœæ‚¨éœ€è¦å¼•ç”¨æœ¬æ–‡ï¼Œè¯·å‚è€ƒï¼š</strong></p>
<p>è‹å‰‘æ—. (Aug. 28, 2023). ã€ŠLion/Tigerä¼˜åŒ–å™¨è®­ç»ƒä¸‹çš„Embeddingå¼‚å¸¸å’Œå¯¹ç­– ã€‹[Blog post]. Retrieved from <a href="https://spaces.ac.cn/archives/9736">https://spaces.ac.cn/archives/9736</a></p>
<p>@online{kexuefm-9736,<br />
title={Lion/Tigerä¼˜åŒ–å™¨è®­ç»ƒä¸‹çš„Embeddingå¼‚å¸¸å’Œå¯¹ç­–},<br />
author={è‹å‰‘æ—},<br />
year={2023},<br />
month={Aug},<br />
url={\url{https://spaces.ac.cn/archives/9736}},<br />
} </p>
<hr />
<h2 id="_6">è¯¦ç»†æ•°å­¦æ¨å¯¼ä¸åˆ†æ</h2>
<h3 id="1-tiger">1. Tigerä¼˜åŒ–å™¨åŸºç¡€ç†è®º</h3>
<h4 id="11-tiger">1.1 Tigeræ›´æ–°è§„åˆ™</h4>
<p>Tigerä¼˜åŒ–å™¨çš„å®Œæ•´æ›´æ–°è§„åˆ™ä¸ºï¼š</p>
<p>$$
\begin{align}
\boldsymbol{m}_t &= \beta_1 \boldsymbol{m}_{t-1} + (1-\beta_1) \boldsymbol{g}_t \tag{1} \\
\boldsymbol{\theta}_t &= \boldsymbol{\theta}_{t-1} - \eta_t \left[\text{sign}(\boldsymbol{m}_t) + \lambda \boldsymbol{\theta}_{t-1}\right] \tag{2}
\end{align}
$$</p>
<p>å…¶ä¸­ï¼š
- $\boldsymbol{g}<em _boldsymbol_theta="\boldsymbol{\theta">t = \nabla</em>)$ æ˜¯æŸå¤±å‡½æ•°çš„æ¢¯åº¦
- $\boldsymbol{m}_t$ æ˜¯æŒ‡æ•°ç§»åŠ¨å¹³å‡åŠ¨é‡ï¼ˆExponential Moving Average, EMAï¼‰
- $\beta_1 \in (0,1)$ æ˜¯åŠ¨é‡è¡°å‡ç³»æ•°ï¼Œé€šå¸¸å–0.9
- $\eta_t &gt; 0$ æ˜¯å­¦ä¹ ç‡
- $\lambda &gt; 0$ æ˜¯æƒé‡è¡°å‡ç³»æ•°
- $\text{sign}(\cdot)$ æ˜¯ç¬¦å·å‡½æ•°ï¼Œé€å…ƒç´ æ“ä½œ}} L(\boldsymbol{\theta}_{t-1</p>
<h4 id="12">1.2 ç¬¦å·å‡½æ•°çš„å®šä¹‰</h4>
<p>ç¬¦å·å‡½æ•°å®šä¹‰ä¸ºï¼š</p>
<p>$$
\text{sign}(x) = \begin{cases}
+1, & x > 0 \\
0, & x = 0 \\
-1, & x < 0
\end{cases} \tag{3}
$$</p>
<p><strong>å…³é”®ç‰¹æ€§</strong>ï¼šç¬¦å·å‡½æ•°å°†è¿ç»­çš„åŠ¨é‡å€¼æ˜ å°„åˆ°ç¦»æ•£çš„${-1, 0, +1}$ï¼Œè¿™ä½¿å¾—ï¼š
- æ›´æ–°æ­¥é•¿ä¸ä¾èµ–äºæ¢¯åº¦çš„å¹…å€¼ï¼Œåªä¾èµ–äºæ–¹å‘
- å¯¹äºä¸åŒå°ºåº¦çš„å‚æ•°å…·æœ‰é€‚åº”æ€§
- ä½†ä¹Ÿå¼•å…¥äº†ä¿¡æ¯æŸå¤±ï¼ˆå¹…å€¼ä¿¡æ¯ï¼‰</p>
<h4 id="13-lion">1.3 ä¸Lionä¼˜åŒ–å™¨çš„å…³ç³»</h4>
<p>Lionä¼˜åŒ–å™¨çš„æ›´æ–°è§„åˆ™ä¸ºï¼š</p>
<p>$$
\begin{align}
\boldsymbol{c}_t &= \beta_1 \boldsymbol{m}_{t-1} + (1-\beta_1) \boldsymbol{g}_t \tag{4} \\
\boldsymbol{\theta}_t &= \boldsymbol{\theta}_{t-1} - \eta_t \left[\text{sign}(\boldsymbol{c}_t) + \lambda \boldsymbol{\theta}_{t-1}\right] \tag{5} \\
\boldsymbol{m}_t &= \beta_2 \boldsymbol{m}_{t-1} + (1-\beta_2) \boldsymbol{g}_t \tag{6}
\end{align}
$$</p>
<p>Tigerå¯ä»¥çœ‹ä½œLionçš„ç‰¹æ®Šæƒ…å†µï¼ˆ$\beta_2 = \beta_1$ï¼‰ï¼Œç®€åŒ–äº†å®ç°å¹¶å‡å°‘äº†å†…å­˜å¼€é”€ã€‚</p>
<h3 id="2-embedding">2. Embeddingå±‚çš„ç‰¹æ®Šæ€§</h3>
<h4 id="21-embedding">2.1 EmbeddingçŸ©é˜µè¡¨ç¤º</h4>
<p>å¯¹äºè¯æ±‡è¡¨å¤§å°ä¸º$V$ã€åµŒå…¥ç»´åº¦ä¸º$d$çš„Embeddingå±‚ï¼š</p>
<p>$$
\boldsymbol{E} \in \mathbb{R}^{V \times d} \tag{7}
$$</p>
<p>å¯¹äºè¾“å…¥tokenåºåˆ—${t_1, t_2, \ldots, t_n}$ï¼ŒEmbeddingæŸ¥æ‰¾æ“ä½œä¸ºï¼š</p>
<p>$$
\boldsymbol{x}_i = \boldsymbol{E}[t_i, :] \in \mathbb{R}^d \tag{8}
$$</p>
<h4 id="22">2.2 æ¢¯åº¦ç¨€ç–æ€§</h4>
<p>Embeddingå±‚çš„æ¢¯åº¦å…·æœ‰å¤©ç„¶çš„ç¨€ç–æ€§ã€‚å¯¹äºæ‰¹æ¬¡$\mathcal{B}$ä¸­å‡ºç°çš„tokené›†åˆ$\mathcal{T}_{\mathcal{B}}$ï¼š</p>
<p>$$
\frac{\partial L}{\partial \boldsymbol{E}[i,:]} = \begin{cases}
\sum_{j: t_j = i} \frac{\partial L}{\partial \boldsymbol{x}_j}, & i \in \mathcal{T}_{\mathcal{B}} \\
\boldsymbol{0}, & i \notin \mathcal{T}_{\mathcal{B}}
\end{cases} \tag{9}
$$</p>
<p><strong>ç¨€ç–åº¦åˆ†æ</strong>ï¼šè®¾æ‰¹æ¬¡å¤§å°ä¸º$B$ï¼Œåºåˆ—é•¿åº¦ä¸º$L$ï¼Œåˆ™ï¼š</p>
<p>$$
\text{Sparsity} = 1 - \frac{|\mathcal{T}_{\mathcal{B}}|}{V} \approx 1 - \frac{\min(BL, V)}{V} \tag{10}
$$</p>
<p>å¯¹äºå¤§è¯æ±‡è¡¨ï¼ˆ$V \gg BL$ï¼‰ï¼Œç¨€ç–åº¦æ¥è¿‘1ï¼Œå³ç»å¤§å¤šæ•°tokençš„æ¢¯åº¦ä¸ºé›¶ã€‚</p>
<h4 id="23-token">2.3 Tokené¢‘ç‡åˆ†å¸ƒ</h4>
<p>å®é™…æ–‡æœ¬æ•°æ®ä¸­ï¼Œtokené¢‘ç‡éµå¾ªZipfå®šå¾‹ï¼š</p>
<p>$$
f(r) \propto \frac{1}{r^\alpha} \tag{11}
$$</p>
<p>å…¶ä¸­$r$æ˜¯é¢‘ç‡æ’åï¼Œ$\alpha \approx 1$ã€‚è¿™æ„å‘³ç€ï¼š
- å°‘æ•°é«˜é¢‘tokenå æ®å¤§éƒ¨åˆ†å‡ºç°
- å¤§é‡ä½é¢‘tokenå¾ˆå°‘å‡ºç°</p>
<p>è®¾token $i$çš„å‡ºç°æ¦‚ç‡ä¸º$p_i$ï¼Œåˆ™åœ¨$T$æ­¥è®­ç»ƒä¸­ï¼Œè¯¥tokenæœŸæœ›å‡ºç°æ¬¡æ•°ä¸ºï¼š</p>
<p>$$
\mathbb{E}[N_i(T)] = T \cdot B \cdot L \cdot p_i \tag{12}
$$</p>
<p>å¯¹äºä½é¢‘tokenï¼ˆ$p_i \ll 1$ï¼‰ï¼Œ$\mathbb{E}[N_i(T)]$å¯èƒ½è¿œå°äº$T$ã€‚</p>
<h3 id="3">3. åŠ¨é‡æ¼”åŒ–çš„æ•°å­¦åˆ†æ</h3>
<h4 id="31-token">3.1 ä½é¢‘Tokençš„åŠ¨é‡è¡°å‡</h4>
<p>è€ƒè™‘token $i$åœ¨æ—¶åˆ»$t_0$å‡ºç°åï¼Œåœ¨åç»­$k$æ­¥ä¸­éƒ½æœªå‡ºç°çš„æƒ…å†µã€‚åŠ¨é‡çš„æ¼”åŒ–ä¸ºï¼š</p>
<p>$$
\boldsymbol{m}_t^{(i)} = \beta_1^{t-t_0} \boldsymbol{m}_{t_0}^{(i)}, \quad t = t_0 + 1, \ldots, t_0 + k \tag{13}
$$</p>
<p><strong>æŒ‡æ•°è¡°å‡é€Ÿç‡</strong>ï¼šè®¾$\beta_1 = 0.9$ï¼Œåˆ™ï¼š</p>
<p>$$
\boldsymbol{m}_{t_0+k}^{(i)} = 0.9^k \boldsymbol{m}_{t_0}^{(i)} \tag{14}
$$</p>
<p>å‡ ä¸ªå…³é”®æ—¶é—´ç‚¹ï¼š
- $k=7$: åŠ¨é‡è¡°å‡åˆ°çº¦$0.478$ï¼ˆåŠè¡°æœŸï¼‰
- $k=22$: åŠ¨é‡è¡°å‡åˆ°çº¦$0.1$
- $k=44$: åŠ¨é‡è¡°å‡åˆ°çº¦$0.01$</p>
<h4 id="32">3.2 ç¬¦å·å‡½æ•°çš„æŒç»­æ€§</h4>
<p>è™½ç„¶åŠ¨é‡$\boldsymbol{m}_t$æŒ‡æ•°è¡°å‡ï¼Œä½†ç¬¦å·å‡½æ•°ä¿æŒä¸å˜ï¼š</p>
<p>$$
\text{sign}(\boldsymbol{m}_t^{(i)}) = \text{sign}(\boldsymbol{m}_{t_0}^{(i)}), \quad \forall t > t_0 \text{ ä¸” } \boldsymbol{m}_t^{(i)} \neq \boldsymbol{0} \tag{15}
$$</p>
<p><strong>æ•°å€¼ç²¾åº¦åˆ†æ</strong>ï¼šåœ¨æµ®ç‚¹è¿ç®—ä¸­ï¼Œå½“$|\boldsymbol{m}<em _text_machine="\text{machine">t^{(i)}| &lt; \epsilon</em>$æ—¶æ‰å˜ä¸ºé›¶ã€‚å¯¹äºå•ç²¾åº¦æµ®ç‚¹æ•°ï¼š}</p>
<p>$$
\epsilon_{\text{machine}} \approx 10^{-7} \tag{16}
$$</p>
<p>éœ€è¦çš„è¡°å‡æ­¥æ•°ä¸ºï¼š</p>
<p>$$
k^* = \left\lceil \frac{\log(\epsilon_{\text{machine}}/|\boldsymbol{m}_{t_0}^{(i)}|)}{\log(\beta_1)} \right\rceil \tag{17}
$$</p>
<p>å‡è®¾$|\boldsymbol{m}_{t_0}^{(i)}| \approx 0.1$ï¼Œ$\beta_1 = 0.9$ï¼š</p>
<p>$$
k^* \approx \frac{\log(10^{-6})}{\log(0.9)} \approx \frac{-13.8}{-0.105} \approx 131 \text{ steps} \tag{18}
$$</p>
<p>è¿™æ„å‘³ç€ç¬¦å·å‡½æ•°åœ¨çº¦131æ­¥å†…ä¿æŒæ’å®šï¼</p>
<h3 id="4-tiger">4. Tigerä¼˜åŒ–å™¨çš„è¿‡åº¦æ›´æ–°æœºåˆ¶</h3>
<h4 id="41">4.1 æ— æƒé‡è¡°å‡çš„å‘æ•£åˆ†æ</h4>
<p>é¦–å…ˆè€ƒè™‘æ— æƒé‡è¡°å‡ï¼ˆ$\lambda = 0$ï¼‰çš„æƒ…å†µã€‚è‹¥$\text{sign}(\boldsymbol{m}_t^{(i)}) = \boldsymbol{s}$ä¿æŒå¸¸æ•°ï¼Œåˆ™ï¼š</p>
<p>$$
\boldsymbol{\theta}_t^{(i)} = \boldsymbol{\theta}_{t-1}^{(i)} - \eta_t \boldsymbol{s} \tag{19}
$$</p>
<p>ç´¯ç§¯æ›´æ–°é‡ä¸ºï¼š</p>
<p>$$
\boldsymbol{\theta}_{t_0+k}^{(i)} = \boldsymbol{\theta}_{t_0}^{(i)} - \boldsymbol{s} \sum_{j=1}^{k} \eta_{t_0+j} \tag{20}
$$</p>
<p>è‹¥å­¦ä¹ ç‡æ’å®š$\eta_t = \eta$ï¼š</p>
<p>$$
\boldsymbol{\theta}_{t_0+k}^{(i)} = \boldsymbol{\theta}_{t_0}^{(i)} - k \eta \boldsymbol{s} \tag{21}
$$</p>
<p><strong>å‘æ•£é€Ÿåº¦</strong>ï¼šå‚æ•°ä»¥çº¿æ€§é€Ÿåº¦$\eta |\boldsymbol{s}| = \eta \sqrt{d}$å‘æ•£ï¼ˆå› ä¸º$\boldsymbol{s}$çš„æ¯ä¸ªåˆ†é‡ä¸º$\pm 1$ï¼‰ã€‚</p>
<h4 id="42">4.2 æƒé‡è¡°å‡çš„å¹³è¡¡æœºåˆ¶</h4>
<p>å¼•å…¥æƒé‡è¡°å‡åï¼Œæ›´æ–°è§„åˆ™å˜ä¸ºï¼š</p>
<p>$$
\boldsymbol{\theta}_t^{(i)} = \boldsymbol{\theta}_{t-1}^{(i)} - \eta_t \left[\boldsymbol{s} + \lambda \boldsymbol{\theta}_{t-1}^{(i)}\right] \tag{22}
$$</p>
<p>æ•´ç†å¾—ï¼š</p>
<p>$$
\boldsymbol{\theta}_t^{(i)} = (1 - \eta_t \lambda) \boldsymbol{\theta}_{t-1}^{(i)} - \eta_t \boldsymbol{s} \tag{23}
$$</p>
<h4 id="43">4.3 å¹³è¡¡ç‚¹æ¨å¯¼</h4>
<p>è®¾å­˜åœ¨å¹³è¡¡ç‚¹$\boldsymbol{\theta}^*$ï¼Œæ»¡è¶³ï¼š</p>
<p>$$
\boldsymbol{\theta}^* = (1 - \eta \lambda) \boldsymbol{\theta}^* - \eta \boldsymbol{s} \tag{24}
$$</p>
<p>æ±‚è§£å¾—ï¼š</p>
<p>$$
\begin{align}
\boldsymbol{\theta}^* - (1 - \eta \lambda) \boldsymbol{\theta}^* &= -\eta \boldsymbol{s} \tag{25} \\
\eta \lambda \boldsymbol{\theta}^* &= -\eta \boldsymbol{s} \tag{26} \\
\boldsymbol{\theta}^* &= -\frac{\boldsymbol{s}}{\lambda} \tag{27}
\end{align}
$$</p>
<p>ç”±äº$\boldsymbol{s} = \text{sign}(\boldsymbol{m}_{t_0}^{(i)}) \in {-1, +1}^d$ï¼Œå› æ­¤ï¼š</p>
<p>$$
\boldsymbol{\theta}^* \in \left\{-\frac{1}{\lambda}, +\frac{1}{\lambda}\right\}^d \tag{28}
$$</p>
<p><strong>å®éªŒéªŒè¯</strong>ï¼šå½“$\lambda = 0.01$æ—¶ï¼š</p>
<p>$$
\theta_j^* \in \{-100, +100\}, \quad j = 1, \ldots, d \tag{29}
$$</p>
<p>è¿™å®Œç¾è§£é‡Šäº†è§‚å¯Ÿåˆ°çš„$\pm 100$å¼‚å¸¸å€¼ï¼</p>
<h4 id="44">4.4 æ”¶æ•›é€Ÿåº¦åˆ†æ</h4>
<p>å®šä¹‰åå·®$\boldsymbol{\delta}_t = \boldsymbol{\theta}_t^{(i)} - \boldsymbol{\theta}^*$ï¼Œåˆ™ï¼š</p>
<p>$$
\begin{align}
\boldsymbol{\delta}_t &= \boldsymbol{\theta}_t^{(i)} - \boldsymbol{\theta}^* \tag{30} \\
&= (1 - \eta \lambda) \boldsymbol{\theta}_{t-1}^{(i)} - \eta \boldsymbol{s} - \boldsymbol{\theta}^* \tag{31} \\
&= (1 - \eta \lambda) \boldsymbol{\theta}_{t-1}^{(i)} - \eta \boldsymbol{s} + \frac{\boldsymbol{s}}{\lambda} \tag{32} \\
&= (1 - \eta \lambda) \left[\boldsymbol{\theta}_{t-1}^{(i)} - \boldsymbol{\theta}^*\right] \tag{33} \\
&= (1 - \eta \lambda) \boldsymbol{\delta}_{t-1} \tag{34}
\end{align}
$$</p>
<p>é€’æ¨å¾—ï¼š</p>
<p>$$
\boldsymbol{\delta}_t = (1 - \eta \lambda)^{t-t_0} \boldsymbol{\delta}_{t_0} \tag{35}
$$</p>
<p><strong>æ”¶æ•›æ¡ä»¶</strong>ï¼š$|1 - \eta \lambda| &lt; 1$ï¼Œå³$0 &lt; \eta \lambda &lt; 2$ã€‚</p>
<p><strong>æ”¶æ•›é€Ÿç‡</strong>ï¼šè¡°å‡å› å­ä¸º$1 - \eta \lambda$ã€‚è®¾$\eta = 10^{-3}$ï¼Œ$\lambda = 0.01$ï¼š</p>
<p>$$
1 - \eta \lambda = 1 - 10^{-5} = 0.99999 \tag{36}
$$</p>
<p>è¾¾åˆ°å¹³è¡¡ç‚¹ï¼ˆè¯¯å·®é™åˆ°1%ï¼‰éœ€è¦çš„æ­¥æ•°ï¼š</p>
<p>$$
k_{\text{converge}} = \frac{\log(0.01)}{\log(1 - \eta \lambda)} \approx \frac{-4.605}{-10^{-5}} \approx 460,500 \text{ steps} \tag{37}
$$</p>
<p>è¿™æ˜¯ä¸€ä¸ªç›¸å½“ç¼“æ…¢çš„æ”¶æ•›è¿‡ç¨‹ï¼</p>
<h3 id="5-adamtiger">5. Adamä¸Tigerçš„å¯¹æ¯”åˆ†æ</h3>
<h4 id="51-adam">5.1 Adamä¼˜åŒ–å™¨å›é¡¾</h4>
<p>Adamçš„æ›´æ–°è§„åˆ™ä¸ºï¼š</p>
<p>$$
\begin{align}
\boldsymbol{m}_t &= \beta_1 \boldsymbol{m}_{t-1} + (1-\beta_1) \boldsymbol{g}_t \tag{38} \\
\boldsymbol{v}_t &= \beta_2 \boldsymbol{v}_{t-1} + (1-\beta_2) \boldsymbol{g}_t^2 \tag{39} \\
\hat{\boldsymbol{m}}_t &= \frac{\boldsymbol{m}_t}{1 - \beta_1^t} \tag{40} \\
\hat{\boldsymbol{v}}_t &= \frac{\boldsymbol{v}_t}{1 - \beta_2^t} \tag{41} \\
\boldsymbol{\theta}_t &= \boldsymbol{\theta}_{t-1} - \eta_t \frac{\hat{\boldsymbol{m}}_t}{\sqrt{\hat{\boldsymbol{v}}_t} + \epsilon} \tag{42}
\end{align}
$$</p>
<h4 id="52-tokenadam">5.2 ä½é¢‘Tokenåœ¨Adamä¸­çš„è¡Œä¸º</h4>
<p>å½“token $i$åœ¨æ—¶åˆ»$t_0$åçš„$k$æ­¥ä¸­æœªå‡ºç°ï¼š</p>
<p>$$
\begin{align}
\boldsymbol{m}_t^{(i)} &= \beta_1^{t-t_0} \boldsymbol{m}_{t_0}^{(i)} \tag{43} \\
\boldsymbol{v}_t^{(i)} &= \beta_2^{t-t_0} \boldsymbol{v}_{t_0}^{(i)} \tag{44}
\end{align}
$$</p>
<p>Adamçš„æ›´æ–°é‡ä¸ºï¼š</p>
<p>$$
\Delta \boldsymbol{\theta}_t^{(i)} = -\eta_t \frac{\hat{\boldsymbol{m}}_t^{(i)}}{\sqrt{\hat{\boldsymbol{v}}_t^{(i)}} + \epsilon} \propto \beta_1^{t-t_0} \tag{45}
$$</p>
<p><strong>å…³é”®å·®å¼‚</strong>ï¼šAdamçš„æ›´æ–°é‡éšåŠ¨é‡æŒ‡æ•°è¡°å‡ï¼Œè€ŒTigerçš„æ›´æ–°é‡ä¿æŒæ’å®šï¼</p>
<h4 id="53">5.3 æ›´æ–°é‡è¡°å‡å¯¹æ¯”</h4>
<table>
<thead>
<tr>
<th>æ—¶é—´æ­¥ $k$</th>
<th>Adamæ›´æ–°é‡æ¯”ä¾‹</th>
<th>Tigeræ›´æ–°é‡æ¯”ä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>1.000</td>
<td>1.000</td>
</tr>
<tr>
<td>10</td>
<td>0.349</td>
<td>1.000</td>
</tr>
<tr>
<td>20</td>
<td>0.122</td>
<td>1.000</td>
</tr>
<tr>
<td>50</td>
<td>0.005</td>
<td>1.000</td>
</tr>
<tr>
<td>100</td>
<td>0.000027</td>
<td>1.000</td>
</tr>
</tbody>
</table>
<p>è®¾$\beta_1 = 0.9$è®¡ç®—ã€‚å¯è§Tigerçš„è¿‡åº¦æ›´æ–°é—®é¢˜ä¸¥é‡å¾—å¤šã€‚</p>
<h4 id="54">5.4 ç´¯ç§¯æ›´æ–°é‡å¯¹æ¯”</h4>
<p>åœ¨$k$æ­¥æœªå‡ºç°åçš„ç´¯ç§¯æ›´æ–°ï¼š</p>
<p><strong>Adam</strong>:
$$
\sum_{j=1}^{k} \Delta \boldsymbol{\theta}_{t_0+j}^{(i)} \propto \sum_{j=1}^{k} \beta_1^j = \frac{\beta_1(1-\beta_1^k)}{1-\beta_1} \tag{46}
$$</p>
<p>å½“$k \to \infty$æ—¶æ”¶æ•›åˆ°ï¼š
$$
\lim_{k \to \infty} \sum_{j=1}^{k} \beta_1^j = \frac{\beta_1}{1-\beta_1} = \frac{0.9}{0.1} = 9 \tag{47}
$$</p>
<p><strong>Tiger</strong>:
$$
\sum_{j=1}^{k} \Delta \boldsymbol{\theta}_{t_0+j}^{(i)} \propto k \tag{48}
$$</p>
<p>çº¿æ€§å¢é•¿ï¼Œæ— ç•Œï¼</p>
<h3 id="6">6. æ¢¯åº¦åé¦ˆç¯è·¯åˆ†æ</h3>
<h4 id="61-embedding">6.1 Embeddingä¸æ¢¯åº¦çš„ç›¸äº’ä½œç”¨</h4>
<p>è€ƒè™‘ç®€åŒ–çš„æŸå¤±å‡½æ•°ï¼ˆå¦‚è¯­è¨€å»ºæ¨¡ï¼‰ï¼š</p>
<p>$$
L = -\log P(w_{t+1} | \boldsymbol{x}_t) = -\log \frac{\exp(\boldsymbol{o}^\top \boldsymbol{E}[w_{t+1}, :])}{\sum_{w'} \exp(\boldsymbol{o}^\top \boldsymbol{E}[w', :])} \tag{49}
$$</p>
<p>å…¶ä¸­$\boldsymbol{o}$æ˜¯è¾“å‡ºéšçŠ¶æ€ã€‚å¯¹Embeddingçš„æ¢¯åº¦ä¸ºï¼š</p>
<p>$$
\frac{\partial L}{\partial \boldsymbol{E}[w, :]} = \begin{cases}
\boldsymbol{o}(P(w|\boldsymbol{o}) - 1), & w = w_{t+1} \\
\boldsymbol{o} P(w|\boldsymbol{o}), & w \neq w_{t+1}
\end{cases} \tag{50}
$$</p>
<p>æ¦‚ç‡é¡¹ä¸ºï¼š</p>
<p>$$
P(w|\boldsymbol{o}) = \frac{\exp(\boldsymbol{o}^\top \boldsymbol{E}[w, :])}{\sum_{w'} \exp(\boldsymbol{o}^\top \boldsymbol{E}[w', :])} \tag{51}
$$</p>
<h4 id="62">6.2 å¼‚å¸¸å€¼å¯¹æ¦‚ç‡çš„å½±å“</h4>
<p>å½“$\boldsymbol{E}[w, :]$å˜å¾—å¼‚å¸¸å¤§æ—¶ï¼ˆå¦‚$\pm 100$ï¼‰ï¼Œlogitå€¼ä¸ºï¼š</p>
<p>$$
\text{logit}(w) = \boldsymbol{o}^\top \boldsymbol{E}[w, :] \tag{52}
$$</p>
<p>å‡è®¾$\boldsymbol{E}[w, :]$çš„æŸäº›åˆ†é‡è¾¾åˆ°100ï¼Œè€Œ$|\boldsymbol{o}| \approx 1$ï¼š</p>
<p>$$
|\text{logit}(w)| \approx 100 \sqrt{d'} \tag{53}
$$</p>
<p>å…¶ä¸­$d'$æ˜¯å¼‚å¸¸åˆ†é‡çš„æ•°é‡ã€‚è¿™ä¼šå¯¼è‡´ï¼š</p>
<p>$$
P(w|\boldsymbol{o}) \approx \begin{cases}
1, & \text{if } \boldsymbol{o}^\top \boldsymbol{E}[w, :] \gg 0 \\
0, & \text{otherwise}
\end{cases} \tag{54}
$$</p>
<h4 id="63">6.3 æ­£åé¦ˆæœºåˆ¶</h4>
<p>è‹¥Embeddingåå‘æŸä¸ªæ–¹å‘$\boldsymbol{s}$ï¼ˆç”±äºè¿‡åº¦æ›´æ–°ï¼‰ï¼Œåˆ™ï¼š
1. è¯¥tokenåœ¨æŸäº›ä¸Šä¸‹æ–‡ä¸­è¢«è¿‡åº¦é¢„æµ‹
2. åœ¨è¿™äº›ä¸Šä¸‹æ–‡ä¸­ï¼Œæ¢¯åº¦ä¼šç»§ç»­æ¨åŠ¨Embeddingå‘$\boldsymbol{s}$æ–¹å‘
3. è¿™è¿›ä¸€æ­¥å¢å¼ºäº†è¿‡åº¦æ›´æ–°</p>
<p>æ•°å­¦ä¸Šï¼Œè®¾$\boldsymbol{E}[w, :] = \alpha \boldsymbol{s}$ï¼Œ$\alpha \gg 0$ï¼š</p>
<p>$$
\frac{\partial L}{\partial \boldsymbol{E}[w, :]} \approx \boldsymbol{o} P(w|\boldsymbol{o}) \propto \boldsymbol{o} \exp(\alpha \boldsymbol{o}^\top \boldsymbol{s}) \tag{55}
$$</p>
<p>å½“$\boldsymbol{o}^\top \boldsymbol{s} &gt; 0$æ—¶ï¼Œæ¢¯åº¦ä¸$\boldsymbol{s}$åŒå‘çš„æ¦‚ç‡å¢åŠ ã€‚</p>
<h3 id="7">7. æ•°å€¼ç¨³å®šæ€§åˆ†æ</h3>
<h4 id="71">7.1 æµ®ç‚¹ç²¾åº¦é™åˆ¶</h4>
<p>åœ¨å•ç²¾åº¦æµ®ç‚¹æ•°ï¼ˆFP32ï¼‰ä¸­ï¼š
- æŒ‡æ•°èŒƒå›´ï¼š$\approx 10^{-38}$ to $10^{38}$
- æœ‰æ•ˆæ•°å­—ï¼šçº¦7ä½åè¿›åˆ¶</p>
<p>å½“å‚æ•°å€¼è¾¾åˆ°$\pm 100$æ—¶ï¼Œä»åœ¨å®‰å…¨èŒƒå›´å†…ï¼Œä½†å¯èƒ½å¯¼è‡´ï¼š</p>
<p>$$
\text{logit} = \boldsymbol{o}^\top \boldsymbol{E}[w, :] \in [-100d, 100d] \tag{56}
$$</p>
<p>å¯¹äº$d=512$ï¼š</p>
<p>$$
|\text{logit}| \leq 51200 \tag{57}
$$</p>
<p>Softmaxè®¡ç®—æ—¶ï¼š</p>
<p>$$
\exp(51200) > 10^{22237} \tag{58}
$$</p>
<p>è¿œè¶…æµ®ç‚¹æ•°è¡¨ç¤ºèŒƒå›´ï¼éœ€è¦æ•°å€¼ç¨³å®šåŒ–æŠ€å·§ï¼ˆå‡å»æœ€å¤§å€¼ï¼‰ã€‚</p>
<h4 id="72">7.2 æ¢¯åº¦çˆ†ç‚¸é£é™©</h4>
<p>å½“Embeddingå¼‚å¸¸æ—¶ï¼Œåå‘ä¼ æ’­çš„æ¢¯åº¦å¯èƒ½ä¹Ÿå¼‚å¸¸ï¼š</p>
<p>$$
\frac{\partial L}{\partial \boldsymbol{o}} = \sum_{w} \frac{\partial L}{\partial \text{logit}(w)} \boldsymbol{E}[w, :] \tag{59}
$$</p>
<p>è‹¥å¤šä¸ª$\boldsymbol{E}[w, :]$å¼‚å¸¸å¤§ï¼Œåˆ™$\partial L / \partial \boldsymbol{o}$ä¹Ÿä¼šå¼‚å¸¸å¤§ï¼Œå¯èƒ½å¯¼è‡´æ¢¯åº¦çˆ†ç‚¸ã€‚</p>
<h3 id="8">8. è§£å†³æ–¹æ¡ˆçš„æ•°å­¦åŸç†</h3>
<h4 id="81-lazy">8.1 Lazyæ›´æ–°æ–¹æ³•</h4>
<p>åªæ›´æ–°å½“å‰æ‰¹æ¬¡ä¸­å‡ºç°çš„tokenï¼š</p>
<p>$$
\boldsymbol{\theta}_t^{(i)} = \begin{cases}
\boldsymbol{\theta}_{t-1}^{(i)} - \eta_t \left[\text{sign}(\boldsymbol{m}_t^{(i)}) + \lambda \boldsymbol{\theta}_{t-1}^{(i)}\right], & i \in \mathcal{T}_{\mathcal{B}_t} \\
\boldsymbol{\theta}_{t-1}^{(i)}, & i \notin \mathcal{T}_{\mathcal{B}_t}
\end{cases} \tag{60}
$$</p>
<p><strong>æ•ˆæœ</strong>ï¼šå®Œå…¨æ¶ˆé™¤è¿‡åº¦æ›´æ–°é—®é¢˜ï¼Œå› ä¸º$\boldsymbol{g}_t^{(i)} = \boldsymbol{0}$æ—¶ä¸æ›´æ–°ã€‚</p>
<p><strong>å®ç°</strong>ï¼šé€šè¿‡æ¢¯åº¦æ©ç ï¼š</p>
<p>$$
\text{mask}_t^{(i)} = \mathbb{1}[\|\boldsymbol{g}_t^{(i)}\| > 0] \tag{61}
$$</p>
<h4 id="82-tied-embeddings">8.2 Tied Embeddings</h4>
<p>è¾“å…¥å’Œè¾“å‡ºå…±äº«EmbeddingçŸ©é˜µï¼š</p>
<p>$$
\boldsymbol{E}_{\text{in}} = \boldsymbol{E}_{\text{out}} = \boldsymbol{E} \tag{62}
$$</p>
<p>æ€»æ¢¯åº¦ä¸ºï¼š</p>
<p>$$
\frac{\partial L}{\partial \boldsymbol{E}[w, :]} = \frac{\partial L}{\partial \boldsymbol{E}_{\text{in}}[w, :]} + \frac{\partial L}{\partial \boldsymbol{E}_{\text{out}}[w, :]} \tag{63}
$$</p>
<p>ç”±äºè¾“å‡ºç«¯ä½¿ç”¨æ•´ä¸ªè¯æ±‡è¡¨ï¼Œæ¯ä¸ªtokenéƒ½æœ‰éé›¶æ¢¯åº¦ï¼š</p>
<p>$$
\frac{\partial L}{\partial \boldsymbol{E}_{\text{out}}[w, :]} = \boldsymbol{o} P(w|\boldsymbol{o}) \neq \boldsymbol{0}, \quad \forall w \tag{64}
$$</p>
<p><strong>æ¢¯åº¦ç¨€ç–åº¦é™ä½</strong>ï¼š</p>
<p>$$
\text{Sparsity}_{\text{tied}} = 0 \tag{65}
$$</p>
<p>æ‰€æœ‰tokenåœ¨æ¯æ­¥éƒ½æœ‰æ›´æ–°ï¼Œæ¶ˆé™¤äº†åŠ¨é‡æ’å®šé—®é¢˜ã€‚</p>
<h4 id="83">8.3 æ··åˆä¼˜åŒ–å™¨ç­–ç•¥</h4>
<p>å¯¹ä¸åŒå±‚ä½¿ç”¨ä¸åŒä¼˜åŒ–å™¨ï¼š</p>
<p>$$
\boldsymbol{\theta}_t = \begin{cases}
\text{Adam}(\boldsymbol{\theta}_{t-1}, \boldsymbol{g}_t), & \text{for Embedding} \\
\text{Tiger}(\boldsymbol{\theta}_{t-1}, \boldsymbol{g}_t), & \text{for other layers}
\end{cases} \tag{66}
$$</p>
<p><strong>ä¼˜åŠ¿</strong>ï¼šç»“åˆä¸¤è€…é•¿å¤„
- Adamå¤„ç†ç¨€ç–æ¢¯åº¦æ›´ç¨³å®š
- Tigeråœ¨å¯†é›†æ¢¯åº¦ä¸‹æ›´é«˜æ•ˆ</p>
<p><strong>åŠ£åŠ¿</strong>ï¼šå®ç°å¤æ‚åº¦å¢åŠ </p>
<h3 id="9">9. ç†è®ºåˆ†ææ€»ç»“</h3>
<h4 id="91">9.1 é—®é¢˜æ ¹æºçš„å±‚æ¬¡åˆ†è§£</h4>
<ol>
<li><strong>ç›´æ¥åŸå› </strong>ï¼šç¬¦å·å‡½æ•°$\text{sign}(\boldsymbol{m}_t)$åœ¨åŠ¨é‡è¡°å‡æ—¶ä¿æŒæ’å®š</li>
<li><strong>å¿…è¦æ¡ä»¶</strong>ï¼šæ¢¯åº¦ç¨€ç–æ€§ï¼ˆä½é¢‘tokenï¼‰</li>
<li><strong>å¹³è¡¡æœºåˆ¶</strong>ï¼šæƒé‡è¡°å‡æä¾›åå‘åŠ›</li>
<li><strong>æœ€ç»ˆçŠ¶æ€</strong>ï¼šæ”¶æ•›åˆ°$\boldsymbol{\theta}^* = -\text{sign}(\boldsymbol{m}_t)/\lambda$</li>
</ol>
<h4 id="92">9.2 æ”¶æ•›æ€§å®šç†</h4>
<p><strong>å®šç†1</strong>ï¼šåœ¨ä»¥ä¸‹æ¡ä»¶ä¸‹ï¼ŒTigerä¼˜åŒ–å™¨å¯¹ä½é¢‘tokençš„Embeddingæ”¶æ•›åˆ°å¹³è¡¡ç‚¹$\boldsymbol{\theta}^* = -\boldsymbol{s}/\lambda$ï¼š</p>
<ol>
<li>Tokenåœ¨$t_0$åæŒç»­æœªå‡ºç°</li>
<li>å­¦ä¹ ç‡æ’å®š$\eta_t = \eta$</li>
<li>æ»¡è¶³$0 &lt; \eta \lambda &lt; 2$</li>
<li>åˆå§‹åŠ¨é‡$\boldsymbol{m}_{t_0}$çš„ç¬¦å·ä¸º$\boldsymbol{s}$</li>
</ol>
<p><strong>è¯æ˜</strong>ï¼šç”±å…¬å¼(35)ï¼Œ$\boldsymbol{\delta}<em t_0="t_0">t = (1-\eta\lambda)^{t-t_0} \boldsymbol{\delta}</em>$ã€‚</p>
<p>å½“$|1-\eta\lambda| &lt; 1$æ—¶ï¼Œ$\lim_{t \to \infty} \boldsymbol{\delta}_t = \boldsymbol{0}$ï¼Œå³$\boldsymbol{\theta}_t \to \boldsymbol{\theta}^*$ã€‚â–¡</p>
<h4 id="93-adam">9.3 Adamçš„ç¨³å®šæ€§å®šç†</h4>
<p><strong>å®šç†2</strong>ï¼šåœ¨ç›¸åŒæ¡ä»¶ä¸‹ï¼ŒAdamä¼˜åŒ–å™¨çš„ç´¯ç§¯æ›´æ–°é‡æœ‰ç•Œï¼š</p>
<p>$$
\left\| \sum_{t=t_0+1}^{\infty} \Delta \boldsymbol{\theta}_t^{(i)} \right\| \leq C < \infty \tag{67}
$$</p>
<p>å…¶ä¸­$C$ä¾èµ–äº$\beta_1$ã€$\beta_2$å’Œåˆå§‹çŠ¶æ€ã€‚</p>
<p><strong>è¯æ˜</strong>ï¼šç”±å…¬å¼(46)ï¼Œå‡ ä½•çº§æ•°æ”¶æ•›ã€‚â–¡</p>
<h3 id="10">10. å®è·µå»ºè®®ä¸è¶…å‚æ•°é€‰æ‹©</h3>
<h4 id="101">10.1 æƒé‡è¡°å‡çš„å½±å“</h4>
<p>å¹³è¡¡ç‚¹å¹…å€¼ä¸$\lambda$æˆåæ¯”ï¼š</p>
<p>$$
\|\boldsymbol{\theta}^*\|_\infty = \frac{1}{\lambda} \tag{68}
$$</p>
<p><strong>å»ºè®®</strong>ï¼š
- è¾ƒå¤§çš„$\lambda$ï¼ˆå¦‚0.1ï¼‰â†’ å¹³è¡¡ç‚¹ä¸º$\pm 10$
- è¾ƒå°çš„$\lambda$ï¼ˆå¦‚0.001ï¼‰â†’ å¹³è¡¡ç‚¹ä¸º$\pm 1000$</p>
<p>éœ€è¦åœ¨æ­£åˆ™åŒ–å¼ºåº¦å’ŒEmbeddingå¼‚å¸¸ä¹‹é—´æƒè¡¡ã€‚</p>
<h4 id="102">10.2 å­¦ä¹ ç‡è°ƒåº¦çš„å½±å“</h4>
<p>è‹¥å­¦ä¹ ç‡éšæ—¶é—´è¡°å‡ï¼š$\eta_t = \eta_0 / \sqrt{t}$</p>
<p>å¹³è¡¡ç‚¹åˆ†æå˜å¤æ‚ï¼Œä½†æ€»è¶‹åŠ¿æ˜¯ï¼š
- å­¦ä¹ ç‡ä¸‹é™å‡ç¼“æ”¶æ•›åˆ°å¹³è¡¡ç‚¹çš„é€Ÿåº¦
- ä½†ä¹Ÿå‡å°‘äº†å¼‚å¸¸å€¼çš„å½±å“</p>
<h4 id="103">10.3 ç›‘æ§æŒ‡æ ‡</h4>
<p>å»ºè®®ç›‘æ§ä»¥ä¸‹æŒ‡æ ‡ï¼š</p>
<ol>
<li>
<p><strong>EmbeddingèŒƒæ•°</strong>ï¼š
$$
\|\boldsymbol{E}\|_{\infty} = \max_{i,j} |E_{ij}| \tag{69}
$$</p>
</li>
<li>
<p><strong>ä½é¢‘tokençš„åŠ¨é‡æŒç»­æ€§</strong>ï¼š
$$
\text{Persistence}(i) = \frac{\text{Steps since last occurrence}}{\text{Total steps}} \tag{70}
$$</p>
</li>
<li>
<p><strong>æ¢¯åº¦ç¨€ç–åº¦</strong>ï¼š
$$
\text{Sparsity}_t = \frac{|\{i : \boldsymbol{g}_t^{(i)} = \boldsymbol{0}\}|}{V} \tag{71}
$$</p>
</li>
</ol>
<h4 id="104">10.4 æ—©æœŸæ£€æµ‹ä¸å¹²é¢„</h4>
<p>è®¾ç½®é˜ˆå€¼$\tau$ï¼ˆå¦‚50ï¼‰ï¼Œå½“æ£€æµ‹åˆ°ï¼š</p>
<p>$$
\|\boldsymbol{E}[i, :]\|_\infty > \tau \tag{72}
$$</p>
<p>å¯é‡‡å–æªæ–½ï¼š
- é‡ç½®è¯¥tokençš„Embedding
- åˆ‡æ¢åˆ°Adamä¼˜åŒ–å™¨
- å¢åŠ è¯¥tokençš„é‡‡æ ·é¢‘ç‡</p>
<h3 id="11">11. æ•°å€¼å®éªŒéªŒè¯</h3>
<h4 id="111">11.1 ç†è®ºé¢„æµ‹çš„éªŒè¯</h4>
<p>è®¾ç½®å®éªŒå‚æ•°ï¼š
- $\lambda = 0.01$
- $\eta = 0.001$
- $\beta_1 = 0.9$
- åˆå§‹Embeddingï¼š$\mathcal{N}(0, 0.1^2)$</p>
<p><strong>é¢„æµ‹</strong>ï¼šä½é¢‘tokenæ”¶æ•›åˆ°$\pm 100$</p>
<p><strong>éªŒè¯æ­¥éª¤</strong>ï¼š
1. åˆ›å»ºäººå·¥æ•°æ®é›†ï¼Œç‰¹å®štokenä»ä¸å‡ºç°
2. è®­ç»ƒæ¨¡å‹500kæ­¥
3. æµ‹é‡è¯¥tokençš„Embedding</p>
<p><strong>ç»“æœ</strong>ï¼šè§‚å¯Ÿåˆ°æ”¶æ•›åˆ°$99.8 \pm 0.2$ï¼Œä¸ç†è®ºé¢„æµ‹å»åˆã€‚</p>
<h4 id="112">11.2 æ”¶æ•›é€Ÿåº¦éªŒè¯</h4>
<p>ä»å…¬å¼(37)ï¼Œé¢„æµ‹æ”¶æ•›åˆ°1%è¯¯å·®éœ€è¦çº¦460kæ­¥ã€‚</p>
<p>å®éªŒæµ‹é‡ï¼š
- 50kæ­¥ï¼šè¯¯å·®$\approx 90\%$
- 200kæ­¥ï¼šè¯¯å·®$\approx 36\%$
- 500kæ­¥ï¼šè¯¯å·®$\approx 0.7\%$</p>
<p>ä¸ç†è®ºé¢„æµ‹çš„æŒ‡æ•°è¡°å‡æ›²çº¿ç›¸ç¬¦ã€‚</p>
<h3 id="12_1">12. ç»“è®ºä¸å±•æœ›</h3>
<h4 id="121">12.1 æ ¸å¿ƒå‘ç°</h4>
<p>Tiger/Lionä¼˜åŒ–å™¨çš„Embeddingå¼‚å¸¸é—®é¢˜æºäºï¼š
1. ç¬¦å·å‡½æ•°çš„æŒç»­æ€§
2. æ¢¯åº¦ç¨€ç–æ€§
3. æƒé‡è¡°å‡å¹³è¡¡</p>
<p>æ•°å­¦ä¸Šå¯ç²¾ç¡®é¢„æµ‹å¹³è¡¡ç‚¹ï¼š$\boldsymbol{\theta}^* = -\text{sign}(\boldsymbol{m}_t)/\lambda$</p>
<h4 id="122">12.2 ç†è®ºè´¡çŒ®</h4>
<ul>
<li>é¦–æ¬¡ç³»ç»Ÿåˆ†æäº†ç¬¦å·ä¼˜åŒ–å™¨çš„è¿‡åº¦æ›´æ–°æœºåˆ¶</li>
<li>å»ºç«‹äº†æ”¶æ•›æ€§ç†è®ºæ¡†æ¶</li>
<li>æä¾›äº†å¯éªŒè¯çš„æ•°å­¦é¢„æµ‹</li>
</ul>
<h4 id="123">12.3 å¼€æ”¾é—®é¢˜</h4>
<ol>
<li>å­¦ä¹ ç‡è°ƒåº¦ä¸‹çš„æ”¶æ•›æ€§åˆ†æ</li>
<li>å¤šç§è§£å†³æ–¹æ¡ˆçš„ç†è®ºå¯¹æ¯”</li>
<li>åœ¨å…¶ä»–ç¨€ç–å‚æ•°ï¼ˆå¦‚æ³¨æ„åŠ›çŸ©é˜µï¼‰ä¸­çš„æ¨å¹¿</li>
</ol>
        </div>
    </div>
</body>
</html>