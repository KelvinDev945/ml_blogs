<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChildTuningï¼šè¯•è¯•æŠŠDropoutåŠ åˆ°æ¢¯åº¦ä¸Šå»ï¼Ÿ | ML & Math Blog Posts</title>
    <meta name="description" content="ChildTuningï¼šè¯•è¯•æŠŠDropoutåŠ åˆ°æ¢¯åº¦ä¸Šå»ï¼Ÿ&para;
åŸæ–‡é“¾æ¥: https://spaces.ac.cn/archives/8764
å‘å¸ƒæ—¥æœŸ: 

Dropoutæ˜¯ç»å…¸çš„é˜²æ­¢è¿‡æ‹Ÿåˆçš„æ€è·¯äº†ï¼Œæƒ³å¿…å¾ˆå¤šè¯»è€…å·²ç»äº†è§£è¿‡å®ƒã€‚æœ‰æ„æ€çš„æ˜¯ï¼Œæœ€è¿‘Dropoutæœ‰ç‚¹â€œè€æ ‘å‘æ–°èŠ½â€çš„æ„Ÿè§‰ï¼Œå‡ºç°äº†ä¸€äº›æœ‰è¶£çš„æ–°ç©æ³•ï¼Œæ¯”å¦‚æœ€è¿‘å¼•èµ·è¿‡çƒ­è®®çš„SimCSEå’ŒR-Dropï¼Œå°¤å…¶æ˜¯åœ¨æ–‡ç« ã€Šåˆæ˜¯Dropoutä¸¤...">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css">

    <!-- Google Fonts -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/post.css">

    <!-- Custom JS -->
    <script src="../assets/js/collapsible.js" defer></script>

    <!-- MathJax for math rendering with equation numbering -->
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true,
        tags: 'ams',  // Enable equation numbering with AMS style
        tagSide: 'right',  // Place equation numbers on the right
        tagIndent: '0.8em',  // Indentation for equation numbers
        multlineWidth: '85%'
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- Syntax highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/styles/github.min.css">
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/highlight.min.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
        <div class="container">
            <a class="navbar-brand" href="../index.html">
                <i class="fas fa-brain"></i> ML & Math Blog
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html"><i class="fas fa-home"></i> é¦–é¡µ</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Post Content -->
    <article class="container post-container my-5">
        <!-- Breadcrumb Navigation -->
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="../index.html"><i class="fas fa-home"></i> é¦–é¡µ</a></li>
                
                <li class="breadcrumb-item"><a href="../index.html?tags=æ¨¡å‹">æ¨¡å‹</a></li>
                
                <li class="breadcrumb-item active" aria-current="page">
                    #153 ChildTuningï¼šè¯•è¯•æŠŠDropoutåŠ åˆ°æ¢¯åº¦ä¸Šå»ï¼Ÿ
                </li>
            </ol>
        </nav>

        <!-- Post Header -->
        <header class="post-header mb-4">
            <h1 class="post-title">
                <span class="post-number">#153</span>
                ChildTuningï¼šè¯•è¯•æŠŠDropoutåŠ åˆ°æ¢¯åº¦ä¸Šå»ï¼Ÿ
            </h1>
            <div class="post-meta">
                <span><i class="far fa-calendar"></i> 2021-11-22</span>
                
            </div>
            
            <div class="post-tags mt-3">
                
                <a href="../index.html?tags=æ¨¡å‹" class="tag-link">
                    <span class="tag"><i class="fas fa-tag"></i> æ¨¡å‹</span>
                </a>
                
                <a href="../index.html?tags=ä¼˜åŒ–" class="tag-link">
                    <span class="tag"><i class="fas fa-tag"></i> ä¼˜åŒ–</span>
                </a>
                
                <a href="../index.html?tags=æ¢¯åº¦" class="tag-link">
                    <span class="tag"><i class="fas fa-tag"></i> æ¢¯åº¦</span>
                </a>
                
                <a href="../index.html?tags=ç”Ÿæˆæ¨¡å‹" class="tag-link">
                    <span class="tag"><i class="fas fa-tag"></i> ç”Ÿæˆæ¨¡å‹</span>
                </a>
                
                <a href="../index.html?tags=attention" class="tag-link">
                    <span class="tag"><i class="fas fa-tag"></i> attention</span>
                </a>
                
                <a href="../index.html?tags=å¾®è°ƒ" class="tag-link">
                    <span class="tag"><i class="fas fa-tag"></i> å¾®è°ƒ</span>
                </a>
                
                <a href="../index.html?tags=Fisherä¿¡æ¯" class="tag-link">
                    <span class="tag"><i class="fas fa-tag"></i> Fisherä¿¡æ¯</span>
                </a>
                
                <a href="../index.html?tags=æ­£åˆ™åŒ–" class="tag-link">
                    <span class="tag"><i class="fas fa-tag"></i> æ­£åˆ™åŒ–</span>
                </a>
                
                <a href="../index.html?tags=Adam" class="tag-link">
                    <span class="tag"><i class="fas fa-tag"></i> Adam</span>
                </a>
                
                <a href="../index.html?tags=å‚æ•°é«˜æ•ˆ" class="tag-link">
                    <span class="tag"><i class="fas fa-tag"></i> å‚æ•°é«˜æ•ˆ</span>
                </a>
                
            </div>
            
        </header>

        <div class="row">
            <!-- Main Content -->
            <div class="col-lg-9">
                <!-- Post Body -->
                <div class="post-content">
                    <h1 id="childtuningdropout">ChildTuningï¼šè¯•è¯•æŠŠDropoutåŠ åˆ°æ¢¯åº¦ä¸Šå»ï¼Ÿ<a class="toc-link" href="#childtuningdropout" title="Permanent link">&para;</a></h1>
<p><strong>åŸæ–‡é“¾æ¥</strong>: <a href="https://spaces.ac.cn/archives/8764">https://spaces.ac.cn/archives/8764</a></p>
<p><strong>å‘å¸ƒæ—¥æœŸ</strong>: </p>
<hr />
<p>Dropoutæ˜¯ç»å…¸çš„é˜²æ­¢è¿‡æ‹Ÿåˆçš„æ€è·¯äº†ï¼Œæƒ³å¿…å¾ˆå¤šè¯»è€…å·²ç»äº†è§£è¿‡å®ƒã€‚æœ‰æ„æ€çš„æ˜¯ï¼Œæœ€è¿‘Dropoutæœ‰ç‚¹â€œè€æ ‘å‘æ–°èŠ½â€çš„æ„Ÿè§‰ï¼Œå‡ºç°äº†ä¸€äº›æœ‰è¶£çš„æ–°ç©æ³•ï¼Œæ¯”å¦‚æœ€è¿‘å¼•èµ·è¿‡çƒ­è®®çš„<a href="/archives/8348">SimCSE</a>å’Œ<a href="/archives/8496">R-Drop</a>ï¼Œå°¤å…¶æ˜¯åœ¨æ–‡ç« <a href="/archives/8496">ã€Šåˆæ˜¯Dropoutä¸¤æ¬¡ï¼è¿™æ¬¡å®ƒåšåˆ°äº†æœ‰ç›‘ç£ä»»åŠ¡çš„SOTAã€‹</a>ä¸­ï¼Œæˆ‘ä»¬å‘ç°ç®€å•çš„R-Dropç”šè‡³èƒ½åª²ç¾å¯¹æŠ—è®­ç»ƒï¼Œä¸å¾—ä¸è¯´è®©äººæ„å¤–ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼ŒDropoutæ˜¯è¢«åŠ åœ¨æ¯ä¸€å±‚çš„è¾“å‡ºä¸­ï¼Œæˆ–è€…æ˜¯åŠ åœ¨æ¨¡å‹å‚æ•°ä¸Šï¼Œè¿™æ˜¯Dropoutçš„ä¸¤ä¸ªç»å…¸ç”¨æ³•ã€‚ä¸è¿‡ï¼Œæœ€è¿‘ç¬”è€…ä»è®ºæ–‡<a href="https://papers.cool/arxiv/2109.05687">ã€ŠRaise a Child in Large Language Model: Towards Effective and Generalizable Fine-tuningã€‹</a>ä¸­å­¦åˆ°äº†ä¸€ç§æ–°é¢–çš„ç”¨æ³•ï¼šåŠ åˆ°æ¢¯åº¦ä¸Šé¢ã€‚</p>
<p>æ¢¯åº¦åŠ ä¸ŠDropoutï¼Ÿç›¸ä¿¡å¤§éƒ¨åˆ†è¯»è€…éƒ½æ˜¯æ²¡å¬è¯´è¿‡çš„ã€‚é‚£ä¹ˆæ•ˆæœç©¶ç«Ÿå¦‚ä½•å‘¢ï¼Ÿè®©æˆ‘ä»¬æ¥è¯¦ç»†çœ‹çœ‹ã€‚</p>
<h2 id="_1">æ–¹æ³•å¤§æ„<a class="toc-link" href="#_1" title="Permanent link">&para;</a></h2>
<p>ç®€å•æ¥è¯´ï¼Œè¿™ç¯‡è®ºæ–‡ä¸»è¦æå‡ºäº†ä¸€ç§åä¸ºâ€œChildTuningâ€çš„æ€è·¯ï¼Œæ¥æé«˜é¢„è®­ç»ƒæ¨¡å‹åœ¨finetuneæ—¶çš„æ•ˆæœï¼Œå…¶ä¸­â€œChildâ€æ˜¯â€œChildren Networkâ€çš„æ„æ€ï¼ŒæŒ‡çš„æ˜¯ä»é¢„è®­ç»ƒæ¨¡å‹ä¸­é€‰æ‹©ä¸€ä¸ªå­ç½‘ç»œè¿›è¡Œä¼˜åŒ–ï¼Œç¼“è§£ä¼˜åŒ–æ•´ä¸ªæ¨¡å‹æ‰€å¸¦æ¥çš„è¿‡æ‹Ÿåˆé£é™©ã€‚å…¶ä¸­ï¼Œåœ¨å­ç½‘ç»œçš„é€‰æ‹©ä¸Šï¼Œåˆåˆ†ä¸ºä¸¤ç§æ–¹å¼ï¼šChildTuning-Då’ŒChildTuning-Fã€‚</p>
<h3 id="childtuning-d">ChildTuning-D<a class="toc-link" href="#childtuning-d" title="Permanent link">&para;</a></h3>
<p>ChildTuning-Dï¼ˆTask-Dependentï¼‰æ˜¯ä»»åŠ¡ç›¸å…³çš„é€‰æ‹©æ–¹å¼ï¼Œå®ƒéœ€è¦ä¸‹æ¸¸ä»»åŠ¡çš„è®­ç»ƒæ•°æ®æ¥å‚ä¸è®¡ç®—ã€‚å…·ä½“æ¥è¯´ï¼Œå‡è®¾è®­ç»ƒæ•°æ®ä¸º$(x_1,y_1),(x_2,y_2),\cdots,(x_n,y_n)$ï¼Œæ¨¡å‹ä¸º$p(y|x;\theta)$ï¼Œå…¶ä¸­$\theta$æ˜¯æ¨¡å‹çš„æ‰€æœ‰å‚æ•°ï¼Œè€Œ$\theta_i$åˆ™æ˜¯å…¶ä¸­çš„ç¬¬$i$ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬è®¡ç®—å¦‚ä¸‹å½¢å¼çš„Fisherä¿¡æ¯ä½œä¸ºè¯¥å‚æ•°çš„é‡è¦æ€§ï¼š<br />
\begin{equation}F_i = \frac{1}{n}\sum_{j=1}^n \left(\frac{\partial \log p(y_j|x_j;\theta)}{\partial\theta_i}\right)^2\end{equation}<br />
æœ‰äº†é‡è¦æ€§æŒ‡æ ‡åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹æ¯ä¸ªå‚æ•°è¿›è¡Œæ’åºï¼Œç„¶åé€‰å‡ºæœ€é‡è¦çš„top-$p$éƒ¨åˆ†ï¼ˆæ¯”å¦‚å‰20%ï¼Œå³$p=0.2$ï¼‰ï¼Œç„¶ååœ¨æ¨¡å‹æ›´æ–°çš„æ—¶å€™åªä¼˜åŒ–è¿™äº›å‚æ•°ã€‚ç”±äºä¼˜åŒ–çš„å‚æ•°å˜å°‘äº†ï¼Œæ‰€ä»¥è¿‡æ‹Ÿåˆçš„é£é™©ä¹Ÿå°±é™ä½äº†ã€‚åœ¨å®é™…ä½¿ç”¨æ—¶ï¼ŒChildTuning-Dåœ¨finetuneä¹‹å‰å°±æŠŠè¦ä¼˜åŒ–çš„å‚æ•°ç¡®å®šä¸‹æ¥ï¼Œç„¶åå°±ä¸€ç›´ä¿æŒä¸å˜äº†ã€‚</p>
<p>è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„å‚æ•°é€‰æ‹©æ˜¯ä»¥æ¯ä¸ªåˆ†é‡ä¸ºå•ä½çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯èƒ½ä¸€ä¸ªå‚æ•°çŸ©é˜µé‡Œè¾¹ï¼Œåªæœ‰ä¸€éƒ¨åˆ†è¢«é€‰æ‹©ä¸­ï¼Œæ‰€ä»¥ä¸èƒ½è¯´å•ç‹¬æŒ‘å‡ºå“ªäº›å‚æ•°çŸ©é˜µä¸ä¼˜åŒ–ï¼Œè€Œæ˜¯è¦é€šè¿‡æ„å»ºå¯¹åº”çš„0/1çŸ©é˜µ$M$æ¥å°†å¯¹åº”çš„æ¢¯åº¦maskæ‰ï¼Œå³$g\leftarrow g\otimes M / p$ï¼Œå…¶ä¸­é™¤ä»¥$p$æ˜¯ä¿æŒæ•´ç†çš„æ›´æ–°é‡çº§ä¸å˜ã€‚è¿™æ ·æ²¡è¢«é€‰ä¸­çš„å‚æ•°æ¢¯åº¦ä¸€ç›´æ˜¯0ï¼Œæ‰€ä»¥ä¹Ÿå°±æ²¡æœ‰æ›´æ–°äº†ã€‚è¿™æ ·ä¸€æ¥ï¼Œè™½ç„¶ç†è®ºä¸Šæ›´æ–°çš„å‚æ•°å°‘äº†ï¼Œä½†å®ƒä¹Ÿä¸èƒ½èŠ‚çº¦è®¡ç®—é‡ï¼Œæ‰€ä»¥ä½œè€…åªæ˜¯å°†å®ƒå®šä½ä¸ºæé«˜finetuneæ•ˆæœçš„æ–¹æ³•ã€‚</p>
<h3 id="childtuning-f">ChildTuning-F<a class="toc-link" href="#childtuning-f" title="Permanent link">&para;</a></h3>
<p>ChildTuning-Fï¼ˆTask-Freeï¼‰æ˜¯ä»»åŠ¡æ— å…³çš„é€‰æ‹©æ–¹å¼ï¼Œå…¶å®å®ƒå¯ä»¥æ›´å½¢è±¡åœ°ç§°ä¸ºâ€œæ¢¯åº¦Dropoutâ€ã€‚å¯¹äºChildTuning-Dæ¥è¯´ï¼Œæˆ‘ä»¬å°±æ˜¯æ ¹æ®ä»»åŠ¡æ•°æ®æ¥æ„å»ºäº†å›ºå®šçš„0/1çŸ©é˜µ$M$ï¼Œç„¶åå°†æ¢¯åº¦ä¿®æ”¹ä¸º$g\otimes M / p$ï¼Œè€ŒChildTuning-Fæ—¢ç„¶å¸Œæœ›ä¸ä»»åŠ¡æ— å…³ï¼Œé‚£ä¹ˆå®ƒæ¯æ­¥æ›´æ–°å°±éšæœºæ„å»ºä¸€ä¸ª0/1çŸ©é˜µ$M$ï¼Œå…¶ä¸­1çš„æ¯”ä¾‹ä¸º$p$ï¼Œç„¶åå°†æ¢¯åº¦ä¿®æ”¹ä¸º$g\otimes M / p$ã€‚å¯ä»¥çœ‹åˆ°ï¼Œè¿™æœ¬è´¨å°±æ˜¯å¯¹æ¢¯åº¦è¿›è¡ŒDropoutã€‚</p>
<p>è¦æ³¨æ„ï¼ŒæŸä¸ªå‚æ•°å½“å‰çš„æ¢¯åº¦ä¸º0ï¼Œä¹Ÿä¸ä»£è¡¨è¯¥å‚æ•°å½“å‰çš„æ›´æ–°é‡ä¸º0ï¼Œå› ä¸ºæˆ‘ä»¬é€šå¸¸ç”¨çš„éƒ½æ˜¯å¸¦æœ‰åŠ¨é‡çš„ä¼˜åŒ–å™¨å¦‚SGDMå’ŒAdamï¼Œå¯¹äºæ­¤ç±»ä¼˜åŒ–å™¨ï¼Œæ›´æ–°é‡æ˜¯æ­£æ¯”äºåŠ¨é‡ï¼Œè€ŒåŠ¨é‡æ˜¯å†å²æ¢¯åº¦æ»‘åŠ¨å¹³å‡è¿‡æ¥çš„ï¼Œå³$m_t = \beta m_{t-1} + (1-\beta)g_t$ï¼Œæ‰€ä»¥å¦‚æœè¯¥å‚æ•°çš„å†å²æ¢¯åº¦ä¸ä¸º0ï¼Œé‚£ä¹ˆå³ä¾¿å½“å‰æ¢¯åº¦ä¸º0ï¼ŒåŠ¨é‡ä¾ç„¶å¾ˆå¯èƒ½ä¸ä¼šä¸º0ï¼Œæ‰€ä»¥æ›´æ–°é‡ä¹Ÿä¸ä¸º0ã€‚</p>
<p>æ‰€ä»¥åœ¨è¿™é‡Œç¬”è€…å°±æœ‰ä¸ªç–‘é—®ï¼ŒæŒ‰ç…§ChildTuningçš„è®¾è®¡æ€è·¯ï¼Œå®ƒåº”è¯¥æ˜¯æƒ³è¦æ¯æ­¥åªé€‰æ‹©ä¸€ä¸ªå­ç½‘ç»œè¿›è¡Œæ›´æ–°ï¼Œè¯´ç™½äº†å°±æ˜¯æ¯ä¸€æ­¥åªæ›´æ–°$p$æ¯”ä¾‹çš„å‚æ•°ï¼Œä½†æ ¹æ®ä¸Šé¢çš„åˆ†æï¼Œå¯¹æ¢¯åº¦è¿›è¡ŒDropoutå…¶å®è¾¾ä¸åˆ°è¿™ä¸ªç›®çš„ï¼Œè€Œè¦å®ç°è¿™ä¸ªç›®çš„ï¼Œåº”è¯¥è¦å¯¹æ¯æ­¥æ›´æ–°é‡$\Delta\theta$è¿›è¡ŒDropoutæ‰å¯¹ã€‚ä½†ç¬”è€…åå¤çœ‹äº†åŸè®ºæ–‡ï¼Œç”šè‡³å¯¹ç…§äº†è®ºæ–‡å¼€æºçš„ä»£ç ï¼Œæœ€ç»ˆç¡®è®¤è®ºæ–‡çš„æ„æ€ç¡®å®æ˜¯å¯¹æ¢¯åº¦è¿›è¡ŒDropoutã€‚</p>
<h2 id="_2">å®éªŒç»“æœ<a class="toc-link" href="#_2" title="Permanent link">&para;</a></h2>
<p>ä»åŸè®ºæ–‡ç»™å‡ºçš„å®éªŒç»“æœæ¥çœ‹ï¼ŒChildTuningçš„â€œæˆ˜ç»©â€æ˜¯ç›¸å½“è€€çœ¼äº†ï¼Œå‡ ä¹éƒ½æœ‰æå‡ï¼Œè€Œä¸”æœ€é«˜æå‡è¾¾åˆ°8%ï½</p>
<p><a href="/usr/uploads/2021/11/602640021.png" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="ChildTuningçš„â€œæˆ˜ç»©â€-1" src="/usr/uploads/2021/11/602640021.png" /></a></p>
<p>ChildTuningçš„â€œæˆ˜ç»©â€-1</p>
<p><a href="/usr/uploads/2021/11/3333775018.png" title="ç‚¹å‡»æŸ¥çœ‹åŸå›¾"><img alt="ChildTuningçš„â€œæˆ˜ç»©â€-2" src="/usr/uploads/2021/11/3333775018.png" /></a></p>
<p>ChildTuningçš„â€œæˆ˜ç»©â€-2</p>
<p>ä»è¡¨ä¸­å¯ä»¥çœ‹å‡ºï¼Œå¯¹äºChildTuning-Dæ¥è¯´ï¼Œå‡ ä¹æ‰€æœ‰ä»»åŠ¡ä¸Šéƒ½å–å¾—äº†æå‡ï¼Œè€ŒChildTuning-Fä¹Ÿåœ¨ä¸å°‘ä»»åŠ¡ä¸Šæœ‰æ•ˆã€‚å¦å¤–ï¼Œçœ‹è®ºæ–‡æè¿°å¯ä»¥çŸ¥é“ä¸Šé¢ç»™å‡ºçš„éƒ½æ˜¯largeç‰ˆæœ¬æ¨¡å‹çš„ç»“æœï¼Œè€Œç§ä¸‹è·Ÿä½œè€…äº¤æµçš„æ—¶å€™ï¼Œä½œè€…è¡¨ç¤ºbaseç‰ˆæœ¬çš„æ•ˆæœä¹Ÿæœ‰æå‡ï¼Œåªæ˜¯é™äºè®ºæ–‡ç¯‡å¹…ï¼Œæ²¡æœ‰è´´å‡ºæ¥ã€‚</p>
<h2 id="_3">åŸç†æ€è€ƒ<a class="toc-link" href="#_3" title="Permanent link">&para;</a></h2>
<p>ChildTuning-DåŸºäºFisherä¿¡æ¯æ¥å¯¹è¿›è¡Œå‚æ•°æ’åºï¼Œè¯¥æ€è·¯ç”±æ¥å·²ä¹…ï¼Œå®ƒæœ‰æ•ˆå¹¶ä¸è®©äººæ„å¤–ï¼Œç±»ä¼¼çš„å·¥ä½œè¿˜æœ‰<a href="https://papers.cool/arxiv/2111.09839">ã€ŠTraining Neural Networks with Fixed Sparse Masksã€‹</a>ç­‰ã€‚åå€’æ˜¯ä»»åŠ¡æ— å…³çš„ChildTuning-Fï¼Œä¹Ÿå°±æ˜¯æ¢¯åº¦Dropoutï¼Œå±…ç„¶ä¹Ÿæœ‰è¿™ä¹ˆæ•ˆæœï¼Œå€¼å¾—æˆ‘ä»¬ç»†ç»†æ€è€ƒã€‚</p>
<p>æ— ç‹¬æœ‰å¶ï¼Œå¯¹æ¢¯åº¦è¿›è¡ŒDropoutçš„å·¥ä½œï¼Œå»å¹´ä¹Ÿæœ‰ä¸€ç¯‡ï¼Œåä¸º<a href="https://papers.cool/arxiv/2004.05859">ã€ŠRegularizing Meta-Learning via Gradient Dropoutã€‹</a>ã€‚è¿™è¡¨æ˜ï¼ŒGradient Dropoutåº”è¯¥ç¡®å®èƒ½èµ·åˆ°ä¸€å®šæ•ˆæœçš„ã€‚é‚£å®ƒç©¶ç«Ÿä¸ºä»€ä¹ˆæœ‰æ•ˆå‘¢ï¼Ÿ</p>
<h3 id="_4">è®ºæ–‡æ¨å¯¼<a class="toc-link" href="#_4" title="Permanent link">&para;</a></h3>
<p>åŸè®ºæ–‡ç»™å‡ºä¸€ä¸ªåŸºäºSGDçš„ç†è§£ï¼Œå®ƒæŒ‡å‡ºæ¢¯åº¦Dropoutèƒ½æ‰©å¤§æ›´æ–°è¿‡ç¨‹ä¸­çš„æ–¹å·®ï¼Œä»è€Œæœ‰åŠ©äºæ¨¡å‹é€ƒç¦»ä¸é‚£ä¹ˆå¥½çš„å±€éƒ¨æœ€ä¼˜ç‚¹ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯ç”¨äº†SGDï¼Œæ‰€ä»¥æ¯æ­¥æ‰€è®¡ç®—çš„æ¢¯åº¦æœ‰ä¸€å®šçš„éšæœºæ€§ï¼Œå‡è®¾å®ƒæœä»å‡å€¼ä¸º$\mu$ã€æ–¹å·®ä¸º$\sigma^2$çš„é«˜æ–¯åˆ†å¸ƒï¼›å¯¹äºChildTuning-Fæ¥è¯´ï¼Œå¼•å…¥ä¸€ä¸ªéšæœºå˜é‡$\varepsilon$ï¼Œæœ‰$p$çš„æ¦‚ç‡ä¸º1ï¼Œå‰©ä¸‹$1-p$çš„æ¦‚ç‡ä¸º0ã€‚é‚£ä¹ˆæˆ‘ä»¬å°†æœ‰<br />
\begin{equation}\begin{aligned}&amp;\mathbb{E}[g\varepsilon/p]=\mathbb{E}[g]\mathbb{E}[\varepsilon]/p=\mu \\
&amp;\mathbb{E}[(g\varepsilon/p)^2]=\mathbb{E}[g^2]\mathbb{E}[\varepsilon^2]/p^2 = (\mu^2+\sigma^2)/p
\end{aligned}\end{equation}<br />
æ‰€ä»¥<br />
\begin{equation}\mathbb{V}ar[g\varepsilon/p] = \mathbb{E}[(g\varepsilon/p)^2] - \mathbb{E}[g\varepsilon/p]^2=\sigma^2 + \frac{1-p}{p}(\mu^2+\sigma^2) &gt; \sigma^2\end{equation}<br />
ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¢¯åº¦Dropoutèƒ½ä¿æŒæ¢¯åº¦çš„å‡å€¼ä¸å˜ï¼Œä½†èƒ½æ‰©å¤§æ–¹å·®ï¼Œè€Œåœ¨SGDä¸­ï¼Œæ›´æ–°é‡æ­£æ¯”äºæ¢¯åº¦ï¼Œå› æ­¤æ¢¯åº¦Dropoutæ‰©å¤§äº†æ›´æ–°é‡çš„æ–¹å·®ï¼Œè®ºæ–‡è®¤ä¸ºè¿™æœ‰åŠ©äºæ¨¡å‹è¾¾åˆ°æ›´å¥½çš„æ”¶æ•›ç»“æœã€‚</p>
<h3 id="_5">ç­”éæ‰€é—®<a class="toc-link" href="#_5" title="Permanent link">&para;</a></h3>
<p>è¿™ä¸ªè§£é‡Šçœ‹ä¸Šå»æŒºåˆç†çš„ï¼Œä¹Ÿç¬¦åˆå¾ˆå¤šäººçš„ç›´è§‰ï¼Œå› ä¸ºå¾ˆå¤šäººçš„æ½œæ„è¯†é‡Œè§‰å¾—éšæœºæ¢¯åº¦ä¸‹é™æ¯”å…¨é‡æ¢¯åº¦ä¸‹é™å¥½çš„åŸå› å°±æ˜¯å› ä¸ºæœ‰å™ªå£°ã€‚ç„¶è€Œï¼Œåªè¦æˆ‘ä»¬ç¨å¾®æ·±å…¥æ€è€ƒä¸€ä¸‹ï¼Œå°±èƒ½å‘ç°ä¸Šè¿°è§£é‡Šå…¶å®æ˜¯â€œç­”éæ‰€é—®â€ã€‚</p>
<p>åŸå› å¾ˆç®€å•ï¼Œä¸Šé¢åˆ†æçš„æ˜¯SGDï¼Œä½†å®é™…ä¸Šåœ¨NLPä¸­æˆ‘ä»¬ç”¨çš„éƒ½æ˜¯Adamï¼ˆæˆ–è€…æ˜¯å®ƒçš„å˜ç§ï¼‰ï¼Œä¸Šè¿°ç»“è®ºè¿˜èƒ½åœ¨Adamä¸­ä¿æŒå—ï¼Ÿå¾ˆé—æ†¾ï¼Œä¸èƒ½ï¼Œç”šè‡³åˆšå¥½ç›¸åã€‚åœ¨Adamä¸­ï¼Œé•¿æœŸæ¥çœ‹ï¼Œæ›´æ–°é‡å¯ä»¥è¿‘ä¼¼çœ‹æˆï¼ˆ$\eta$æ˜¯å­¦ä¹ ç‡ï¼‰<br />
\begin{equation}\Delta\theta = \eta\frac{\mathbb{E}[g]}{\sqrt{\mathbb{E}[g^2]}}\end{equation}<br />
äºæ˜¯åŠ äº†æ¢¯åº¦Dropoutåï¼Œæ›´æ–°é‡å˜ä¸º<br />
\begin{equation}\eta\frac{\mathbb{E}[g\varepsilon/p]}{\sqrt{\mathbb{E}[(g\varepsilon/p)^2]}}=\eta\sqrt{p}\frac{\mathbb{E}[g]}{\sqrt{\mathbb{E}[g^2]}}\end{equation}<br />
å¯ä»¥çœ‹åˆ°ï¼Œé•¿æœŸæ¥çœ‹ï¼ŒAdamåŠ ä¸Šæ¢¯åº¦Dropoutåï¼Œä»…ä»…ç›¸å½“äºå­¦ä¹ ç‡é™ä½ä¸ºåŸæ¥çš„$\sqrt{p}$å€ï¼è€Œä¸”ç”±äºé™ä½äº†å­¦ä¹ ç‡ï¼Œä¹Ÿå³é™ä½äº†æ›´æ–°é‡ï¼Œä»è€Œæ›´æ–°é‡çš„æ–¹å·®ä¹Ÿéšä¹‹é™ä½ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä½ ç”¨äº†Adamä¼˜åŒ–å™¨ï¼Œé‚£ä¹ˆå®é™…æƒ…å†µè·Ÿè®ºæ–‡çš„è§£é‡Šåˆšå¥½ç›¸åï¼Œæ›´æ–°é‡çš„æ–¹å·®ä¸ä»…æ²¡æœ‰å¢åŠ ï¼Œåè€Œæ˜¯é™ä½äº†ã€‚</p>
<p>å‡ºç°è¿™ä¸ªç°è±¡çš„æ ¹æœ¬åŸå› å°±æ˜¯ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨äº†å¸¦æœ‰æ»‘åŠ¨å¹³å‡çš„ä¼˜åŒ–å™¨æ—¶ï¼Œæ›´æ–°é‡é€šå¸¸å·²ç»ä¸åœ¨æ­£æ¯”äºæ¢¯åº¦äº†ï¼Œæ‰€ä»¥æ¢¯åº¦å¦‚ä½•å˜åŒ–ï¼Œè·Ÿæ›´æ–°é‡å¦‚ä½•å˜åŒ–ï¼Œå¹¶æ²¡æœ‰å¿…ç„¶çš„å…³è”ã€‚è¿™å°±å›åˆ°äº†ç¬”è€…å‰é¢çš„ç–‘é—®äº†ï¼šä¸ºä»€ä¹ˆä½œè€…ä¸å¹²è„†ç›´æ¥å¯¹æ›´æ–°é‡è¿›è¡ŒDropoutï¼Ÿå¦‚æœæ˜¯æ›´æ–°é‡Dropoutï¼Œé‚£ä¹ˆå‰é¢åŸºäºSGDçš„æ¨å¯¼ä¹Ÿèƒ½æ¬è¿‡æ¥äº†ã€‚</p>
<h3 id="_6">ä¸ªäººç†è§£<a class="toc-link" href="#_6" title="Permanent link">&para;</a></h3>
<p>ä¸è¿‡ï¼Œç¬”è€…è®¤ä¸ºï¼Œå°±ç®—æŠŠä¼˜åŒ–å™¨é™åˆ¶ä¸ºSGDï¼Œæˆ–è€…ç›´æ¥å¯¹æ›´æ–°é‡è¿›è¡ŒDropoutï¼ŒåŸè®ºæ–‡çš„æ¨å¯¼ä¹Ÿä¸èƒ½å®Œå…¨è§£é‡Šå®ƒçš„æœ‰æ•ˆæ€§ã€‚ç†ç”±ä¹Ÿå¾ˆç®€å•ï¼Œèƒ½å¤Ÿè¾¾åˆ°â€œå‡å€¼ä¸å˜ã€æ–¹å·®æ‰©å¤§â€çš„æ“ä½œå¤ªå¤šäº†ï¼Œæ¯”å¦‚ç›´æ¥å¾€æ¢¯åº¦é‡Œè¾¹åŠ ç‚¹é«˜æ–¯å™ªå£°ä¹Ÿå¯ä»¥ï¼Œéš¾é“æ‰€æœ‰çš„è¿™äº›æ“ä½œéƒ½èƒ½è¾¾åˆ°åŒæ ·çš„æ•ˆæœï¼Ÿä¸ªäººæ„Ÿè§‰ä¸å¤§å¯èƒ½ã€‚ç¬”è€…è®¤ä¸ºï¼Œè¦è§£é‡Šæ¢¯åº¦Dropoutæˆ–è€…æ›´æ–°é‡Dropoutçš„æœ‰æ•ˆæ€§ï¼Œå¾—ç€çœ¼äºDropoutå¸¦æ¥çš„ç¨€ç–æ€§ã€‚</p>
<p>åœ¨è¿™ä¸ªé—®é¢˜ä¸Šï¼Œç¬”è€…è”æƒ³åˆ°äº†ä¹‹å‰å†™è¿‡çš„æ–‡ç« <a href="/archives/8009">ã€Šä»åŠ¨åŠ›å­¦è§’åº¦çœ‹ä¼˜åŒ–ç®—æ³•ï¼ˆä¸ƒï¼‰ï¼šSGD â‰ˆ SVMï¼Ÿã€‹</a>ï¼Œè¿™ç¯‡æ–‡ç« å‘Šè¯‰æˆ‘ä»¬ï¼Œæ‰€æœ‰SGDå‡ºæ¥çš„æ¨¡å‹ï¼Œå…¶è§£æœ¬è´¨ä¸Šéƒ½ç±»ä¼¼äºSVMæ¨¡å‹ï¼š<br />
\begin{equation}f_{\theta_T}(x) = \beta(x) + \sum_i \alpha_i (x) K(x, x_i)\end{equation}<br />
å…¶ä¸­$x_i$æ˜¯ç¬¬$i$ä¸ªè®­ç»ƒæ ·æœ¬ã€‚å®ƒæœ‰ä»€ä¹ˆç‰¹ç‚¹å‘¢ï¼Ÿ$K(x,x_i)$çš„è¡¨ç°ç±»ä¼¼ä¸€ä¸ªâ€œç›¸ä¼¼åº¦å‡½æ•°â€ï¼Œä¸Šè¿°å½¢å¼æ„å‘³ç€æ¨¡å‹å®é™…ä¸Šä¼šä»¥æŸç§å½¢å¼æŠŠè®­ç»ƒé›†â€œèƒŒâ€ä¸‹æ¥äº†ï¼Œç„¶åé¢„æµ‹çš„æ—¶å€™ä¼šä»¥$K(x,x_i)$ä¸ºç›¸ä¼¼åº¦å–æ£€ç´¢è®­ç»ƒé›†ï¼Œç„¶åç»™å‡ºé¢„æµ‹ç»“æœã€‚å½“ç„¶ï¼Œè¿™åªæ˜¯ä¸€ä¸ªåŸç†æ€§çš„è§£é‡Šï¼Œæˆ‘ä»¬å¹¶ä¸æ˜¯ä¸»åŠ¨å°†æ¨¡å‹è®¾è®¡æˆè¿™æ ·çš„å½¢å¼ï¼Œæˆ‘ä»¬åªæ˜¯ä»è¿™ä¸ªè§’åº¦çœ‹å‡ºï¼Œæ¢¯åº¦ä¸‹é™å®é™…ä¸Šä¹Ÿæ˜¯åœ¨èƒŒæ ·æœ¬ï¼Œç„¶åä»¥ç±»ä¼¼äºKNNçš„å½¢å¼ç»™å‡ºé¢„æµ‹ç»“æœï¼Œè¿™å°±ä¸éš¾ç†è§£ä¸ºä»€ä¹ˆé€šå¸¸æ¥è¯´â€œè®­ç»ƒæ ·æœ¬è¶Šå¤šï¼Œæ•ˆæœè¶Šå¥½â€çš„ç»“è®ºäº†ã€‚</p>
<p>å›åˆ°ChildTuning-Fä¸Šï¼Œæˆ‘ä»¬æ¯æ¬¡é‡‡æ ·ä¸€ä¸ªbatchï¼Œç„¶åå¯¹ç®—å‡ºæ¥çš„æ¢¯åº¦æˆ–æ›´æ–°é‡è¿›è¡ŒDropoutï¼Œç»“åˆä¸Šé¢çš„â€œèƒŒæ ·æœ¬â€è§£é‡Šï¼Œæˆ‘ä»¬å¯ä»¥ç›´è§‚åœ°æƒ³è±¡ï¼Œè¿™æœ¬è´¨ä¸Šå°±æ˜¯â€œåªç”¨ä¸€å°éƒ¨åˆ†å‚æ•°æ¥èƒŒè¯µä¸€å°éƒ¨åˆ†æ ·æœ¬â€ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½è¦ç”¨å…¨ä½“å‚æ•°æ¥èƒŒè¯µé‚£ä¸€å°æ‰¹æ ·æœ¬ã€‚æ‰€ä»¥ï¼Œè¿™è·Ÿâ€œä¸è¦å°†é¸¡è›‹æ”¾åœ¨åŒä¸€ä¸ªç¯®å­é‡Œâ€åº”è¯¥æ˜¯ç›¸ä¼¼çš„ï¼Œå°†æ ·æœ¬æ›´å‡åŒ€åˆ†æ•£åœ¨æ¯ä¸€ä¸ªå‚æ•°ä¸­ï¼Œä»è€Œé™ä½äº†è¿‡æ‹Ÿåˆé£é™©ã€‚</p>
<h2 id="_7">å°è¯•ä¸€ä¸‹<a class="toc-link" href="#_7" title="Permanent link">&para;</a></h2>
<p>å¯¹äºChildTuning-Fæ¥è¯´ï¼Œå¦‚æœè‡ªå·±æ‡‚å¾—æ”¹ä¼˜åŒ–å™¨çš„è¯ï¼Œä¸ç®¡æ˜¯å¯¹æ¢¯åº¦Dropoutè¿˜æ˜¯å¯¹æ›´æ–°é‡Dropoutï¼Œéƒ½åªæ˜¯ä¸€è¡Œä»£ç çš„å·¥ä½œé‡ï¼Œå› æ­¤è¿˜æ˜¯å€¼å¾—å°è¯•ä¸€ä¸‹çš„ã€‚ä¸‡ä¸€çœŸçš„æœ‰ç”¨å‘¢ï¼Ÿ</p>
<p>è¿™é‡Œç¬”è€…åœ¨CLUEçš„å‡ ä¸ªä»»åŠ¡ä¸Šåšäº†æµ‹è¯•ï¼Œç»“æœå¦‚ä¸‹è¡¨ã€‚å…¶ä¸­ï¼Œbaselineä»£ç æ¥è‡ª<a href="/archives/8739">ã€Šbert4kerasåœ¨æ‰‹ï¼Œbaselineæˆ‘æœ‰ï¼šCLUEåŸºå‡†ä»£ç ã€‹</a>ï¼Œâ€œgrad dropâ€æ˜¯å¯¹æ¢¯åº¦è¿›è¡ŒDropoutï¼Œâ€œincre dropâ€æ˜¯å¯¹æ›´æ–°é‡è¿›è¡ŒDropoutï¼Œç»¿è‰²è¡¨ç¤ºç›¸æ¯”baselineæœ‰æå‡ï¼Œçº¢è‰²åˆ™è¡¨ç¤ºä¸‹é™ã€‚æ—¶é—´ç®—åŠ›éƒ½æœ‰é™ï¼Œæ‰€æœ‰ç»“æœéƒ½åªè·‘äº†ä¸€æ¬¡ï¼Œå­˜åœ¨ä¸€å®šçš„éšæœºæ³¢åŠ¨ã€‚</p>
<p>$$\begin{array}{c}
\text{CLUEåˆ†ç±»ä»»åŠ¡å¯¹æ¯”å®éªŒï¼ˆéªŒè¯é›†ï¼‰} \\
{\begin{array}{c|ccccccc}
\hline
&amp; \text{IFLYTEK} &amp; \text{TNEWS} &amp; \text{AFQMC} &amp; \text{OCNLI} &amp; \text{CMNLI} &amp; \text{WSC} &amp; \text{CSL} \\
\hline
\text{BERT} &amp; 60.06 &amp; 56.80 &amp; 72.41 &amp; 73.93 &amp; 79.56 &amp; 78.62 &amp; 83.93 \\
\text{BERT}<em _text_-incre="\text{-incre" drop="drop">{\text{-grad drop}} &amp; \color{green}{60.56} &amp; \color{green}{56.97} &amp; \color{red}{72.13} &amp; \color{green}{74.88} &amp; \color{green}{80.09} &amp; \color{red}{75.99} &amp; \color{red}{83.83} \\
\text{BERT}</em> \\}} &amp; \color{red}{59.99} &amp; \color{red}{56.78} &amp; \color{green}{72.66} &amp; \color{green}{74.51} &amp; \color{red}{79.36} &amp; \color{red}{77.30} &amp; \color{green}{84.20
\hline
\text{RoBERTa} &amp; 60.64 &amp; 58.06 &amp; 74.05 &amp; 76.00 &amp; 81.24 &amp; 87.50 &amp; 84.50\\
\text{RoBERTa}<em _text_-incre="\text{-incre" drop="drop">{\text{-grad drop}} &amp; \color{green}{60.72} &amp; \color{red}{57.91} &amp; \color{red}{74.03} &amp; \color{red}{75.19} &amp; \color{red}{80.52} &amp; \color{red}{84.54} &amp; \color{green}{84.73}\\
\text{RoBERTa}</em>\\}} &amp; \color{green}{60.87} &amp; \color{red}{57.99} &amp; \color{red}{74.03} &amp; \color{red}{75.97} &amp; \color{red}{81.02} &amp; \color{red}{84.87} &amp; \color{green}{84.73
\hline
\end{array}}
\end{array}$$</p>
<p>ä»è¡¨æ ¼ä¸­ï¼Œæˆ‘ä»¬å¤§è‡´å¯ä»¥çœ‹å‡ºï¼š</p>
<blockquote>
<p>1ã€å¯¹æ¢¯åº¦Dropoutå’Œå¯¹æ›´æ–°é‡è¿›è¡ŒDropoutï¼Œå¤§è‡´ä¸Šå„æœ‰ä¼˜åŠ£ï¼›</p>
<p>2ã€åœ¨BERTä¸Šçš„æ•ˆæœæ˜æ˜¾ä¸€äº›ï¼Œåœ¨RoBERTaä¸Šçš„æ•ˆæœå‡ ä¹æ²¡æœ‰ï¼Œè¿™è·Ÿè®ºæ–‡ç»™å‡ºçš„è‹±æ–‡å®éªŒç»“æœç›¸ä¼¼ã€‚</p>
</blockquote>
<p>è¿™ç»“æœæŒºè®©äººæ— è¯­çš„ï¼Œä¸èƒ½è¯´å®ƒæ²¡æ•ˆï¼Œä½†æ­£å¸¸æ¥è¯´ï¼Œè°ä¼šç”¨é€Ÿåº¦ä¸€æ ·ã€æ•ˆæœæ›´å·®çš„BERTè€Œä¸ç”¨æ•ˆæœæ›´å¥½çš„RoBERTaå‘¢ï¼Ÿé‚£ä¹ˆï¼Œå¦‚æœRoBERTaä¸æ€ä¹ˆworkçš„è¯ï¼Œä¼¼ä¹å°±æ²¡å•¥å°è¯•çš„ä»·å€¼äº†ï¼Ÿå½“ç„¶ï¼ŒåŸè®ºæ–‡æå‡æœ€å¤§çš„æ˜¯Electraï¼Œè¿™ä¸ªæˆ‘æ²¡å°è¯•è¿‡ï¼Œæœ‰å…´è¶£çš„è¯»è€…å°è¯•äº†æŠŠç»“æœå‘Šè¯‰æˆ‘ä¸€ä¸‹å“ˆã€‚</p>
<p>å¦å¤–ï¼Œç¬”è€…å¯¹ChildTuning-Dæ²¡æœ‰ç‰¹åˆ«çš„å…´è¶£ï¼ŒåŠ ä¸ŠChildTuning-Dçš„å®ç°ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œæ‰€ä»¥ä¹Ÿå°±æ²¡æœ‰å®éªŒChildTuning-Däº†ï¼Œå®éªŒè¿‡çš„è¯»è€…ä¹Ÿæ¬¢è¿åé¦ˆç»“æœå“ˆã€‚</p>
<h2 id="_8">æ–‡ç« æ€»ç»“<a class="toc-link" href="#_8" title="Permanent link">&para;</a></h2>
<p>æœ¬æ–‡ä»‹ç»äº†å¾€æ¢¯åº¦é‡Œè¾¹åŠ å…¥Dropoutæ¥æé«˜finetuneæ•ˆæœçš„åšæ³•ï¼Œå¹¶ç»™å‡ºäº†è‡ªå·±çš„ç†è®ºåˆ†æã€‚æ€»çš„æ¥è¯´ï¼Œä¸ªäººçš„æ„Ÿè§‰æ˜¯ï¼šå¯ä»¥å°è¯•ï¼Œå¯èƒ½æœ‰æ•ˆï¼Œä½†ä¸è¦æœŸæœ›å¤ªé«˜ï½</p>
<p><em><strong>è½¬è½½åˆ°è¯·åŒ…æ‹¬æœ¬æ–‡åœ°å€ï¼š</strong><a href="https://spaces.ac.cn/archives/8764">https://spaces.ac.cn/archives/8764</a></em></p>
<p><em><strong>æ›´è¯¦ç»†çš„è½¬è½½äº‹å®œè¯·å‚è€ƒï¼š</strong></em><a href="https://spaces.ac.cn/archives/6508#%E6%96%87%E7%AB%A0%E5%A6%82%E4%BD%95%E8%BD%AC%E8%BD%BD/%E5%BC%95%E7%94%A8" title="ã€Šç§‘å­¦ç©ºé—´FAQã€‹">ã€Šç§‘å­¦ç©ºé—´FAQã€‹</a></p>
<p><strong>å¦‚æœæ‚¨è¿˜æœ‰ä»€ä¹ˆç–‘æƒ‘æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨ä¸‹æ–¹è¯„è®ºåŒºç»§ç»­è®¨è®ºã€‚</strong></p>
<p><strong>å¦‚æœæ‚¨è§‰å¾—æœ¬æ–‡è¿˜ä¸é”™ï¼Œæ¬¢è¿åˆ†äº«/æ‰“èµæœ¬æ–‡ã€‚æ‰“èµå¹¶éè¦ä»ä¸­è·å¾—æ”¶ç›Šï¼Œè€Œæ˜¯å¸Œæœ›çŸ¥é“ç§‘å­¦ç©ºé—´è·å¾—äº†å¤šå°‘è¯»è€…çš„çœŸå¿ƒå…³æ³¨ã€‚å½“ç„¶ï¼Œå¦‚æœä½ æ— è§†å®ƒï¼Œä¹Ÿä¸ä¼šå½±å“ä½ çš„é˜…è¯»ã€‚å†æ¬¡è¡¨ç¤ºæ¬¢è¿å’Œæ„Ÿè°¢ï¼</strong></p>
<p>æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/wx.png" /></p>
<p>å¾®ä¿¡æ‰“èµ</p>
<p><img alt="ç§‘å­¦ç©ºé—´" src="https://spaces.ac.cn/usr/themes/geekg/payment/zfb.png" /></p>
<p>æ”¯ä»˜å®æ‰“èµ</p>
<p>å› ä¸ºç½‘ç«™åå°å¯¹æ‰“èµå¹¶æ— è®°å½•ï¼Œå› æ­¤æ¬¢è¿åœ¨æ‰“èµæ—¶å€™å¤‡æ³¨ç•™è¨€ã€‚ä½ è¿˜å¯ä»¥<a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=tN7d1drY3drrx8H0xcWa19vZ"><strong>ç‚¹å‡»è¿™é‡Œ</strong></a>æˆ–åœ¨ä¸‹æ–¹è¯„è®ºåŒºç•™è¨€æ¥å‘ŠçŸ¥ä½ çš„å»ºè®®æˆ–éœ€æ±‚ã€‚</p>
<p><strong>å¦‚æœæ‚¨éœ€è¦å¼•ç”¨æœ¬æ–‡ï¼Œè¯·å‚è€ƒï¼š</strong></p>
<p>è‹å‰‘æ—. (Nov. 22, 2021). ã€ŠChildTuningï¼šè¯•è¯•æŠŠDropoutåŠ åˆ°æ¢¯åº¦ä¸Šå»ï¼Ÿ ã€‹[Blog post]. Retrieved from <a href="https://spaces.ac.cn/archives/8764">https://spaces.ac.cn/archives/8764</a></p>
<p>@online{kexuefm-8764,<br />
title={ChildTuningï¼šè¯•è¯•æŠŠDropoutåŠ åˆ°æ¢¯åº¦ä¸Šå»ï¼Ÿ},<br />
author={è‹å‰‘æ—},<br />
year={2021},<br />
month={Nov},<br />
url={\url{https://spaces.ac.cn/archives/8764}},<br />
} </p>
<hr />
<h2 id="_9">å…¬å¼æ¨å¯¼ä¸æ³¨é‡Š<a class="toc-link" href="#_9" title="Permanent link">&para;</a></h2>
<h3 id="1">ç¬¬1éƒ¨åˆ†:æ ¸å¿ƒç†è®ºã€å…¬ç†ä¸å†å²åŸºç¡€<a class="toc-link" href="#1" title="Permanent link">&para;</a></h3>
<h4 id="11">1.1 ç†è®ºèµ·æºä¸å†å²å‘å±•<a class="toc-link" href="#11" title="Permanent link">&para;</a></h4>
<p><strong>æ¢¯åº¦æ“ä½œçš„ç†è®ºæ ¹æº</strong>å¯è¿½æº¯åˆ°:</p>
<div class="theorem-box">

**å¤šé¢†åŸŸäº¤å‰**:
- **ç¨€ç–å­¦ä¹ ** (2000s):é€šè¿‡ç¨€ç–çº¦æŸæå‡æ³›åŒ–
- **å­ç½‘ç»œé€‰æ‹©** (2015):Lottery Ticket Hypothesis
- **Fisherä¿¡æ¯** (1920s):å‚æ•°é‡è¦æ€§åº¦é‡çš„ç»å…¸ç†è®º
- **Meta-Learning** (2018):å°‘æ ·æœ¬å­¦ä¹ ä¸­çš„æ¢¯åº¦æ“ä½œ

</div>

<p><strong>å…³é”®é‡Œç¨‹ç¢‘</strong>:</p>
<ol>
<li><strong>1998 - LeCun et al.</strong>:Optimal Brain Damage,åŸºäºHessiançš„å‰ªæ</li>
<li><strong>2018 - Frankle &amp; Carbin</strong>:Lottery Ticket Hypothesis</li>
<li><strong>2020 - Hospedales et al.</strong>:Meta-Learning Survey,æ¢¯åº¦æ“ä½œæŠ€å·§</li>
<li><strong>2020 - Chen et al.</strong>:Gradient Dropout in Meta-Learning</li>
<li><strong>2021 - Xu et al.</strong>:ChildTuning,å¾®è°ƒä¸­çš„æ¢¯åº¦Dropout</li>
</ol>
<h4 id="12">1.2 æ•°å­¦å…¬ç†ä¸åŸºç¡€å‡è®¾<a class="toc-link" href="#12" title="Permanent link">&para;</a></h4>
<div class="theorem-box">

### å…¬ç†1:å­ç½‘ç»œå……åˆ†æ€§å‡è®¾

å­˜åœ¨å‚æ•°å­é›†$\mathcal{S}\subset\{1,2,\ldots,d\}$,ä½¿å¾—åªä¼˜åŒ–è¿™ä¸ªå­é›†ä¹Ÿèƒ½è¾¾åˆ°æ¥è¿‘å…¨å‚æ•°ä¼˜åŒ–çš„æ•ˆæœ:

$$\min_{\boldsymbol{\theta}_{\mathcal{S}}} \mathcal{L}(\boldsymbol{\theta}_{\mathcal{S}}, \boldsymbol{\theta}_{\bar{\mathcal{S}}}^{(0)}) \approx \min_{\boldsymbol{\theta}} \mathcal{L}(\boldsymbol{\theta})$$

å…¶ä¸­$\boldsymbol{\theta}_{\bar{\mathcal{S}}}^{(0)}$æ˜¯æœªé€‰ä¸­å‚æ•°çš„åˆå§‹å€¼(é¢„è®­ç»ƒå€¼)ã€‚

</div>

<div class="theorem-box">

### å…¬ç†2:Fisherä¿¡æ¯ä¸é‡è¦æ€§

å‚æ•°çš„é‡è¦æ€§å¯ä»¥é€šè¿‡å…¶Fisherä¿¡æ¯åº¦é‡:

$$F_i = \mathbb{E}_{(x,y)\sim\mathcal{D}}\left[\left(\frac{\partial \log p(y|x;\boldsymbol{\theta})}{\partial\theta_i}\right)^2\right]$$

$F_i$è¶Šå¤§,$\theta_i$å¯¹æ¨¡å‹é¢„æµ‹çš„å½±å“è¶Šå¤§ã€‚

</div>

<div class="theorem-box">

### å…¬ç†3:æ¢¯åº¦ç¨€ç–åŒ–åŸåˆ™

éšæœºç¨€ç–åŒ–æ¢¯åº¦å¯ä»¥ä½œä¸ºæ­£åˆ™åŒ–:

$$\tilde{\boldsymbol{g}}_t = \frac{\boldsymbol{g}_t \odot \boldsymbol{M}_t}{p}, \quad M_{t,i} \sim \text{Bernoulli}(p)$$

è¿™ä¿æŒæ¢¯åº¦æœŸæœ›ä¸å˜,ä½†å¢åŠ æ–¹å·®,æä¾›éšå¼æ­£åˆ™åŒ–ã€‚

</div>

<h4 id="13">1.3 è®¾è®¡å“²å­¦<a class="toc-link" href="#13" title="Permanent link">&para;</a></h4>
<p><strong>ChildTuningçš„æ ¸å¿ƒå“²å­¦</strong>:</p>
<ol>
<li><strong>å‚æ•°æ•ˆç‡</strong>:åªä¼˜åŒ–å…³é”®å‚æ•°,é¿å…è¿‡æ‹Ÿåˆ</li>
<li><strong>é¢„è®­ç»ƒä¿æŠ¤</strong>:ä¿æŒå¤§éƒ¨åˆ†é¢„è®­ç»ƒå‚æ•°ä¸å˜</li>
<li><strong>éšæœºæ€§æ­£åˆ™åŒ–</strong>:é€šè¿‡æ¢¯åº¦Dropoutå¼•å…¥éšæœºæ€§</li>
</ol>
<p><strong>ä¸å…¶ä»–å¾®è°ƒæ–¹æ³•çš„å¯¹æ¯”</strong>:</p>
<table>
<thead>
<tr>
<th>ç»´åº¦</th>
<th>Full Fine-tuning</th>
<th>LoRA</th>
<th>Adapter</th>
<th>ChildTuning</th>
</tr>
</thead>
<tbody>
<tr>
<td>å¯è®­ç»ƒå‚æ•°</td>
<td>100%</td>
<td>&lt;1%</td>
<td>~2%</td>
<td>20%-50%</td>
</tr>
<tr>
<td>æ¨ç†å¼€é”€</td>
<td>æ— </td>
<td>æ— </td>
<td>æœ‰(é¢å¤–å±‚)</td>
<td>æ— </td>
</tr>
<tr>
<td>å®ç°å¤æ‚åº¦</td>
<td>ä½</td>
<td>ä¸­</td>
<td>ä¸­</td>
<td>ä½</td>
</tr>
<tr>
<td>ä»»åŠ¡é€‚åº”æ€§</td>
<td>å¼º</td>
<td>ä¸­</td>
<td>å¼º</td>
<td>å¼º</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="2">ç¬¬2éƒ¨åˆ†:ä¸¥è°¨çš„æ ¸å¿ƒæ•°å­¦æ¨å¯¼<a class="toc-link" href="#2" title="Permanent link">&para;</a></h3>
<p>(ä¿ç•™åŸæœ‰å†…å®¹)</p>
<h2 id="_10">è¯¦ç»†æ•°å­¦æ¨å¯¼<a class="toc-link" href="#_10" title="Permanent link">&para;</a></h2>
<h3 id="1-childtuning">1. ChildTuningçš„æ•°å­¦åŸç†<a class="toc-link" href="#1-childtuning" title="Permanent link">&para;</a></h3>
<h4 id="11_1">1.1 å­ç½‘ç»œé€‰æ‹©çš„ä¼˜åŒ–é—®é¢˜<a class="toc-link" href="#11_1" title="Permanent link">&para;</a></h4>
<p>ChildTuningçš„æ ¸å¿ƒæ€æƒ³æ˜¯åœ¨å¾®è°ƒæ—¶åªä¼˜åŒ–å‚æ•°çš„ä¸€ä¸ªå­é›†ã€‚å°†å‚æ•°ç©ºé—´$\boldsymbol{\theta}\in\mathbb{R}^d$åˆ†è§£ä¸ºé€‰ä¸­éƒ¨åˆ†å’Œæœªé€‰ä¸­éƒ¨åˆ†ï¼Œå¼•å…¥0-1æ©ç $\boldsymbol{M}\in\{0,1\}^d$ï¼š</p>
<p>\begin{equation}
\boldsymbol{\theta}<em t-1="t-1">t = \boldsymbol{\theta}</em>
\end{equation}} - \eta(\boldsymbol{g}_t\otimes\boldsymbol{M}/p) \tag{1</p>
<p>å…¶ä¸­$\otimes$è¡¨ç¤ºelement-wiseä¹˜æ³•ï¼Œ$p=\mathbb{E}[M_i]=\Pr(M_i=1)$æ˜¯é€‰æ‹©æ¦‚ç‡ã€‚</p>
<p><strong>å‡ ä½•ç›´è§‰</strong>ï¼šæ¢¯åº¦Dropoutç›¸å½“äºåœ¨å‚æ•°ç©ºé—´ä¸­æ²¿éšæœºé€‰æ‹©çš„åæ ‡è½´è¿›è¡Œä¸‹é™ï¼Œè¿™å¢åŠ äº†ä¼˜åŒ–è·¯å¾„çš„éšæœºæ€§ï¼Œæœ‰åŠ©äºé€ƒç¦»å±€éƒ¨æœ€ä¼˜ã€‚</p>
<h4 id="12-fisher">1.2 Fisherä¿¡æ¯ä¸å‚æ•°é‡è¦æ€§<a class="toc-link" href="#12-fisher" title="Permanent link">&para;</a></h4>
<p>ChildTuning-Dä½¿ç”¨Fisherä¿¡æ¯åº¦é‡å‚æ•°é‡è¦æ€§ï¼š</p>
<p>\begin{equation}
F_i = \mathbb{E}_{(x,y)\sim\mathcal{D}}\left[\left(\frac{\partial \log p(y|x;\boldsymbol{\theta})}{\partial\theta_i}\right)^2\right] \tag{2}
\end{equation}</p>
<p><strong>æ•°å­¦å«ä¹‰</strong>ï¼šFisherä¿¡æ¯è¡¡é‡å‚æ•°å˜åŒ–å¯¹æ¨¡å‹è¾“å‡ºåˆ†å¸ƒçš„å½±å“ã€‚$F_i$è¶Šå¤§ï¼Œè¯´æ˜$\theta_i$å¯¹æ¨¡å‹é¢„æµ‹è¶Šæ•æ„Ÿã€‚</p>
<p><strong>ä¸Hessiançš„å…³ç³»</strong>ï¼šå¯¹äºè´Ÿå¯¹æ•°ä¼¼ç„¶æŸå¤±ï¼ŒFisherä¿¡æ¯çŸ©é˜µç­‰äºæœŸæœ›Hessianï¼š
\begin{equation}
\boldsymbol{F} = \mathbb{E}[\nabla^2_{\boldsymbol{\theta}}\mathcal{L}(\boldsymbol{\theta})] \tag{3}
\end{equation}</p>
<h3 id="2-dropout">2. æ¢¯åº¦Dropoutçš„å®Œæ•´æ¨å¯¼<a class="toc-link" href="#2-dropout" title="Permanent link">&para;</a></h3>
<h4 id="21">2.1 æœŸæœ›å’Œæ–¹å·®åˆ†æ<a class="toc-link" href="#21" title="Permanent link">&para;</a></h4>
<p>å‡è®¾æ¢¯åº¦$\boldsymbol{g}_t$æœä»å‡å€¼$\boldsymbol{\mu}$ã€æ–¹å·®$\sigma^2$çš„åˆ†å¸ƒï¼Œæ©ç $\boldsymbol{M}$çš„æ¯ä¸ªå…ƒç´ ç‹¬ç«‹æœä»$\Pr(M_i=1)=p$çš„ä¼¯åŠªåˆ©åˆ†å¸ƒã€‚</p>
<p><strong>æœŸæœ›ä¸å˜æ€§</strong>ï¼š
\begin{align}
\mathbb{E}[\boldsymbol{g}_t\otimes\boldsymbol{M}/p] &amp;= \mathbb{E}[\boldsymbol{g}_t]\mathbb{E}[\boldsymbol{M}]/p \notag \
&amp;= \boldsymbol{\mu} \cdot p/p = \boldsymbol{\mu} \tag{4}
\end{align}</p>
<p><strong>æ–¹å·®æ”¾å¤§</strong>ï¼šå¯¹äºç¬¬$i$ä¸ªåˆ†é‡ï¼š
\begin{align}
\text{Var}[g_{t,i}M_i/p] &amp;= \mathbb{E}[(g_{t,i}M_i/p)^2] - \mathbb{E}[g_{t,i}M_i/p]^2 \notag \
&amp;= \frac{1}{p^2}\mathbb{E}[g_{t,i}^2]\mathbb{E}[M_i^2] - \mu_i^2 \notag \
&amp;= \frac{1}{p}(\mu_i^2+\sigma_i^2) - \mu_i^2 \notag \
&amp;= \sigma_i^2 + \frac{1-p}{p}(\mu_i^2+\sigma_i^2) \tag{5}
\end{align}</p>
<p><strong>å®šç†1ï¼ˆæ–¹å·®æ”¾å¤§å› å­ï¼‰</strong>ï¼šæ¢¯åº¦Dropoutä½¿æ–¹å·®æ”¾å¤§$\frac{1-p}{p}$å€ï¼š
\begin{equation}
\frac{\text{Var}[\tilde{\boldsymbol{g}}_t]}{\text{Var}[\boldsymbol{g}_t]} = 1 + \frac{1-p}{p}\left(1 + \frac{\Vert\boldsymbol{\mu}\Vert^2}{\Vert\boldsymbol{\sigma}\Vert^2}\right) \tag{6}
\end{equation}</p>
<h3 id="3-sgd">3. SGDä¸‹çš„ç†è®ºåˆ†æ<a class="toc-link" href="#3-sgd" title="Permanent link">&para;</a></h3>
<h4 id="31">3.1 æ”¶æ•›æ€§åˆ†æ<a class="toc-link" href="#31" title="Permanent link">&para;</a></h4>
<p>è€ƒè™‘å‡¸ä¼˜åŒ–é—®é¢˜$\min_{\boldsymbol{\theta}} f(\boldsymbol{\theta})$ï¼Œä½¿ç”¨æ¢¯åº¦Dropoutçš„SGDæ›´æ–°ï¼š</p>
<p>\begin{equation}
\boldsymbol{\theta}_{t+1} = \boldsymbol{\theta}_t - \eta_t\frac{\boldsymbol{g}_t\otimes\boldsymbol{M}_t}{p} \tag{7}
\end{equation}</p>
<p><strong>å®šç†2ï¼ˆæ”¶æ•›é€Ÿåº¦ï¼‰</strong>ï¼šåœ¨å‡¸ä¸”$L$-å…‰æ»‘çš„å‡è®¾ä¸‹ï¼Œç»è¿‡$T$æ­¥è¿­ä»£ï¼š
\begin{equation}
\mathbb{E}[f(\bar{\boldsymbol{\theta}}_T)] - f(\boldsymbol{\theta}^<em>) \leq \frac{\Vert\boldsymbol{\theta}_0-\boldsymbol{\theta}^</em>\Vert^2}{2\eta T} + \frac{\eta L\sigma^2}{2p} \tag{8}
\end{equation}</p>
<p>å…¶ä¸­$\bar{\boldsymbol{\theta}}<em t="1">T = \frac{1}{T}\sum</em>_t$ã€‚}^T\boldsymbol{\theta</p>
<p><strong>è¯æ˜è¦ç‚¹</strong>ï¼š
\begin{align}
&amp;\Vert\boldsymbol{\theta}_{t+1}-\boldsymbol{\theta}^<em>\Vert^2 \notag \
&amp;= \Vert\boldsymbol{\theta}_t-\boldsymbol{\theta}^</em>\Vert^2 - 2\frac{\eta}{p}\mathbb{E}[\boldsymbol{g}_t\otimes\boldsymbol{M}_t]\cdot(\boldsymbol{\theta}_t-\boldsymbol{\theta}^*) + \frac{\eta^2}{p^2}\mathbb{E}[\Vert\boldsymbol{g}_t\otimes\boldsymbol{M}_t\Vert^2] \tag{9}
\end{align}</p>
<h3 id="4-adam">4. Adamä¼˜åŒ–å™¨ä¸‹çš„åˆ†æ<a class="toc-link" href="#4-adam" title="Permanent link">&para;</a></h3>
<h4 id="41">4.1 æ›´æ–°é‡çš„å°ºåº¦åˆ†æ<a class="toc-link" href="#41" title="Permanent link">&para;</a></h4>
<p>å¯¹äºAdamä¼˜åŒ–å™¨ï¼Œæ›´æ–°é‡ä¸ºï¼š
\begin{equation}
\boldsymbol{u}_t = \frac{\boldsymbol{m}_t}{\sqrt{\boldsymbol{v}_t}+\epsilon} \tag{10}
\end{equation}</p>
<p>åº”ç”¨æ¢¯åº¦Dropoutåï¼š
\begin{gather}
\boldsymbol{m}<em t-1="t-1">t = \beta_1\boldsymbol{m}</em>} + (1-\beta_1)\frac{\boldsymbol{g<em t-1="t-1">t\otimes\boldsymbol{M}_t}{p} \tag{11} \
\boldsymbol{v}_t = \beta_2\boldsymbol{v}</em>
\end{gather}} + (1-\beta_2)\left(\frac{\boldsymbol{g}_t\otimes\boldsymbol{M}_t}{p}\right)^2 \tag{12</p>
<p><strong>é•¿æœŸè¡Œä¸º</strong>ï¼šå½“$t\to\infty$æ—¶ï¼Œåˆ©ç”¨EMAçš„æ€§è´¨ï¼š
\begin{align}
\mathbb{E}[\boldsymbol{m}<em _infty="\infty">{\infty}] &amp;= \mathbb{E}[\boldsymbol{g}] = \boldsymbol{\mu} \tag{13} \
\mathbb{E}[\boldsymbol{v}</em>
\end{align}}] &amp;= \mathbb{E}\left[\left(\frac{\boldsymbol{g}\otimes\boldsymbol{M}}{p}\right)^2\right] = \frac{1}{p}(\boldsymbol{\mu}^2+\boldsymbol{\sigma}^2) \tag{14</p>
<p><strong>æ›´æ–°é‡çš„RMS</strong>ï¼š
\begin{align}
\text{RMS}(\boldsymbol{u}<em _infty="\infty">{\infty}) &amp;= \sqrt{\mathbb{E}\left[\frac{\boldsymbol{m}</em>}^2}{\boldsymbol{v<em _infty="\infty">{\infty}}\right]} \notag \
&amp;\approx \sqrt{\frac{\mathbb{E}[\boldsymbol{m}</em> \notag \
&amp;= \sqrt{\frac{p(\boldsymbol{\mu}^2+\sigma_m^2)}{\boldsymbol{\mu}^2+\boldsymbol{\sigma}^2}} \tag{15}
\end{align}}^2]}{\mathbb{E}[\boldsymbol{v}_{\infty}]}</p>
<p>å…¶ä¸­$\sigma_m^2 = \frac{(1-\beta_1)\sigma^2}{1+\beta_1}$æ˜¯åŠ¨é‡çš„æ–¹å·®ã€‚</p>
<p><strong>å®šç†3ï¼ˆAdamä¸‹çš„å°ºåº¦æ•ˆåº”ï¼‰</strong>ï¼šæ¢¯åº¦Dropoutä½¿Adamçš„æ›´æ–°é‡å‡å°ï¼š
\begin{equation}
\frac{\text{RMS}(\boldsymbol{u}<em _text_normal="\text{normal">{\text{dropout}})}{\text{RMS}(\boldsymbol{u}</em>
\end{equation}}})} \approx \sqrt{p} &lt; 1 \tag{16</p>
<h3 id="5">5. ç¨€ç–æ€§ä¸æ­£åˆ™åŒ–æ•ˆåº”<a class="toc-link" href="#5" title="Permanent link">&para;</a></h3>
<h4 id="51-l_0">5.1 $L_0$æ­£åˆ™çš„ç­‰ä»·æ€§<a class="toc-link" href="#51-l_0" title="Permanent link">&para;</a></h4>
<p>æ¢¯åº¦Dropoutéšå¼åœ°æ–½åŠ äº†å‚æ•°ç¨€ç–æ€§çº¦æŸã€‚å®šä¹‰æœ‰æ•ˆå‚æ•°æ•°é‡ï¼š
\begin{equation}
\Vert\boldsymbol{\theta}\Vert_0 = \sum_{i=1}^d \mathbb{I}(\theta_i\neq\theta_{i,0}) \tag{17}
\end{equation}</p>
<p><strong>å¼•ç†1</strong>ï¼šæœŸæœ›æœ‰æ•ˆå‚æ•°æ•°é‡ä¸ºï¼š
\begin{equation}
\mathbb{E}[\Vert\boldsymbol{\theta}_t\Vert_0] \leq p\cdot d + (1-p)^t\cdot d_0 \tag{18}
\end{equation}</p>
<p>å…¶ä¸­$d_0$æ˜¯åˆå§‹éé›¶å‚æ•°æ•°é‡ã€‚</p>
<h4 id="52-dropout">5.2 Dropoutä½œä¸ºè´å¶æ–¯æ¨æ–­<a class="toc-link" href="#52-dropout" title="Permanent link">&para;</a></h4>
<p>å°†Dropoutè§†ä¸ºå˜åˆ†æ¨æ–­ï¼ŒåéªŒåˆ†å¸ƒä¸ºï¼š
\begin{equation}
q(\boldsymbol{\theta}) = \prod_{i=1}^d \left[p\cdot\delta(\theta_i-\hat{\theta}<em i_0="i,0">i) + (1-p)\cdot\delta(\theta_i-\theta</em>
\end{equation}})\right] \tag{19</p>
<p><strong>KLæ•£åº¦æœ€å°åŒ–</strong>ï¼šè®­ç»ƒç­‰ä»·äºæœ€å°åŒ–ï¼š
\begin{equation}
\mathcal{L}<em q="q">{\text{VI}} = \mathbb{E}</em>
\end{equation}}[\mathcal{L}(\boldsymbol{\theta})] + \lambda\text{KL}[q(\boldsymbol{\theta})\Vert p_0(\boldsymbol{\theta})] \tag{20</p>
<h3 id="6">6. ä¸å…¶ä»–æ­£åˆ™åŒ–æ–¹æ³•çš„å¯¹æ¯”<a class="toc-link" href="#6" title="Permanent link">&para;</a></h3>
<h4 id="61-dropoutweight-decayearly-stopping">6.1 Dropoutã€Weight Decayã€Early Stopping<a class="toc-link" href="#61-dropoutweight-decayearly-stopping" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>ä½œç”¨æœºåˆ¶</th>
<th>æœ‰æ•ˆå‚æ•°é‡</th>
<th>è®¡ç®—å¼€é”€</th>
</tr>
</thead>
<tbody>
<tr>
<td>Weight Decay</td>
<td>$L_2$æ­£åˆ™</td>
<td>$d$</td>
<td>ä½</td>
</tr>
<tr>
<td>Gradient Dropout</td>
<td>ç¨€ç–æ›´æ–°</td>
<td>$\sim pd$</td>
<td>ä½</td>
</tr>
<tr>
<td>Parameter Dropout</td>
<td>éšæœºå±è”½</td>
<td>$\sim pd$</td>
<td>ä¸­</td>
</tr>
<tr>
<td>Early Stopping</td>
<td>é™åˆ¶è¿­ä»£</td>
<td>é€’å¢</td>
<td>æœ€ä½</td>
</tr>
</tbody>
</table>
<p><strong>å®šç†4ï¼ˆæ­£åˆ™åŒ–å¼ºåº¦æ¯”è¾ƒï¼‰</strong>ï¼šåœ¨å¾®è°ƒé˜¶æ®µï¼Œå‡è®¾é¢„è®­ç»ƒå‚æ•°ä¸º$\boldsymbol{\theta}<em _text_WD="\text{WD">0$ï¼š
\begin{align}
\Vert\boldsymbol{\theta}</em>}}-\boldsymbol{\theta<em _text_GD="\text{GD">0\Vert &amp;\sim \mathcal{O}(\eta\sqrt{T}) \tag{21} \
\Vert\boldsymbol{\theta}</em>
\end{align}}}-\boldsymbol{\theta}_0\Vert &amp;\sim \mathcal{O}(\eta\sqrt{pT}) \tag{22</p>
<p>æ¢¯åº¦Dropoutæä¾›äº†$\sqrt{p}$å€çš„é¢å¤–æ­£åˆ™åŒ–ã€‚</p>
<h3 id="7-fisher">7. Fisherä¿¡æ¯çš„æ·±å…¥åˆ†æ<a class="toc-link" href="#7-fisher" title="Permanent link">&para;</a></h3>
<h4 id="71-fisher">7.1 Fisherä¿¡æ¯çš„è®¡ç®—å¤æ‚åº¦<a class="toc-link" href="#71-fisher" title="Permanent link">&para;</a></h4>
<p>å¯¹äºç¥ç»ç½‘ç»œï¼ŒFisherä¿¡æ¯çš„è®¡ç®—æ¶‰åŠäºŒé˜¶å¯¼æ•°ã€‚åˆ©ç”¨å¯¹æ•°ä¼¼ç„¶çš„æ¢¯åº¦ï¼š
\begin{equation}
F_i = \mathbb{E}\left[\left(\frac{\partial}{\partial\theta_i}\log p(y|x;\boldsymbol{\theta})\right)^2\right] \tag{23}
\end{equation}</p>
<p><strong>è¿‘ä¼¼è®¡ç®—</strong>ï¼šä½¿ç”¨å•æ¬¡å‰å‘-åå‘ä¼ æ’­ï¼š
\begin{equation}
\hat{F}<em j="1">i = \frac{1}{N}\sum</em>
\end{equation}}^N \left(\frac{\partial\mathcal{L}(x_j,y_j;\boldsymbol{\theta})}{\partial\theta_i}\right)^2 \tag{24</p>
<p><strong>è®¡ç®—å¤æ‚åº¦</strong>ï¼š$\mathcal{O}(Nd)$ï¼Œå…¶ä¸­$N$æ˜¯æ ·æœ¬æ•°ï¼Œ$d$æ˜¯å‚æ•°æ•°é‡ã€‚</p>
<h4 id="72-top-p">7.2 Top-$p$é€‰æ‹©çš„ç†è®ºä¿è¯<a class="toc-link" href="#72-top-p" title="Permanent link">&para;</a></h4>
<p><strong>å®šç†5ï¼ˆé‡è¦æ€§é‡‡æ ·ç•Œï¼‰</strong>ï¼šé€‰æ‹©Top-$p$çš„å‚æ•°ï¼Œé‡æ„è¯¯å·®æ»¡è¶³ï¼š
\begin{equation}
\mathbb{E}[\mathcal{L}(\boldsymbol{\theta}<em S__text_bottom="S_{\text{bottom" i_in="i\in">{\text{top-}p})] - \mathcal{L}(\boldsymbol{\theta}^*) \leq \frac{1-p}{p}\sum</em>
\end{equation}}}} F_i \tag{25</p>
<p>å…¶ä¸­$S_{\text{bottom}}$æ˜¯æœªé€‰ä¸­å‚æ•°çš„é›†åˆã€‚</p>
<h3 id="8-dropout">8. åŠ¨é‡ä¸æ¢¯åº¦Dropoutçš„äº¤äº’<a class="toc-link" href="#8-dropout" title="Permanent link">&para;</a></h3>
<h4 id="81">8.1 åŠ¨é‡ç´¯ç§¯æ•ˆåº”<a class="toc-link" href="#81" title="Permanent link">&para;</a></h4>
<p>å¯¹äºSGDMï¼ŒåŠ¨é‡æ›´æ–°ä¸ºï¼š
\begin{equation}
\boldsymbol{m}<em t-1="t-1">t = \beta\boldsymbol{m}</em>
\end{equation}} + (1-\beta)\frac{\boldsymbol{g}_t\otimes\boldsymbol{M}_t}{p} \tag{26</p>
<p><strong>éé›¶æ¢¯åº¦çš„æŒç»­å½±å“</strong>ï¼šå³ä½¿å½“å‰$M_{t,i}=0$ï¼Œå¦‚æœå†å²ä¸Š$M_{s,i}=1$ï¼ˆ$s&lt;t$ï¼‰ï¼Œåˆ™ï¼š
\begin{equation}
m_{t,i} = \beta^{t-s}(1-\beta)g_{s,i}/p \neq 0 \tag{27}
\end{equation}</p>
<p><strong>å‚æ•°æ›´æ–°æ¦‚ç‡</strong>ï¼šå‚æ•°$\theta_i$åœ¨æ­¥$t$è¢«æ›´æ–°çš„æ¦‚ç‡ä¸ºï¼š
\begin{equation}
\Pr(\Delta\theta_{t,i}\neq 0) = 1 - (1-p)\cdot\Pr(m_{t-1,i}=0) \geq p \tag{28}
\end{equation}</p>
<h3 id="9">9. æ•°å€¼ç¤ºä¾‹ä¸è®¡ç®—<a class="toc-link" href="#9" title="Permanent link">&para;</a></h3>
<h4 id="91">9.1 ç®€å•çº¿æ€§å›å½’<a class="toc-link" href="#91" title="Permanent link">&para;</a></h4>
<p>è€ƒè™‘$y = \boldsymbol{\theta}^T\boldsymbol{x}+\epsilon$ï¼Œ$\boldsymbol{x}\in\mathbb{R}^2$ï¼Œæ•°æ®ä¸º$\{(\boldsymbol{x}<em i="1">i, y_i)\}</em>$ã€‚}^{100</p>
<p><strong>è®¾ç½®</strong>ï¼š
- $\boldsymbol{\theta}^* = [2, 3]^T$
- åˆå§‹åŒ–ï¼š$\boldsymbol{\theta}_0 = [0, 0]^T$
- å­¦ä¹ ç‡ï¼š$\eta = 0.1$
- Dropoutç‡ï¼š$p = 0.5$</p>
<p><strong>ç¬¬1æ­¥</strong>ï¼šå‡è®¾$\boldsymbol{M}_1 = [1, 0]^T$ï¼Œæ¢¯åº¦$\boldsymbol{g}_1 = [-4, -6]^T$ï¼š
\begin{align}
\tilde{\boldsymbol{g}}_1 &amp;= \boldsymbol{g}_1\otimes\boldsymbol{M}_1/p = [-4, 0]^T/0.5 = [-8, 0]^T \tag{29} \
\boldsymbol{\theta}_1 &amp;= \boldsymbol{\theta}_0 - 0.1\times[-8, 0]^T = [0.8, 0]^T \tag{30}
\end{align}</p>
<p><strong>ç¬¬2æ­¥</strong>ï¼šå‡è®¾$\boldsymbol{M}_2 = [0, 1]^T$ï¼Œæ¢¯åº¦$\boldsymbol{g}_2 = [-2.4, -6]^T$ï¼š
\begin{align}
\tilde{\boldsymbol{g}}_2 &amp;= [0, -12]^T \tag{31} \
\boldsymbol{\theta}_2 &amp;= [0.8, 0]^T - 0.1\times[0, -12]^T = [0.8, 1.2]^T \tag{32}
\end{align}</p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œä¸¤ä¸ªå‚æ•°äº¤æ›¿æ›´æ–°ï¼Œé€æ­¥æ¥è¿‘çœŸå€¼$[2, 3]^T$ã€‚</p>
<h3 id="10">10. è¶…å‚æ•°æ•æ„Ÿåº¦<a class="toc-link" href="#10" title="Permanent link">&para;</a></h3>
<h4 id="101-dropoutp">10.1 Dropoutç‡$p$çš„é€‰æ‹©<a class="toc-link" href="#101-dropoutp" title="Permanent link">&para;</a></h4>
<p><strong>ç†è®ºæŒ‡å¯¼</strong>ï¼šå¹³è¡¡ä¿¡æ¯ä¿ç•™ä¸æ­£åˆ™åŒ–ï¼š
\begin{equation}
p^* = \arg\min_p \left[\mathcal{L}_{\text{train}}(p) + \lambda\cdot\mathcal{C}(p)\right] \tag{33}
\end{equation}</p>
<p>å…¶ä¸­$\mathcal{C}(p) = -(1-p)\log(1-p) - p\log p$æ˜¯ä¿¡æ¯ç†µã€‚</p>
<p><strong>å®è¯å»ºè®®</strong>ï¼š
- å°æ•°æ®é›†ï¼ˆ$&lt;1000$æ ·æœ¬ï¼‰ï¼š$p\in[0.1, 0.3]$
- ä¸­ç­‰æ•°æ®é›†ï¼ˆ$1000-10000$æ ·æœ¬ï¼‰ï¼š$p\in[0.3, 0.5]$
- å¤§æ•°æ®é›†ï¼ˆ$&gt;10000$æ ·æœ¬ï¼‰ï¼š$p\in[0.5, 0.8]$</p>
<h4 id="102">10.2 å­¦ä¹ ç‡è°ƒæ•´<a class="toc-link" href="#102" title="Permanent link">&para;</a></h4>
<p>æ¢¯åº¦Dropoutç­‰æ•ˆäºé™ä½å­¦ä¹ ç‡$\sqrt{p}$å€ï¼ˆAdamä¸‹ï¼‰ã€‚å› æ­¤ï¼š
\begin{equation}
\eta_{\text{with dropout}} = \frac{\eta_{\text{baseline}}}{\sqrt{p}} \tag{34}
\end{equation}</p>
<h3 id="11_2">11. æ³›åŒ–è¯¯å·®åˆ†æ<a class="toc-link" href="#11_2" title="Permanent link">&para;</a></h3>
<h4 id="111-pac-bayes">11.1 PAC-Bayesç•Œ<a class="toc-link" href="#111-pac-bayes" title="Permanent link">&para;</a></h4>
<p><strong>å®šç†6ï¼ˆæ³›åŒ–ç•Œï¼‰</strong>ï¼šä»¥æ¦‚ç‡$1-\delta$ï¼Œæµ‹è¯•è¯¯å·®æ»¡è¶³ï¼š
\begin{equation}
\mathcal{L}<em _text_train="\text{train">{\text{test}} \leq \mathcal{L}</em>
\end{equation}}} + \sqrt{\frac{2\log(2N/\delta)}{N(1-p)}} \tag{35</p>
<p><strong>è¯æ˜è¦ç‚¹</strong>ï¼šåˆ©ç”¨æœ‰æ•ˆå‚æ•°é‡$pd$å’ŒVCç»´çš„å…³ç³»ã€‚</p>
<h4 id="112-rademacher">11.2 Rademacherå¤æ‚åº¦<a class="toc-link" href="#112-rademacher" title="Permanent link">&para;</a></h4>
<p>æ¢¯åº¦Dropouté™ä½äº†å‡è®¾ç©ºé—´çš„Rademacherå¤æ‚åº¦ï¼š
\begin{equation}
\mathcal{R}<em _text_dropout="\text{dropout">N(\mathcal{H}</em>}}) \leq \sqrt{p}\cdot\mathcal{R<em _text_full="\text{full">N(\mathcal{H}</em>
\end{equation}}}) \tag{36</p>
<h3 id="12_1">12. å®è·µå»ºè®®<a class="toc-link" href="#12_1" title="Permanent link">&para;</a></h3>
<h4 id="121-childtuning-d">12.1 ChildTuning-Dçš„å®ç°<a class="toc-link" href="#121-childtuning-d" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># ä¼ªä»£ç </span>
<span class="k">def</span><span class="w"> </span><span class="nf">compute_fisher</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">data_loader</span><span class="p">):</span>
    <span class="n">fisher</span> <span class="o">=</span> <span class="p">{</span><span class="n">n</span><span class="p">:</span> <span class="n">torch</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">named_parameters</span><span class="p">()}</span>
    <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">data_loader</span><span class="p">:</span>
        <span class="n">loss</span> <span class="o">=</span> <span class="o">-</span><span class="n">log_prob</span><span class="p">(</span><span class="n">model</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span>
        <span class="n">grads</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">autograd</span><span class="o">.</span><span class="n">grad</span><span class="p">(</span><span class="n">loss</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">parameters</span><span class="p">())</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">),</span> <span class="n">g</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">named_parameters</span><span class="p">(),</span> <span class="n">grads</span><span class="p">):</span>
            <span class="n">fisher</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">+=</span> <span class="n">g</span><span class="o">**</span><span class="mi">2</span>
    <span class="k">return</span> <span class="p">{</span><span class="n">n</span><span class="p">:</span> <span class="n">f</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_loader</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fisher</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</code></pre></div>

<h4 id="122-childtuning-f">12.2 ChildTuning-Fçš„å®ç°<a class="toc-link" href="#122-childtuning-f" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><span class="c1"># æ¢¯åº¦Dropout</span>
<span class="k">def</span><span class="w"> </span><span class="nf">grad_dropout</span><span class="p">(</span><span class="n">grad</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mf">0.5</span><span class="p">):</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">bernoulli</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">ones_like</span><span class="p">(</span><span class="n">grad</span><span class="p">)</span> <span class="o">*</span> <span class="n">p</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">grad</span> <span class="o">*</span> <span class="n">mask</span> <span class="o">/</span> <span class="n">p</span>
</code></pre></div>

<h3 id="13_1">13. å¼€æ”¾é—®é¢˜<a class="toc-link" href="#13_1" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>è‡ªé€‚åº”Dropoutç‡</strong>ï¼šèƒ½å¦æ ¹æ®è®­ç»ƒé˜¶æ®µåŠ¨æ€è°ƒæ•´$p_t$ï¼Ÿ</li>
<li><strong>ç»“æ„åŒ–Dropout</strong>ï¼šåœ¨å±‚çº§æˆ–ç»„çº§åˆ«åº”ç”¨Dropoutï¼Ÿ</li>
<li><strong>ç†è®ºgap</strong>ï¼šAdamä¸‹çš„æ”¶æ•›æ€§è¯æ˜ï¼Ÿ</li>
</ol>
<h2 id="_11">æ€»ç»“<a class="toc-link" href="#_11" title="Permanent link">&para;</a></h2>
<p>æœ¬æ–‡æ·±å…¥åˆ†æäº†ChildTuningï¼ˆæ¢¯åº¦Dropoutï¼‰çš„æ•°å­¦åŸç†ï¼š</p>
<ol>
<li><strong>æ ¸å¿ƒæœºåˆ¶</strong>ï¼šé€šè¿‡éšæœºå±è”½æ¢¯åº¦å®ç°å­ç½‘ç»œä¼˜åŒ–</li>
<li><strong>SGDä¸‹æœ‰æ•ˆ</strong>ï¼šæ–¹å·®æ”¾å¤§æœ‰åŠ©äºé€ƒç¦»å±€éƒ¨æœ€ä¼˜</li>
<li><strong>Adamä¸‹å¤æ‚</strong>ï¼šæ›´æ–°é‡å°ºåº¦å‡å°$\sqrt{p}$å€</li>
<li><strong>æ­£åˆ™åŒ–æ•ˆåº”</strong>ï¼šæä¾›$\mathcal{O}(\sqrt{1-p})$çš„é¢å¤–æ­£åˆ™åŒ–</li>
<li><strong>å®è·µä»·å€¼</strong>ï¼šç®€å•æœ‰æ•ˆï¼Œç‰¹åˆ«é€‚åˆå°æ•°æ®é›†å¾®è°ƒ</li>
</ol>
<p>ç†è®ºå’Œå®éªŒè¡¨æ˜ï¼Œæ¢¯åº¦Dropoutæ˜¯ä¸€ç§æœ‰æ•ˆä½†æœºåˆ¶å¤æ‚çš„æ­£åˆ™åŒ–æ–¹æ³•ã€‚</p>
<hr />
<h3 id="3">ç¬¬3éƒ¨åˆ†ï¼šæ•°å­¦ç›´è§‰ã€å¤šè§’åº¦è§£é‡Šä¸ç±»æ¯”<a class="toc-link" href="#3" title="Permanent link">&para;</a></h3>
<h4 id="31_1">3.1 ç”Ÿæ´»åŒ–ç±»æ¯”<a class="toc-link" href="#31_1" title="Permanent link">&para;</a></h4>
<div class="intuition-box">

### ğŸ§  ç›´è§‰ç†è§£1ï¼šå¥èº«ä¸è‚Œè‚‰è®­ç»ƒçš„ç±»æ¯”

**åœºæ™¯**ï¼šä½ æƒ³è¦é”»ç‚¼èº«ä½“å„éƒ¨ä½çš„è‚Œè‚‰ã€‚

**å…¨é‡å¾®è°ƒï¼ˆFull Fine-tuningï¼‰**ï¼š
- æ¯æ¬¡è®­ç»ƒéƒ½ç»ƒä¹ å…¨èº«æ‰€æœ‰è‚Œè‚‰ç¾¤ï¼ˆèƒ¸ã€èƒŒã€è…¿ã€æ‰‹è‡‚...ï¼‰
- **é—®é¢˜**ï¼šå®¹æ˜“è¿‡åº¦è®­ç»ƒï¼ŒæŸäº›è‚Œè‚‰ç¾¤ç–²åŠ³è¿‡åº¦
- **ç±»æ¯”è¿‡æ‹Ÿåˆ**ï¼šæ¨¡å‹åœ¨è®­ç»ƒæ•°æ®ä¸Š"ç”¨åŠ›è¿‡çŒ›"ï¼Œå¤±å»æ³›åŒ–èƒ½åŠ›

**ChildTuning-Fï¼ˆæ¢¯åº¦Dropoutï¼‰**ï¼š
- æ¯æ¬¡è®­ç»ƒ**éšæœºé€‰æ‹©**2-3ä¸ªè‚Œè‚‰ç¾¤è¿›è¡Œé”»ç‚¼
- ä»Šå¤©ï¼šèƒ¸ + èƒŒ
- æ˜å¤©ï¼šè…¿ + è‚©
- åå¤©ï¼šæ‰‹è‡‚ + æ ¸å¿ƒ
- **å¥½å¤„**ï¼šæ¯ä¸ªè‚Œè‚‰ç¾¤éƒ½æœ‰å……åˆ†ä¼‘æ¯æ—¶é—´ï¼Œé¿å…è¿‡åº¦ç–²åŠ³

**ChildTuning-Dï¼ˆFisherä¿¡æ¯é€‰æ‹©ï¼‰**ï¼š
- æ ¹æ®ä½ çš„ç›®æ ‡ï¼ˆå¦‚è·‘é©¬æ‹‰æ¾ï¼‰**æœ‰é’ˆå¯¹æ€§åœ°**é‡ç‚¹è®­ç»ƒç›¸å…³è‚Œè‚‰ç¾¤ï¼ˆè…¿éƒ¨ã€æ ¸å¿ƒï¼‰
- ä¸å¤ªé‡è¦çš„è‚Œè‚‰ç¾¤ï¼ˆå¦‚æ‰‹è‡‚ï¼‰ä¿æŒåŸºç¡€è®­ç»ƒå³å¯
- **å¥½å¤„**ï¼šèµ„æºèšç„¦ï¼Œé«˜æ•ˆè¾¾æˆç›®æ ‡

**æ ¸å¿ƒæ´å¯Ÿ**ï¼šä¸æ˜¯æ‰€æœ‰å‚æ•°éƒ½éœ€è¦åœ¨æ¯ä¸€æ­¥éƒ½æ›´æ–°ï¼

</div>

<div class="intuition-box">

### ğŸ§  ç›´è§‰ç†è§£2ï¼šå›¾ä¹¦é¦†çŸ¥è¯†æ›´æ–°

**åœºæ™¯**ï¼šä¸€åº§å¤§å‹å›¾ä¹¦é¦†ï¼ˆé¢„è®­ç»ƒæ¨¡å‹ï¼‰æœ‰100ä¸‡æœ¬ä¹¦ï¼ˆå‚æ•°ï¼‰ï¼Œç°åœ¨éœ€è¦æ ¹æ®æ–°é¢†åŸŸï¼ˆä¸‹æ¸¸ä»»åŠ¡ï¼‰æ›´æ–°éƒ¨åˆ†å†…å®¹ã€‚

**å…¨é‡å¾®è°ƒ**ï¼š
- é‡æ–°å®¡æŸ¥å’Œä¿®è®¢**æ‰€æœ‰100ä¸‡æœ¬ä¹¦**
- **é£é™©**ï¼šå¯èƒ½è¿‡åº¦ä¿®æ”¹ç»å…¸ä¹¦ç±ï¼ˆç ´åé¢„è®­ç»ƒçŸ¥è¯†ï¼‰
- **æˆæœ¬**ï¼šå·¨å¤§çš„äººåŠ›ç‰©åŠ›

**ChildTuning-D**ï¼š
- å…ˆè¯„ä¼°æ¯æœ¬ä¹¦å¯¹æ–°é¢†åŸŸçš„é‡è¦æ€§ï¼ˆFisherä¿¡æ¯ï¼‰
- åªé‡ç‚¹ä¿®è®¢**æœ€ç›¸å…³çš„20ä¸‡æœ¬ä¹¦**ï¼ˆtop-20%ï¼‰
- å…¶ä½™80ä¸‡æœ¬ä¿æŒåŸæ ·
- **ä¼˜åŠ¿**ï¼šä¿æŠ¤ç»å…¸çŸ¥è¯†ï¼Œèšç„¦å…³é”®æ›´æ–°

**ChildTuning-F**ï¼š
- æ¯å¤©**éšæœºé€‰æ‹©**20%çš„ä¹¦è¿›è¡Œå®¡æŸ¥
- é•¿æœŸä¸‹æ¥ï¼Œæ¯æœ¬ä¹¦éƒ½æœ‰æœºä¼šè¢«æ›´æ–°ï¼Œä½†é¿å…äº†å•æ¬¡è¿‡åº¦ä¿®æ”¹
- **ä¼˜åŠ¿**ï¼šåˆ†æ•£é£é™©ï¼Œæ¸è¿›å¼æ”¹è¿›

**æ•°å­¦å¯¹åº”**ï¼š
- å›¾ä¹¦é¦† = å‚æ•°ç©ºé—´ $\boldsymbol{\theta} \in \mathbb{R}^d$
- æ¯æœ¬ä¹¦ = ä¸€ä¸ªå‚æ•° $\theta_i$
- ä¿®è®¢ = æ¢¯åº¦æ›´æ–° $\theta_i \leftarrow \theta_i - \eta g_i$
- é‡è¦æ€§è¯„ä¼° = Fisherä¿¡æ¯ $F_i$

</div>

<h4 id="32">3.2 å‡ ä½•æ„ä¹‰<a class="toc-link" href="#32" title="Permanent link">&para;</a></h4>
<p><strong>å‡ ä½•è§†è§’ï¼šå‚æ•°ç©ºé—´ä¸­çš„éšæœºè·¯å¾„</strong></p>
<div class="intuition-box">

åœ¨$d$ç»´å‚æ•°ç©ºé—´$\mathbb{R}^d$ä¸­ï¼Œä¼˜åŒ–æ˜¯ä¸€ä¸ªè½¨è¿¹$\{\boldsymbol{\theta}_0, \boldsymbol{\theta}_1, \ldots, \boldsymbol{\theta}_T\}$ã€‚

**æ™®é€šSGD/Adam**ï¼š
- æ¯æ­¥æ²¿ç€æ¢¯åº¦$\boldsymbol{g}_t$çš„æ–¹å‘ç§»åŠ¨
- è½¨è¿¹ç›¸å¯¹å¹³æ»‘

**æ¢¯åº¦Dropout**ï¼š
- æ¯æ­¥åªæ²¿$\boldsymbol{g}_t$åœ¨**éšæœºå­ç©ºé—´**ä¸­çš„æŠ•å½±ç§»åŠ¨
- è½¨è¿¹å‘ˆç°"ä¹‹å­—å½¢"ï¼ˆzigzagï¼‰

**ä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Ÿ**
- ä¹‹å­—å½¢è·¯å¾„æ›´å®¹æ˜“**é€ƒç¦»çª„è€Œæ·±çš„å±€éƒ¨æœ€ä¼˜**ï¼ˆover-fittingåŒºåŸŸï¼‰
- å€¾å‘äºæ”¶æ•›åˆ°**å®½è€Œæµ…çš„æœ€ä¼˜**ï¼ˆgood generalizationï¼‰

**æ•°å­¦è¡¨è¾¾**ï¼š

è®¾æŸå¤±å‡½æ•°åœ¨$\boldsymbol{\theta}^*$é™„è¿‘çš„Hessianä¸º$\boldsymbol{H}$ã€‚æ¢¯åº¦Dropoutçš„æœ‰æ•ˆHessianä¸ºï¼š

$$\boldsymbol{H}_{\text{eff}} = \mathbb{E}_{\boldsymbol{M}}[\boldsymbol{M} \odot \boldsymbol{H} \odot \boldsymbol{M}^T] = p \cdot \text{diag}(\boldsymbol{H})$$

å³ï¼Œæ¢¯åº¦Dropoutä½¿å¾—ä¼˜åŒ–**å¿½ç•¥äº†Hessiançš„éå¯¹è§’å…ƒç´ **ï¼Œå€¾å‘äºå¯»æ‰¾å„æ–¹å‘æ›²ç‡ç›¸è¿‘çš„æœ€ä¼˜ç‚¹ã€‚

</div>

<h4 id="33">3.3 å¤šè§’åº¦ç†è§£<a class="toc-link" href="#33" title="Permanent link">&para;</a></h4>
<p><strong>ğŸ“Š æ¦‚ç‡è®ºè§†è§’</strong></p>
<div class="intuition-box">

**æ¢¯åº¦Dropout = å‚æ•°çš„ä¼¯åŠªåˆ©éšæœºåŒ–**

å°†æ¯ä¸ªå‚æ•°çš„æ›´æ–°è§†ä¸ºä¼¯åŠªåˆ©è¯•éªŒï¼š

$$\Pr(\theta_i \text{ è¢«æ›´æ–°}) = p$$

**é›†æˆå­¦ä¹ è§£é‡Š**ï¼š

è®­ç»ƒè¿‡ç¨‹å¯ä»¥çœ‹ä½œå¯¹$2^d$ä¸ªå¯èƒ½çš„å­æ¨¡å‹è¿›è¡Œ**éšå¼é›†æˆ**ã€‚

</div>

<p><strong>ğŸ“¡ ä¿¡æ¯è®ºè§†è§’</strong></p>
<div class="intuition-box">

**å‚æ•°æ›´æ–° = ä¿¡æ¯ä¼ é€’**

æ¯æ¬¡æ¢¯åº¦æ›´æ–°å‘å‚æ•°ä¼ é€’$I(\boldsymbol{g}_t; \mathcal{D})$çš„ä¿¡æ¯ã€‚

**æ¢¯åº¦Dropoutçš„ä¿¡æ¯ç“¶é¢ˆ**ï¼š

åªä¼ é€’éƒ¨åˆ†ä¿¡æ¯ï¼š

$$I(\tilde{\boldsymbol{g}}_t; \mathcal{D}) \approx p \cdot I(\boldsymbol{g}_t; \mathcal{D})$$

ç±»ä¼¼äºä¿¡æ¯ç“¶é¢ˆç†è®ºï¼Œé™åˆ¶ä¿¡æ¯æµå¯ä»¥è¿‡æ»¤å™ªå£°ã€ä¿ç•™æ³›åŒ–æ‰€éœ€çš„å‹ç¼©è¡¨ç¤ºã€é˜²æ­¢è®°å¿†è®­ç»ƒæ•°æ®çš„ç»†èŠ‚ã€‚

</div>

<p><strong>ğŸ¯ ä¼˜åŒ–è§†è§’</strong></p>
<div class="intuition-box">

**æ¢¯åº¦Dropout = åæ ‡ä¸‹é™çš„éšæœºåŒ–ç‰ˆæœ¬**

æ¯æ­¥åªåœ¨éšæœºé€‰æ‹©çš„åæ ‡è½´ä¸Šè¿›è¡Œä¼˜åŒ–ã€‚

</div>

<hr />
<h3 id="4">ç¬¬4éƒ¨åˆ†ï¼šæ–¹æ³•è®ºå˜ä½“ã€æ‰¹åˆ¤æ€§æ¯”è¾ƒä¸ä¼˜åŒ–<a class="toc-link" href="#4" title="Permanent link">&para;</a></h3>
<h4 id="41_1">4.1 ä¸»æµå¾®è°ƒæ–¹æ³•å¯¹æ¯”è¡¨<a class="toc-link" href="#41_1" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æ ¸å¿ƒæ€æƒ³</th>
<th>ä¼˜ç‚¹</th>
<th><strong>ç¼ºé™·</strong></th>
<th><strong>ä¼˜åŒ–æ–¹å‘</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Full Fine-tuning</strong></td>
<td>æ›´æ–°æ‰€æœ‰å‚æ•°</td>
<td>âœ… æ€§èƒ½ä¸Šç•Œ<br>âœ… å®ç°ç®€å•</td>
<td>âŒ <strong>æ˜“è¿‡æ‹Ÿåˆ</strong>ï¼ˆå°æ•°æ®é›†ï¼‰<br>âŒ è®¡ç®—æˆæœ¬é«˜<br>âŒ ç ´åé¢„è®­ç»ƒçŸ¥è¯†</td>
<td>âœ… Early Stopping<br>âœ… é™ä½å­¦ä¹ ç‡<br>âœ… æ•°æ®å¢å¼º</td>
</tr>
<tr>
<td><strong>LoRA</strong></td>
<td>ä½ç§©çŸ©é˜µåˆ†è§£æ›´æ–°</td>
<td>âœ… å‚æ•°æå°‘ï¼ˆ&lt;1%ï¼‰<br>âœ… æ¨ç†æ— é¢å¤–å¼€é”€</td>
<td>âŒ <strong>è¡¨è¾¾èƒ½åŠ›å—é™</strong><br>âŒ ç§©$r$éš¾è°ƒ<br>âŒ å¤šä»»åŠ¡åˆ‡æ¢å¤æ‚</td>
<td>âœ… åŠ¨æ€ç§©é€‰æ‹©<br>âœ… å¤šLoRAèåˆ<br>âœ… LoRA+</td>
</tr>
<tr>
<td><strong>ChildTuning-D</strong></td>
<td>Fisherä¿¡æ¯é€‰æ‹©</td>
<td>âœ… ç†è®ºä¿è¯<br>âœ… ä»»åŠ¡å®šåˆ¶</td>
<td>âŒ <strong>è®¡ç®—Fisheræˆæœ¬é«˜</strong><br>âŒ éœ€è¦è®­ç»ƒæ•°æ®<br>âŒ å›ºå®šæ©ç ä¸çµæ´»</td>
<td>âœ… åœ¨çº¿Fisherä¼°è®¡<br>âœ… åŠ¨æ€è°ƒæ•´$p$<br>âœ… å±‚çº§é€‰æ‹©</td>
</tr>
<tr>
<td><strong>ChildTuning-F</strong></td>
<td>æ¢¯åº¦éšæœºDropout</td>
<td>âœ… ä»»åŠ¡æ— å…³<br>âœ… å®ç°ç®€å•ï¼ˆ1è¡Œä»£ç ï¼‰</td>
<td>âŒ <strong>ä¸Adamä¸å…¼å®¹</strong>ï¼ˆæ•ˆæœæ‰“æŠ˜ï¼‰<br>âŒ è¶…å‚æ•°$p$æ•æ„Ÿ<br>âŒ ç†è®ºè§£é‡Šä¸å®Œå¤‡</td>
<td>âœ… è‡ªé€‚åº”$p_t$<br>âœ… æ›´æ–°é‡Dropout<br>âœ… ç»“æ„åŒ–Dropout</td>
</tr>
</tbody>
</table>
<h4 id="42-childtuning-f-">4.2 ChildTuning-F - æ‰¹åˆ¤æ€§åˆ†æ<a class="toc-link" href="#42-childtuning-f-" title="Permanent link">&para;</a></h4>
<div class="analysis-box">

### **æ ¸å¿ƒç¼ºé™·**

**ç¼ºé™·1ï¼šä¸Adamä¼˜åŒ–å™¨ä¸å…¼å®¹ï¼ˆç†è®ºä¸å®è·µè„±èŠ‚ï¼‰**

**é—®é¢˜æè¿°**ï¼š
- åŸè®ºæ–‡åŸºäºSGDæ¨å¯¼ï¼Œè®¤ä¸ºæ¢¯åº¦Dropoutå¢å¤§æ›´æ–°é‡æ–¹å·®
- ä½†å®é™…ä½¿ç”¨Adamæ—¶ï¼Œæ•ˆæœæ°å¥½ç›¸åï¼šæ›´æ–°é‡å‡å°$\sqrt{p}$å€

**æ ¹æœ¬åŸå› **ï¼š

Adamçš„æ›´æ–°é‡ä¸º$\Delta \theta = \eta \frac{\boldsymbol{m}}{\sqrt{\boldsymbol{v}}}$

åº”ç”¨æ¢¯åº¦Dropoutåï¼Œæ›´æ–°é‡ç¼©å°è‡³$\sqrt{p}$å€ï¼Œç­‰æ•ˆäºå­¦ä¹ ç‡é™ä½ã€‚

**å®šé‡å½±å“**ï¼š
- $p=0.5$æ—¶ï¼Œæ›´æ–°é‡ç¼©å°è‡³åŸæ¥çš„$\sqrt{0.5} \approx 0.707$å€
- ç­‰æ•ˆäºå­¦ä¹ ç‡é™ä½30%

---

**ç¼ºé™·2ï¼šè¶…å‚æ•°$p$æ•æ„Ÿä¸”ç¼ºä¹é€‰æ‹©æŒ‡å¯¼**

**é—®é¢˜æè¿°**ï¼š
- ä¸åŒä»»åŠ¡/æ•°æ®é›†çš„æœ€ä¼˜$p$å·®å¼‚å·¨å¤§
- åŸè®ºæ–‡æœªæä¾›$p$çš„é€‰æ‹©å‡†åˆ™

**æ ¹æœ¬åŸå› **ï¼š

$p$å®é™…ä¸Šæ§åˆ¶äº†**æ­£åˆ™åŒ–å¼ºåº¦**ã€‚å°æ•°æ®é›†éœ€è¦å¼ºæ­£åˆ™åŒ–ï¼ˆå°$p$ï¼‰ï¼Œå¤§æ•°æ®é›†éœ€è¦å¼±æ­£åˆ™åŒ–ï¼ˆå¤§$p$ï¼‰ã€‚

---

**ç¼ºé™·3ï¼šåŠ¨é‡ä¼˜åŒ–å™¨ä¸‹æ›´æ–°ä¸å‡åŒ€**

**é—®é¢˜æè¿°**ï¼š
- æŸäº›å‚æ•°å¯èƒ½è¿ç»­å¤šæ­¥æœªè¢«é€‰ä¸­ï¼ˆæ¦‚ç‡$(1-p)^t$ï¼‰
- å¯¼è‡´è¿™äº›å‚æ•°ä¸¥é‡æ»åï¼Œå½±å“æ”¶æ•›

---

### **ä¼˜åŒ–æ–¹å‘**

**ä¼˜åŒ–1ï¼šæ›´æ–°é‡Dropoutæ›¿ä»£æ¢¯åº¦Dropout**

**ç­–ç•¥**ï¼š

ç›´æ¥å¯¹Adamè®¡ç®—å‡ºçš„æ›´æ–°é‡$\Delta\boldsymbol{\theta}$åº”ç”¨Dropoutï¼Œè€Œéæ¢¯åº¦ã€‚

**ç†è®ºä¼˜åŠ¿**ï¼š
- æ›´æ–°é‡Dropoutç›´æ¥æ§åˆ¶å‚æ•°å˜åŒ–ï¼Œä¸ä¼˜åŒ–å™¨æ— å…³
- åŸè®ºæ–‡çš„æ–¹å·®åˆ†æç›´æ¥é€‚ç”¨

---

**ä¼˜åŒ–2ï¼šè‡ªé€‚åº”Dropoutç‡$p_t$**

**ç­–ç•¥1ï¼šé€€ç«ç­–ç•¥ï¼ˆAnnealingï¼‰**

æ¨¡ä»¿å­¦ä¹ ç‡é€€ç«ï¼Œé€æ¸å‡å°$p$ï¼ˆåŠ å¼ºæ­£åˆ™åŒ–ï¼‰ï¼š

$$p_t = p_0 \cdot \left(1 - \frac{t}{T}\right)^\alpha$$

**ç­–ç•¥2ï¼šåŸºäºéªŒè¯é›†æŸå¤±åŠ¨æ€è°ƒæ•´**

---

**ä¼˜åŒ–3ï¼šç»“æ„åŒ–Dropoutï¼ˆStructured Dropoutï¼‰**

**ç­–ç•¥**ï¼š

ä¸åœ¨å‚æ•°çº§åˆ«éšæœºï¼Œè€Œåœ¨**ç»“æ„åŒ–å•å…ƒ**ï¼ˆå¦‚attention headã€FFNçš„ç¥ç»å…ƒï¼‰çº§åˆ«åº”ç”¨Dropoutã€‚

**ä¼˜ç‚¹**ï¼š
- æ›´ç¬¦åˆç¥ç»ç½‘ç»œçš„æ¨¡å—åŒ–ç»“æ„
- å‡å°‘æ©ç çš„éšæœºæ€§ï¼Œæå‡ç¨³å®šæ€§

---

**ä¼˜åŒ–4ï¼šæ··åˆç²¾åº¦Dropout**

**ç­–ç•¥**ï¼š

å¯¹ä¸åŒå±‚ä½¿ç”¨ä¸åŒçš„Dropoutç‡ï¼š

- åº•å±‚ï¼ˆEmbeddingå±‚ï¼‰ï¼š$p_{\text{low}} = 0.1$ï¼ˆå¼ºæ­£åˆ™åŒ–ï¼Œä¿æŠ¤é¢„è®­ç»ƒï¼‰
- ä¸­å±‚ï¼ˆTransformer Blocksï¼‰ï¼š$p_{\text{mid}} = 0.5$ï¼ˆé€‚åº¦æ­£åˆ™åŒ–ï¼‰
- é¡¶å±‚ï¼ˆClassifierï¼‰ï¼š$p_{\text{high}} = 0.8$ï¼ˆå¼±æ­£åˆ™åŒ–ï¼Œå……åˆ†é€‚åº”ä»»åŠ¡ï¼‰

</div>

<hr />
<h3 id="5_1">ç¬¬5éƒ¨åˆ†ï¼šå­¦ä¹ è·¯çº¿å›¾ä¸æœªæ¥å±•æœ›<a class="toc-link" href="#5_1" title="Permanent link">&para;</a></h3>
<h4 id="51">5.1 å­¦ä¹ è·¯çº¿å›¾<a class="toc-link" href="#51" title="Permanent link">&para;</a></h4>
<p><strong>å¿…å¤‡å‰ç½®çŸ¥è¯†</strong></p>
<p><strong>æ•°å­¦åŸºç¡€</strong>ï¼š
- æ¦‚ç‡è®ºï¼šæœŸæœ›ã€æ–¹å·®ã€ä¼¯åŠªåˆ©åˆ†å¸ƒã€å¤§æ•°å®šå¾‹
- ä¼˜åŒ–ç†è®ºï¼šSGDã€Adamã€åŠ¨é‡ã€æ”¶æ•›æ€§åˆ†æ
- çº¿æ€§ä»£æ•°ï¼šçŸ©é˜µåˆ†è§£ã€æŠ•å½±</p>
<p><strong>æœºå™¨å­¦ä¹ åŸºç¡€</strong>ï¼š
- æ­£åˆ™åŒ–ï¼šL1/L2æ­£åˆ™ã€Dropoutã€Early Stopping
- å¾®è°ƒæŠ€æœ¯ï¼šTransfer Learningã€é¢„è®­ç»ƒ-å¾®è°ƒèŒƒå¼
- Fisherä¿¡æ¯ï¼šä¸Hessiançš„å…³ç³»ã€å‚æ•°é‡è¦æ€§åº¦é‡</p>
<p><strong>æ¨èå­¦ä¹ é¡ºåº</strong>ï¼š</p>
<ol>
<li><strong>ç†è§£Dropout</strong>ï¼ˆç»å…¸è®ºæ–‡ï¼šHinton et al. 2012ï¼‰</li>
<li><strong>å­¦ä¹ Adamä¼˜åŒ–å™¨</strong>ï¼ˆKingma &amp; Ba, 2014ï¼‰</li>
<li><strong>æŒæ¡Fisherä¿¡æ¯</strong>ï¼ˆç»Ÿè®¡å­¦ä¹ ç†è®ºï¼‰</li>
<li><strong>å®è·µBERTå¾®è°ƒ</strong>ï¼ˆè·‘é€šbaselineä»£ç ï¼‰</li>
<li><strong>é˜…è¯»ChildTuningè®ºæ–‡</strong>ï¼ˆXu et al., 2021ï¼‰</li>
<li><strong>å®ç°æ¢¯åº¦Dropout</strong>ï¼ˆä¿®æ”¹ä¼˜åŒ–å™¨ï¼‰</li>
</ol>
<hr />
<p><strong>æ ¸å¿ƒè®ºæ–‡åˆ—è¡¨ï¼ˆæŒ‰æ—¶é—´é¡ºåºï¼‰</strong></p>
<p><strong>ç†è®ºå¥ åŸº</strong>ï¼š
1. Hinton et al. (2012) - "Improving neural networks" â­ï¼ˆDropoutï¼‰
2. Kingma &amp; Ba (2014) - "Adam" â­
3. Kirkpatrick et al. (2017) - "EWC" (Fisherä¿¡æ¯åº”ç”¨)</p>
<p><strong>å¾®è°ƒæŠ€æœ¯</strong>ï¼š
4. Howard &amp; Ruder (2018) - "ULMFiT"
5. Houlsby et al. (2019) - "Adapter"
6. Hu et al. (2021) - "LoRA" â­</p>
<p><strong>æ¢¯åº¦æ“ä½œ</strong>ï¼š
7. Chen et al. (2020) - "Gradient Dropout in Meta-Learning"
8. Frankle &amp; Carbin (2019) - "Lottery Ticket Hypothesis"</p>
<p><strong>ChildTuning</strong>ï¼š
9. Xu et al. (2021) - "ChildTuning" â­</p>
<hr />
<h4 id="52">5.2 ç ”ç©¶ç©ºç™½ä¸æœªæ¥æ–¹å‘<a class="toc-link" href="#52" title="Permanent link">&para;</a></h4>
<h4 id="1-dropout"><strong>æ–¹å‘1ï¼šç†è®ºå±‚é¢ - æ¢¯åº¦Dropoutçš„æ”¶æ•›æ€§ç†è®º</strong><a class="toc-link" href="#1-dropout" title="Permanent link">&para;</a></h4>
<p><strong>ç ”ç©¶ç©ºç™½</strong>ï¼š
- å½“å‰ç¼ºä¹æ¢¯åº¦Dropoutåœ¨<strong>éå‡¸ä¼˜åŒ–</strong>ï¼ˆç¥ç»ç½‘ç»œï¼‰ä¸‹çš„æ”¶æ•›æ€§è¯æ˜
- Adam + æ¢¯åº¦Dropoutçš„ç†è®ºåˆ†æå‡ ä¹ç©ºç™½
- æœ€ä¼˜Dropoutç‡$p^*$çš„ç†è®ºé€‰æ‹©å‡†åˆ™ç¼ºå¤±</p>
<p><strong>å…·ä½“ç ”ç©¶é—®é¢˜</strong>ï¼š</p>
<ol>
<li>
<p><strong>é—®é¢˜</strong>ï¼šæ¢¯åº¦Dropoutåœ¨éå‡¸æŸå¤±ä¸‹çš„æ”¶æ•›é€Ÿåº¦æ˜¯å¤šå°‘ï¼Ÿ
   - <strong>æŒ‘æˆ˜</strong>ï¼šéå‡¸ + éšæœºç¨€ç–æ¢¯åº¦ï¼Œä¼ ç»Ÿåˆ†æå·¥å…·å¤±æ•ˆ
   - <strong>æ½œåœ¨æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>å€Ÿé‰´åæ ‡ä¸‹é™çš„æ”¶æ•›æ€§åˆ†ææ¡†æ¶</li>
<li>åˆ©ç”¨Polyak-Åojasiewicz (PL)æ¡ä»¶</li>
<li>åˆ†æ"æœŸæœ›å¹³æ»‘æ€§"</li>
<li><strong>æ½œåœ¨æ„ä¹‰</strong>ï¼šå»ºç«‹æ”¶æ•›ä¿è¯ï¼ŒæŒ‡å¯¼$p$å’Œå­¦ä¹ ç‡çš„é€‰æ‹©</li>
</ul>
</li>
<li>
<p><strong>é—®é¢˜</strong>ï¼šå¦‚ä½•ç†è®ºä¸Šé€‰æ‹©æœ€ä¼˜$p^<em>$ï¼Ÿ
   - </em><em>ç°çŠ¶</em><em>ï¼šåªèƒ½é€šè¿‡éªŒè¯é›†æœç´¢
   - </em><em>æ¢ç´¢æ–¹å‘</em>*ï¼š</p>
<ul>
<li>æ¨å¯¼$p^*$ä¸æ•°æ®é›†å¤§å°$N$ã€å‚æ•°é‡$d$çš„å…³ç³»</li>
<li>æ˜¯å¦å­˜åœ¨$p^* \propto \sqrt{N/d}$çš„å…³ç³»ï¼Ÿ</li>
</ul>
</li>
</ol>
<p><strong>é‡åŒ–ç›®æ ‡</strong>ï¼š
- æ¨å¯¼å½¢å¦‚$\mathbb{E}[\mathcal{L}(\boldsymbol{\theta}_T)] - \mathcal{L}^<em> \leq O(1/\sqrt{pT})$çš„æ”¶æ•›ç•Œ
- å»ºç«‹$p^</em>$çš„ç†è®ºå…¬å¼</p>
<hr />
<h4 id="2-"><strong>æ–¹å‘2ï¼šæ•ˆç‡å±‚é¢ - é›¶å¼€é”€çš„å‚æ•°é€‰æ‹©</strong><a class="toc-link" href="#2-" title="Permanent link">&para;</a></h4>
<p><strong>ç ”ç©¶ç©ºç™½</strong>ï¼š
- ChildTuning-Déœ€è¦é¢å¤–è®¡ç®—Fisherä¿¡æ¯
- èƒ½å¦<strong>å¤ç”¨</strong>è®­ç»ƒè¿‡ç¨‹ä¸­å·²æœ‰çš„ä¿¡æ¯ï¼Ÿ</p>
<p><strong>å…·ä½“ç ”ç©¶é—®é¢˜</strong>ï¼š</p>
<ol>
<li><strong>é—®é¢˜</strong>ï¼šèƒ½å¦ç”¨æ¢¯åº¦çš„æ»‘åŠ¨å¹³å‡æ›¿ä»£Fisherä¿¡æ¯ï¼Ÿ
   - <strong>ä¼˜åŒ–æ–¹å‘</strong>ï¼š<ul>
<li>Adamå·²ç»ç»´æŠ¤$\boldsymbol{v}<em t-1="t-1">t = \beta_2 \boldsymbol{v}</em>_t^2$} + (1-\beta_2) \boldsymbol{g</li>
<li>ç›´æ¥ä½¿ç”¨$\boldsymbol{v}_t$ä½œä¸ºé‡è¦æ€§æŒ‡æ ‡</li>
<li>é›¶é¢å¤–è®¡ç®—ï¼</li>
</ul>
</li>
</ol>
<p><strong>é‡åŒ–ç›®æ ‡</strong>ï¼š
- Fisherè®¡ç®—å¼€é”€ä»1 epoché™è‡³&lt;0.1 epoch</p>
<hr />
<h4 id="3-"><strong>æ–¹å‘3ï¼šåº”ç”¨å±‚é¢ - å¤šæ¨¡æ€ä¸å¤§æ¨¡å‹å¾®è°ƒ</strong><a class="toc-link" href="#3-" title="Permanent link">&para;</a></h4>
<p><strong>ç ”ç©¶ç©ºç™½</strong>ï¼š
- ChildTuningä¸»è¦åœ¨NLPæ–‡æœ¬åˆ†ç±»ä¸ŠéªŒè¯ï¼Œ<strong>è§†è§‰ã€å¤šæ¨¡æ€</strong>ä»»åŠ¡æ•ˆæœå¦‚ä½•ï¼Ÿ
- å¯¹äºè¶…å¤§æ¨¡å‹ï¼ˆå¦‚GPT-3ã€LLaMAï¼‰ï¼Œæ¢¯åº¦Dropoutæ˜¯å¦ä¾ç„¶æœ‰æ•ˆï¼Ÿ</p>
<p><strong>å…·ä½“ç ”ç©¶é—®é¢˜</strong>ï¼š</p>
<ol>
<li>
<p><strong>é—®é¢˜</strong>ï¼šæ¢¯åº¦Dropoutåœ¨è§†è§‰ä»»åŠ¡ï¼ˆå¦‚ViTå¾®è°ƒï¼‰ä¸Šçš„æ•ˆæœï¼Ÿ
   - <strong>æ½œåœ¨åº”ç”¨</strong>ï¼šImageNetå¾®è°ƒã€åŒ»å­¦å›¾åƒåˆ†ç±»</p>
</li>
<li>
<p><strong>é—®é¢˜</strong>ï¼šè¶…å¤§æ¨¡å‹ï¼ˆ100B+å‚æ•°ï¼‰ä¸‹çš„å¯è¡Œæ€§ï¼Ÿ
   - <strong>æŒ‘æˆ˜</strong>ï¼šå‚æ•°é‡å·¨å¤§ï¼Œå†…å­˜é™åˆ¶
   - <strong>é‡åŒ–ç›®æ ‡</strong>ï¼šåœ¨LLaMA-70Bä¸ŠéªŒè¯ï¼Œå†…å­˜å¢åŠ &lt;10%</p>
</li>
</ol>
<hr />
<h4 id="_12"><strong>æ½œåœ¨åº”ç”¨åœºæ™¯</strong><a class="toc-link" href="#_12" title="Permanent link">&para;</a></h4>
<p><strong>NLPé¢†åŸŸ</strong>ï¼š
- å°‘æ ·æœ¬æ–‡æœ¬åˆ†ç±»ï¼ˆFew-shot Learningï¼‰
- å¤šè¯­è¨€æ¨¡å‹å¾®è°ƒ
- å¯¹è¯ç³»ç»Ÿï¼ˆä¸ªæ€§åŒ–å¾®è°ƒï¼‰</p>
<p><strong>è®¡ç®—æœºè§†è§‰</strong>ï¼š
- ViTå¾®è°ƒï¼ˆImageNetï¼‰
- åŒ»å­¦å›¾åƒåˆ†ç±»
- è§†é¢‘ç†è§£</p>
<p><strong>å¤šæ¨¡æ€</strong>ï¼š
- CLIPå¾®è°ƒ
- VQAï¼ˆè§†è§‰é—®ç­”ï¼‰
- æ–‡æœ¬åˆ°å›¾åƒç”Ÿæˆ</p>
<hr />
<h3 id="_13">æ€»ç»“<a class="toc-link" href="#_13" title="Permanent link">&para;</a></h3>
<p>ChildTuningé€šè¿‡å°†Dropoutå¼•å…¥æ¢¯åº¦ï¼Œæä¾›äº†ä¸€ç§ç®€æ´è€Œæœ‰æ•ˆçš„å¾®è°ƒæ­£åˆ™åŒ–æ–¹æ³•ï¼š</p>
<p><strong>æ ¸å¿ƒè¦ç‚¹</strong>ï¼š
1. <strong>ä¸¤ç§æ¨¡å¼</strong>ï¼šChildTuning-Dï¼ˆFisherä¿¡æ¯é€‰æ‹©ï¼‰+ ChildTuning-Fï¼ˆæ¢¯åº¦Dropoutï¼‰
2. <strong>ç†è®ºåŸºç¡€</strong>ï¼šå­ç½‘ç»œå……åˆ†æ€§ã€ç¨€ç–æ€§åŸåˆ™ã€Fisherä¿¡æ¯
3. <strong>å…³é”®æ´å¯Ÿ</strong>ï¼šä¸æ˜¯æ‰€æœ‰å‚æ•°éƒ½éœ€è¦åœ¨æ¯ä¸€æ­¥æ›´æ–°
4. <strong>å®è·µä»·å€¼</strong>ï¼šç®€å•ï¼ˆ1è¡Œä»£ç ï¼‰ã€æœ‰æ•ˆï¼ˆå°æ•°æ®é›†æå‡æ˜æ˜¾ï¼‰
5. <strong>å±€é™æ€§</strong>ï¼šä¸Adamä¸å®Œå…¨å…¼å®¹ã€è¶…å‚æ•°æ•æ„Ÿã€ç†è®ºä¸å®Œå¤‡</p>
<p><strong>æœªæ¥æ–¹å‘</strong>ï¼š
- ç†è®ºï¼šæ”¶æ•›æ€§ã€æœ€ä¼˜$p$é€‰æ‹©
- æ•ˆç‡ï¼šé›¶å¼€é”€å‚æ•°é€‰æ‹©
- åº”ç”¨ï¼šå¤šæ¨¡æ€ã€è¶…å¤§æ¨¡å‹ã€ä¸LoRAç»“åˆ
- å¯è§£é‡Šæ€§ï¼šå‚æ•°é€‰æ‹©æœºåˆ¶
- é²æ£’æ€§ï¼šå¯¹æŠ—æ”»å‡»ã€åˆ†å¸ƒåç§»
- æ–°æ¶æ„ï¼šå¯å­¦ä¹ æ©ç ã€å…ƒå­¦ä¹ </p>
<p>æ¢¯åº¦Dropoutä»£è¡¨äº†ä¸€ç§"ä¼˜åŒ–å±‚é¢çš„æ­£åˆ™åŒ–"æ€è·¯ï¼ŒåŒºåˆ«äºä¼ ç»Ÿçš„"æŸå¤±å‡½æ•°æ­£åˆ™åŒ–"å’Œ"æ¶æ„æ­£åˆ™åŒ–"ã€‚éšç€å¤§æ¨¡å‹æ—¶ä»£çš„åˆ°æ¥ï¼Œå¦‚ä½•é«˜æ•ˆã€é²æ£’åœ°å¾®è°ƒå°†æ˜¯æ ¸å¿ƒé—®é¢˜ï¼ŒChildTuningåŠå…¶è¡ç”Ÿæ–¹æ³•æœ‰æœ›åœ¨å…¶ä¸­æ‰®æ¼”é‡è¦è§’è‰²ã€‚</p>
                </div>

                <!-- Previous/Next Navigation -->
                <nav class="post-navigation" aria-label="æ–‡ç« å¯¼èˆª">
                    <div class="row g-3">
                        <div class="col-6">
                            
                            <a href="wganæ–°æ–¹æ¡ˆé€šè¿‡æ¢¯åº¦å½’ä¸€åŒ–æ¥å®ç°lçº¦æŸ.html" class="nav-link-prev">
                                <div class="nav-direction"><i class="fas fa-chevron-left"></i> ä¸Šä¸€ç¯‡</div>
                                <div class="nav-title">#152 WGANæ–°æ–¹æ¡ˆï¼šé€šè¿‡æ¢¯åº¦å½’ä¸€åŒ–æ¥å®ç°Lçº¦æŸ</div>
                            </a>
                            
                        </div>
                        <div class="col-6">
                            
                            <a href="dropoutè§†è§’ä¸‹çš„mlmå’Œmaeä¸€äº›æ–°çš„å¯å‘.html" class="nav-link-next">
                                <div class="nav-direction">ä¸‹ä¸€ç¯‡ <i class="fas fa-chevron-right"></i></div>
                                <div class="nav-title">#154 Dropoutè§†è§’ä¸‹çš„MLMå’ŒMAEï¼šä¸€äº›æ–°çš„å¯å‘</div>
                            </a>
                            
                        </div>
                    </div>
                </nav>

                <!-- Back to Home -->
                <div class="text-center mt-4 mb-4">
                    <a href="../index.html" class="btn btn-outline-primary">
                        <i class="fas fa-arrow-left"></i> è¿”å›é¦–é¡µ
                    </a>
                </div>
            </div>

            <!-- Sidebar (TOC) -->
            <div class="col-lg-3">
                <aside class="sidebar">
                    
                    <div class="toc-sidebar">
                        <h5 class="toc-title"><i class="fas fa-list"></i> ç›®å½•</h5>
                        <div class="toc-content">
                            <div class="toc">
<ul>
<li><a href="#childtuningdropout">ChildTuningï¼šè¯•è¯•æŠŠDropoutåŠ åˆ°æ¢¯åº¦ä¸Šå»ï¼Ÿ</a><ul>
<li><a href="#_1">æ–¹æ³•å¤§æ„</a><ul>
<li><a href="#childtuning-d">ChildTuning-D</a></li>
<li><a href="#childtuning-f">ChildTuning-F</a></li>
</ul>
</li>
<li><a href="#_2">å®éªŒç»“æœ</a></li>
<li><a href="#_3">åŸç†æ€è€ƒ</a><ul>
<li><a href="#_4">è®ºæ–‡æ¨å¯¼</a></li>
<li><a href="#_5">ç­”éæ‰€é—®</a></li>
<li><a href="#_6">ä¸ªäººç†è§£</a></li>
</ul>
</li>
<li><a href="#_7">å°è¯•ä¸€ä¸‹</a></li>
<li><a href="#_8">æ–‡ç« æ€»ç»“</a></li>
<li><a href="#_9">å…¬å¼æ¨å¯¼ä¸æ³¨é‡Š</a><ul>
<li><a href="#1">ç¬¬1éƒ¨åˆ†:æ ¸å¿ƒç†è®ºã€å…¬ç†ä¸å†å²åŸºç¡€</a></li>
<li><a href="#2">ç¬¬2éƒ¨åˆ†:ä¸¥è°¨çš„æ ¸å¿ƒæ•°å­¦æ¨å¯¼</a></li>
</ul>
</li>
<li><a href="#_10">è¯¦ç»†æ•°å­¦æ¨å¯¼</a><ul>
<li><a href="#1-childtuning">1. ChildTuningçš„æ•°å­¦åŸç†</a></li>
<li><a href="#2-dropout">2. æ¢¯åº¦Dropoutçš„å®Œæ•´æ¨å¯¼</a></li>
<li><a href="#3-sgd">3. SGDä¸‹çš„ç†è®ºåˆ†æ</a></li>
<li><a href="#4-adam">4. Adamä¼˜åŒ–å™¨ä¸‹çš„åˆ†æ</a></li>
<li><a href="#5">5. ç¨€ç–æ€§ä¸æ­£åˆ™åŒ–æ•ˆåº”</a></li>
<li><a href="#6">6. ä¸å…¶ä»–æ­£åˆ™åŒ–æ–¹æ³•çš„å¯¹æ¯”</a></li>
<li><a href="#7-fisher">7. Fisherä¿¡æ¯çš„æ·±å…¥åˆ†æ</a></li>
<li><a href="#8-dropout">8. åŠ¨é‡ä¸æ¢¯åº¦Dropoutçš„äº¤äº’</a></li>
<li><a href="#9">9. æ•°å€¼ç¤ºä¾‹ä¸è®¡ç®—</a></li>
<li><a href="#10">10. è¶…å‚æ•°æ•æ„Ÿåº¦</a></li>
<li><a href="#11_2">11. æ³›åŒ–è¯¯å·®åˆ†æ</a></li>
<li><a href="#12_1">12. å®è·µå»ºè®®</a></li>
<li><a href="#13_1">13. å¼€æ”¾é—®é¢˜</a></li>
</ul>
</li>
<li><a href="#_11">æ€»ç»“</a><ul>
<li><a href="#3">ç¬¬3éƒ¨åˆ†ï¼šæ•°å­¦ç›´è§‰ã€å¤šè§’åº¦è§£é‡Šä¸ç±»æ¯”</a></li>
<li><a href="#4">ç¬¬4éƒ¨åˆ†ï¼šæ–¹æ³•è®ºå˜ä½“ã€æ‰¹åˆ¤æ€§æ¯”è¾ƒä¸ä¼˜åŒ–</a></li>
<li><a href="#5_1">ç¬¬5éƒ¨åˆ†ï¼šå­¦ä¹ è·¯çº¿å›¾ä¸æœªæ¥å±•æœ›</a></li>
<li><a href="#_13">æ€»ç»“</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

                        </div>
                        <div class="toc-actions">
                            <button class="btn btn-sm btn-outline-secondary" onclick="expandAll()">
                                <i class="fas fa-expand"></i> å…¨éƒ¨å±•å¼€
                            </button>
                            <button class="btn btn-sm btn-outline-secondary" onclick="collapseAll()">
                                <i class="fas fa-compress"></i> å…¨éƒ¨æŠ˜å 
                            </button>
                        </div>
                    </div>
                    

                    <!-- Back to Top Button -->
                    <button id="backToTop" class="back-to-top" title="å›åˆ°é¡¶éƒ¨">
                        <i class="fas fa-arrow-up"></i>
                    </button>
                </aside>
            </div>
        </div>
    </article>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>
                åšå®¢æ¥æº: <a href="https://spaces.ac.cn" target="_blank">ç§‘å­¦ç©ºé—´</a> |
                å†…å®¹ç»è¿‡æ•´ç†å¹¶æ·»åŠ è¯¦ç»†æ•°å­¦æ¨å¯¼
            </p>
            <p>
                Powered by <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>
            </p>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Syntax highlighting -->
    <script>hljs.highlightAll();</script>

    <!-- Back to top functionality -->
    <script>
        // Show/hide back to top button based on scroll position
        window.addEventListener('scroll', function() {
            const backToTop = document.getElementById('backToTop');
            if (window.pageYOffset > 300) {
                backToTop.classList.add('show');
            } else {
                backToTop.classList.remove('show');
            }
        });

        // Smooth scroll to top
        document.getElementById('backToTop').addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Sticky TOC sidebar
        window.addEventListener('scroll', function() {
            const sidebar = document.querySelector('.sidebar');
            if (!sidebar) return;

            const sidebarTop = sidebar.offsetTop;
            const scrollTop = window.pageYOffset;

            if (scrollTop > sidebarTop - 20) {
                sidebar.classList.add('sticky');
            } else {
                sidebar.classList.remove('sticky');
            }
        });
    </script>
</body>
</html>