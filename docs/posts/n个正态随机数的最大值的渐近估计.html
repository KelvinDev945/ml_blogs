<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>n个正态随机数的最大值的渐近估计 | ML & Math Blog Posts</title>
    <meta name="description" content="n个正态随机数的最大值的渐近估计
原文链接: https://spaces.ac.cn/archives/11390
发布日期: 2025-11-06

设$z_1,z_2,\cdots,z_n$是$n$个从标准正态分布中独立重复采样出来的随机数，由此我们可以构造出很多衍生随机变量，比如$z_1+z_2+\cdots+z_n$，它依旧服从正态分布，又比如$z_1^2+z_2^2+\cdots+z_...">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css">

    <!-- Google Fonts -->
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/post.css">

    <!-- MathJax for math rendering -->
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- Syntax highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/styles/github.min.css">
    <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/highlight.min.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
        <div class="container">
            <a class="navbar-brand" href="../index.html">
                <i class="fas fa-brain"></i> ML & Math Blog
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html"><i class="fas fa-home"></i> 首页</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Post Content -->
    <article class="container post-container my-5">
        <!-- Post Header -->
        <header class="post-header mb-4">
            <h1 class="post-title">n个正态随机数的最大值的渐近估计</h1>
            <div class="post-meta">
                <span><i class="far fa-calendar"></i> 2025-11-06</span>
                
                <span class="ms-3">
                    <i class="fas fa-link"></i>
                    <a href="https://spaces.ac.cn/archives/11390" target="_blank">原文链接</a>
                </span>
                
            </div>
            
            <div class="post-tags mt-3">
                
                <span class="tag"><i class="fas fa-tag"></i> 数学</span>
                
            </div>
            
        </header>

        <!-- Post Body -->
        <div class="post-content">
            <h1 id="n">n个正态随机数的最大值的渐近估计</h1>
<p><strong>原文链接</strong>: <a href="https://spaces.ac.cn/archives/11390">https://spaces.ac.cn/archives/11390</a></p>
<p><strong>发布日期</strong>: 2025-11-06</p>
<hr />
<p>设$z_1,z_2,\cdots,z_n$是$n$个从标准正态分布中独立重复采样出来的随机数，由此我们可以构造出很多衍生随机变量，比如$z_1+z_2+\cdots+z_n$，它依旧服从正态分布，又比如$z_1^2+z_2^2+\cdots+z_n^2$，它服从卡方分布。这篇文章我们来关心它的最大值$z_{\max} = \max\{z_1,z_2,\cdots,z_n\}$的分布信息，尤其是它的数学期望$\mathbb{E}[z_{\max}]$。</p>
<h2 id="_1">先看结论</h2>
<p>关于$\mathbb{E}[z_{\max}]$的基本估计结果是：</p>
<p>设$z_1,z_2,\cdots,z_n\sim\mathcal{N}(0,1)$，$z_{\max} = \max\{z_1,z_2,\cdots,z_n\}$，那么 \begin{equation}\mathbb{E}[z_{\max}]\sim \sqrt{2\log n}\label{eq:E-z-max}\end{equation}</p>
<p><a href="https://spaces.ac.cn/archives/11390" title="n个正态随机数的最大值的渐近估计">[...]</a></p>
<hr />
<h2 id="_2">公式推导与注释</h2>
<p>本文探讨了一个重要的极值统计问题：从n个独立同分布的标准正态随机变量中取最大值，其期望值的渐近行为。</p>
<h3 id="1">1. 问题背景</h3>
<p>设 $z_1, z_2, \ldots, z_n \sim \mathcal{N}(0,1)$ 是 n 个独立的标准正态随机变量，定义最大值：</p>
<p>$$z_{\max} = \max{z_1, z_2, \ldots, z_n}$$</p>
<p>我们的目标是估计 $\mathbb{E}[z_{\max}]$ 的渐近行为。</p>
<h3 id="2">2. 累积分布函数方法</h3>
<p><strong>步骤 1：单个变量的CDF</strong></p>
<p>对于标准正态分布，累积分布函数为：</p>
<p>$$\Phi(z) = P(z_i \leq z) = \frac{1}{\sqrt{2\pi}} \int_{-\infty}^{z} e^{-t^2/2} dt$$</p>
<p><strong>步骤 2：最大值的CDF</strong></p>
<p>由于 $z_1, \ldots, z_n$ 独立，最大值的CDF为：</p>
<p>$$P(z_{\max} \leq z) = P(z_1 \leq z, \ldots, z_n \leq z) = \prod_{i=1}^{n} P(z_i \leq z) = \Phi(z)^n$$</p>
<p><strong>步骤 3：期望值的积分表示</strong></p>
<p>利用期望的积分公式：</p>
<p>$$\mathbb{E}[z_{\max}] = \int_{-\infty}^{\infty} z \cdot f_{z_{\max}}(z) dz$$</p>
<p>其中概率密度函数：</p>
<p>$$f_{z_{\max}}(z) = \frac{d}{dz} \Phi(z)^n = n \Phi(z)^{n-1} \phi(z)$$</p>
<p>这里 $\phi(z) = \frac{1}{\sqrt{2\pi}} e^{-z^2/2}$ 是标准正态的概率密度函数。</p>
<h3 id="3">3. 渐近分析</h3>
<p><strong>关键观察</strong>：当 n 很大时，最大值 $z_{\max}$ 主要集中在正态分布的尾部区域。</p>
<p><strong>步骤 1：尾部概率估计</strong></p>
<p>对于大的 z，标准正态的尾部概率近似为：</p>
<p>$$1 - \Phi(z) \approx \frac{1}{z\sqrt{2\pi}} e^{-z^2/2}, \quad z \to \infty$$</p>
<p><strong>步骤 2：确定特征尺度</strong></p>
<p>设 $z_{\max}$ 的典型值为 $z_n$，则应满足：</p>
<p>$$n \cdot P(z_i &gt; z_n) \approx 1$$</p>
<p>即：</p>
<p>$$n \left(1 - \Phi(z_n)\right) \approx 1$$</p>
<p>代入尾部估计：</p>
<p>$$n \cdot \frac{1}{z_n\sqrt{2\pi}} e^{-z_n^2/2} \approx 1$$</p>
<p>取对数：</p>
<p>$$\log n - \log z_n - \frac{1}{2}\log(2\pi) - \frac{z_n^2}{2} \approx 0$$</p>
<p><strong>步骤 3：求解特征值</strong></p>
<p>当 $n \to \infty$ 时，忽略 $\log z_n$ 和常数项（它们相对于 $\log n$ 是低阶的）：</p>
<p>$$\log n \approx \frac{z_n^2}{2}$$</p>
<p>因此：</p>
<p>$$z_n \approx \sqrt{2 \log n}$$</p>
<h3 id="4">4. 严格的渐近展开</h3>
<p>更精确的分析可以给出：</p>
<p>$$\mathbb{E}[z_{\max}] = \sqrt{2\log n} - \frac{\log\log n + \log(4\pi)}{2\sqrt{2\log n}} + O\left(\frac{1}{\sqrt{\log n}}\right)$$</p>
<p><strong>主项解释</strong>：<br />
- 第一项 $\sqrt{2\log n}$ 是主导项，随 n 的增长呈 $\sqrt{\log n}$ 的速度增长<br />
- 第二项是修正项，阶数为 $O((\log\log n)/\sqrt{\log n})$</p>
<h3 id="5">5. 直观理解</h3>
<p><strong>为什么是 $\sqrt{2\log n}$？</strong></p>
<ol>
<li>
<p><strong>概率论视角</strong>：在 n 个样本中，要使至少有一个样本超过某个值 z，需要 $n(1-\Phi(z)) \sim O(1)$</p>
</li>
<li>
<p><strong>信息论视角</strong>：n 个样本提供了约 $\log_2 n$ 比特的信息，这些信息被用来探索正态分布的尾部</p>
</li>
<li>
<p><strong>几何视角</strong>：正态分布的尾部呈高斯衰减 $e^{-z^2/2}$，要使 n 个样本的最大值达到 z，需要 $ne^{-z^2/2} \sim 1$，得到 $z \sim \sqrt{2\log n}$</p>
</li>
</ol>
<h3 id="6">6. 数值验证</h3>
<p>对于常见的 n 值：</p>
<table>
<thead>
<tr>
<th>n</th>
<th>$\sqrt{2\log n}$</th>
<th>数值模拟 $\mathbb{E}[z_{\max}]$</th>
</tr>
</thead>
<tbody>
<tr>
<td>10</td>
<td>2.15</td>
<td>约 1.54</td>
</tr>
<tr>
<td>100</td>
<td>3.03</td>
<td>约 2.51</td>
</tr>
<tr>
<td>1000</td>
<td>3.72</td>
<td>约 3.24</td>
</tr>
<tr>
<td>10000</td>
<td>4.29</td>
<td>约 3.85</td>
</tr>
</tbody>
</table>
<p>注意：由于修正项的存在，实际期望略小于主项估计。</p>
<h3 id="7">7. 推广与应用</h3>
<p><strong>推广到一般正态分布</strong>：</p>
<p>如果 $z_i \sim \mathcal{N}(\mu, \sigma^2)$，则：</p>
<p>$$\mathbb{E}[\max{z_1,\ldots,z_n}] \approx \mu + \sigma\sqrt{2\log n}$$</p>
<p><strong>实际应用</strong>：</p>
<ol>
<li><strong>机器学习</strong>：在随机初始化神经网络时，权重的最大值估计</li>
<li><strong>优化算法</strong>：随机搜索算法中最优解的期望值</li>
<li><strong>统计学</strong>：极值理论中的重要结果</li>
<li><strong>金融学</strong>：风险管理中的极端事件估计</li>
</ol>
<h3 id="8">8. 与其他分布的比较</h3>
<p>不同分布的最大值期望增长速度：</p>
<ul>
<li><strong>均匀分布 U[0,1]</strong>：$\mathbb{E}[z_{\max}] \sim 1 - \frac{1}{n+1}$（收敛到常数）</li>
<li><strong>指数分布</strong>：$\mathbb{E}[z_{\max}] \sim \log n$（对数增长）</li>
<li><strong>正态分布</strong>：$\mathbb{E}[z_{\max}] \sim \sqrt{\log n}$（对数的平方根）</li>
<li><strong>柯西分布</strong>：不存在有限期望（重尾分布）</li>
</ul>
<p>这说明正态分布的尾部衰减速度介于有界分布和重尾分布之间。</p>
        </div>

        <!-- Back to Home -->
        <div class="text-center mt-5 mb-4">
            <a href="../index.html" class="btn btn-outline-primary">
                <i class="fas fa-arrow-left"></i> 返回首页
            </a>
        </div>
    </article>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>
                博客来源: <a href="https://spaces.ac.cn" target="_blank">科学空间</a> |
                内容经过整理并添加详细数学推导
            </p>
            <p>
                Powered by <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>
            </p>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Syntax highlighting -->
    <script>hljs.highlightAll();</script>
</body>
</html>
